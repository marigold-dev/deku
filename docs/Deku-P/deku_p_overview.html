<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Deku-P/deku_p_overview">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Deku-P Overview | Deku</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://deku-docs.marigold.dev/docs/Deku-P/deku_p_overview"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deku-P Overview | Deku"><meta data-rh="true" name="description" content="Deku-P is a framework for building high-performance sidechains for Tezos."><meta data-rh="true" property="og:description" content="Deku-P is a framework for building high-performance sidechains for Tezos."><link data-rh="true" rel="icon" href="https://uploads-ssl.webflow.com/616ab4741d375d1642c19027/617952f8510cfc45cbf09312_Favicon(3)(1).png"><link data-rh="true" rel="canonical" href="https://deku-docs.marigold.dev/docs/Deku-P/deku_p_overview"><link data-rh="true" rel="alternate" href="https://deku-docs.marigold.dev/docs/Deku-P/deku_p_overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://deku-docs.marigold.dev/docs/Deku-P/deku_p_overview" hreflang="x-default"><script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js" async></script>
<script src="https://www.tezbridge.com/plugin.js" async></script><link rel="stylesheet" href="/assets/css/styles.e56e9bac.css">
<link rel="preload" href="/assets/js/runtime~main.928e5f9c.js" as="script">
<link rel="preload" href="/assets/js/main.271abf40.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_oPtH">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/deku-logo.svg" alt="Deku" class="themedImage_BQGR themedImage--light_HAxW"><img src="/img/deku-logo.svg" alt="Deku" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebar_CUen"><nav class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/deku-canonical">Deku Canonical</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deku Canonical&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/deku-parametric">Deku Parametric</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deku Parametric&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Deku-P/dekup_quickstart">Quick-start with Deku-P</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Deku-P/deku_p_overview">Deku-P Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Deku-P/architecture">Deku-P Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Deku-P/vm_protocol">The Deku-P VM Protocol</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li></ul></nav></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GlTw"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/deku-parametric"><span itemprop="name">Deku Parametric</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deku-P Overview</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deku-P Overview</h1><p>Deku-P is a framework for building high-performance sidechains for Tezos.
By providing a binary that adheres to a simple protocol, developers
can design their own application-specific virtual machines in any programming language
and run them as Proof-of-Authority blockchains with full access to the Tezos ecosystem.</p><p>In this article, we&#x27;ll give an overview of Deku-P&#x27;s main concepts.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="what-is-a-sidechain">What is a sidechain?<a class="hash-link" href="#what-is-a-sidechain" title="Direct link to heading">​</a></h2><p>A sidechain is a blockchain with a <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#light-node" target="_blank" rel="noopener noreferrer">light client</a>
embedded in a host blockchain. In the case of Deku-P sidechains, the light client is written as a smart contract deployed
to Tezos called the bridge contract. Each sidechain has its own bridge contract.
Deku-P validator nodes receive transactions from users, organize them into blocks, and execute them to determine a new state.
Additionally, they periodically post their block headers to the bridge contract, allowing Tezos to witness the
state of sidechain&#x27;s consensus.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="deku-p-consensus">Deku-P consensus<a class="hash-link" href="#deku-p-consensus" title="Direct link to heading">​</a></h2><p>Deku-P sidechains use a Tendermint-based consensus to order blocks.
This algorithm is based on Proof-of-Authority - a group of trusted parties are selected ahead of time,
and only the blocks with a 2/3rds supermajority of signatures from these parties are accepted. The bridge
contract on Tezos acts as an oracle by which users can identify who the current validators are for a particular
sidechain at any given moment.</p><p>While the bridge contract mechanism works similarly to rollups, Deku-P sidechains require a greater trust
threshold (supermajority, as opposed to any-trust). However, unlike with rollups, a sidechain&#x27;s
block production is decoupled from Tezos, unlocking much greater bandwidth and lower latency (you can read more
about this in <a href="/docs/Deku-P/architecture">the architecture doc</a>).</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="tezos-interop">Tezos Interop<a class="hash-link" href="#tezos-interop" title="Direct link to heading">​</a></h2><p>Users can deposit Tezos assets in the form of <a href="https://www.marigold.dev/post/tickets-for-dummies" target="_blank" rel="noopener noreferrer">tickets</a> to Deku-P chains
by locking them in the bridge contract&#x27;s vault. Deposits are finalized and available on the sidechain in the span of a single
Tezos finality period (two Tezos blocks).</p><p>Users can withdraw assets from Deku-P chains to Tezos by burning them on the Deku side. Burn receipts are collected
into a <a href="https://en.wikipedia.org/wiki/Merkle_tree" target="_blank" rel="noopener noreferrer">Merkle root hash</a> and included in the Deku block headers. When the block
is posted to the Tezos bridge contract, users can present a Merkle proof witnessing the inclusion of their receipt
and finalize their withdraw on Tezos.</p><p>In exchange for requiring less trust, withdraws from interactive rollups are bound to the
worst-case latency of the interactive refutation game and can take weeks to finalize. Withdraws from Deku-P sidechains
are finalized and available on Tezos in two Tezos blocks (about a minute).</p><p>Virtually any Tezos asset can be wrapped in a ticket and deposited to Deku. <a href="https://ghostnet.tzportal.marigold.dev/" target="_blank" rel="noopener noreferrer">TzPortal</a>
provides a user-friendly interface automating the process of wrapping FA1.2 and FA2 tokens in tickets and depositing to/withdrawing from
Deku-P sidechains.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="deku-p-virtual-machines">Deku-P Virtual Machines<a class="hash-link" href="#deku-p-virtual-machines" title="Direct link to heading">​</a></h2><p>While Tezos is specialized to run the Michelson virtual machine and Ethereum specialized to run EVM, Deku-P is <em>parametric</em>
with respect to the virtual machine it runs. Deku nodes assemble user transactions into blocks and submit them to
the VM - transaction semantics are left entirely up to you.</p><p>Deku VM&#x27;s communicate with the node over <a href="https://en.wikipedia.org/wiki/Named_pipe" target="_blank" rel="noopener noreferrer">named pipes</a>. When a transaction
is finalized, it is sent to the VM, which responds with a series of reads and writes to the underlying data store. The VM
can implement any business logic you desire, but it must be completely deterministic, else individual nodes could get out of
sync, compromising the safety of the network.</p><p>We have SDK&#x27;s in Typescript, Go and OCaml, but supporting new languages is easy - see the <a href="/docs/Deku-P/vm_protocol">VM protocol docs</a>
for more.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h2><p>It&#x27;s useful to compare/contrast Deku-P sidechains with Tezos itself and with rollups:</p><table><thead><tr><th></th><th>Tezos</th><th>Rollups</th><th>Deku-P</th></tr></thead><tbody><tr><td>Additional Trust Beyond Tezos</td><td>N/A</td><td>any-trust</td><td>2/3rd supermajority</td></tr><tr><td>Block Latency</td><td>30s</td><td>30s (coupled to Tezos)</td><td>2s</td></tr><tr><td>Throughput</td><td>200 tx/s</td><td>1000 tx/s</td><td>50,000 tx/s</td></tr><tr><td>Possible to run in private?</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td>Language Support</td><td>Ligo, SmartPy, et al.</td><td>same as Tezos + WASM</td><td>Any language</td></tr><tr><td>Deposit Latency</td><td>N/A</td><td>1 min</td><td>1 min</td></tr><tr><td>Withdraw Latency</td><td>N/A</td><td>two weeks</td><td>1 min</td></tr></tbody></table><p>Sidechains require additional trust but in exchange offer more flexibility, lower latency,
and higher bandwidth.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/../docs/Deku-P/deku_p_overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pbO5"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Deku-P/dekup_quickstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick-start with Deku-P</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Deku-P/architecture"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deku-P Architecture</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-sidechain" class="table-of-contents__link toc-highlight">What is a sidechain?</a></li><li><a href="#deku-p-consensus" class="table-of-contents__link toc-highlight">Deku-P consensus</a></li><li><a href="#tezos-interop" class="table-of-contents__link toc-highlight">Tezos Interop</a></li><li><a href="#deku-p-virtual-machines" class="table-of-contents__link toc-highlight">Deku-P Virtual Machines</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.928e5f9c.js"></script>
<script src="/assets/js/main.271abf40.js"></script>
</body>
</html>