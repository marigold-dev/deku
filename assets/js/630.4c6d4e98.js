/*! For license information please see 630.4c6d4e98.js.LICENSE.txt */
(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[630],{66952:(t,e,r)=>{"use strict";r.d(e,{$N:()=>lu});var i,n=r(14206),s=r.n(n);function o(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}!function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.MULTI_STATUS=207]="MULTI_STATUS",t[t.ALREADY_REPORTED=208]="ALREADY_REPORTED",t[t.IM_USED=226]="IM_USED",t[t.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.USE_PROXY=305]="USE_PROXY",t[t.SWITCH_PROXY=306]="SWITCH_PROXY",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.LOCKED=423]="LOCKED",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",t[t.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",t[t.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",t[t.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",t[t.LOOP_DETECTED=508]="LOOP_DETECTED",t[t.NOT_EXTENDED=510]="NOT_EXTENDED",t[t.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(i||(i={}));var a;!function(t){t.TEXT="text",t.JSON="json"}(a||(a={}));class c extends Error{constructor(t,e,r,i,n){super(t),this.message=t,this.status=e,this.statusText=r,this.body=i,this.url=n,this.name="HttpResponse"}}class h extends Error{constructor(t){super(t),this.errorDetail=t,this.name="HttpRequestFailed"}}class u{constructor(t=3e4){this.timeout=t}serialize(t){if(!t)return"";const e=[];for(const i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]){const r="function"==typeof t[i].toJSON?t[i].toJSON():t[i];if(null===r){e.push(encodeURIComponent(i));continue}if(Array.isArray(r)){r.forEach((t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))}));continue}e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}const r=e.join("&");return r?`?${r}`:""}createRequest({url:t,method:e,timeout:r=this.timeout,query:i,headers:n={},json:u=!0},f){return o(this,void 0,void 0,(function*(){let o,d;n["Content-Type"]||(n["Content-Type"]="application/json"),u?o=a.JSON:(o=a.TEXT,d=[t=>t]);try{return(yield s().request({url:t+this.serialize(i),method:null!=e?e:"GET",headers:n,responseType:o,transformResponse:d,timeout:r,data:f})).data}catch(l){if(s().isAxiosError(l)&&l.response){let e;throw e="object"==typeof l.response.data?JSON.stringify(l.response.data):l.response.data,new c(`Http error response: (${l.response.status}) ${e}`,l.response.status,l.response.statusText,e,t+this.serialize(i))}throw new h(l)}}))}}var f,d=r(23961),l=r(30816),p=(r(40603),r(9685),r(87483)),b=r.n(p),g=r(80429),m=r.n(g);r(29749),r(4792);!function(t){t.TZ1="tz1",t.TZ2="tz2",t.TZ3="tz3",t.TZ4="tz4",t.KT="KT",t.KT1="KT1",t.EDSK2="edsk2",t.SPSK="spsk",t.P2SK="p2sk",t.EDPK="edpk",t.SPPK="sppk",t.P2PK="p2pk",t.BLPK="BLpk",t.EDESK="edesk",t.SPESK="spesk",t.P2ESK="p2esk",t.EDSK="edsk",t.EDSIG="edsig",t.SPSIG="spsig",t.P2SIG="p2sig",t.SIG="sig",t.NET="Net",t.NCE="nce",t.B="B",t.O="o",t.LO="Lo",t.LLO="LLo",t.P="P",t.CO="Co",t.ID="id",t.EXPR="expr",t.TZ="TZ",t.VH="vh",t.TXR1="txr1",t.TXI="txi",t.TXM="txm",t.TXC="txc",t.TXMR="txmr",t.TXRL="txM",t.TXW="txw"}(f||(f={}));const y={[f.TZ1]:new Uint8Array([6,161,159]),[f.TZ2]:new Uint8Array([6,161,161]),[f.TZ3]:new Uint8Array([6,161,164]),[f.TZ4]:new Uint8Array([6,161,166]),[f.KT]:new Uint8Array([2,90,121]),[f.KT1]:new Uint8Array([2,90,121]),[f.EDSK]:new Uint8Array([43,246,78,7]),[f.EDSK2]:new Uint8Array([13,15,58,7]),[f.SPSK]:new Uint8Array([17,162,224,201]),[f.P2SK]:new Uint8Array([16,81,238,189]),[f.EDPK]:new Uint8Array([13,15,37,217]),[f.SPPK]:new Uint8Array([3,254,226,86]),[f.P2PK]:new Uint8Array([3,178,139,127]),[f.BLPK]:new Uint8Array([6,149,135,204]),[f.EDESK]:new Uint8Array([7,90,60,179,41]),[f.SPESK]:new Uint8Array([9,237,241,174,150]),[f.P2ESK]:new Uint8Array([9,48,57,115,171]),[f.EDSIG]:new Uint8Array([9,245,205,134,18]),[f.SPSIG]:new Uint8Array([13,115,101,19,63]),[f.P2SIG]:new Uint8Array([54,240,44,52]),[f.SIG]:new Uint8Array([4,130,43]),[f.NET]:new Uint8Array([87,82,0]),[f.NCE]:new Uint8Array([69,220,169]),[f.B]:new Uint8Array([1,52]),[f.O]:new Uint8Array([5,116]),[f.LO]:new Uint8Array([133,233]),[f.LLO]:new Uint8Array([29,159,109]),[f.P]:new Uint8Array([2,170]),[f.CO]:new Uint8Array([79,179]),[f.ID]:new Uint8Array([153,103]),[f.EXPR]:new Uint8Array([13,44,64,27]),[f.TZ]:new Uint8Array([2,90,121]),[f.VH]:new Uint8Array([1,106,242]),[f.TXR1]:new Uint8Array([1,128,120,31]),[f.TXI]:new Uint8Array([79,148,196]),[f.TXM]:new Uint8Array([79,149,30]),[f.TXC]:new Uint8Array([79,148,17]),[f.TXMR]:new Uint8Array([18,7,206,87]),[f.TXRL]:new Uint8Array([79,146,82]),[f.TXW]:new Uint8Array([79,150,72])},v={[f.TZ1]:20,[f.TZ2]:20,[f.TZ3]:20,[f.TZ4]:20,[f.KT]:20,[f.KT1]:20,[f.EDPK]:32,[f.SPPK]:33,[f.P2PK]:33,[f.BLPK]:48,[f.EDSIG]:64,[f.SPSIG]:64,[f.P2SIG]:64,[f.SIG]:64,[f.NET]:4,[f.B]:32,[f.P]:32,[f.O]:32,[f.VH]:32,[f.TXR1]:20,[f.TXI]:32,[f.TXM]:32,[f.TXC]:32,[f.TXMR]:32,[f.TXRL]:32,[f.TXW]:32};class _ extends Error{constructor(t,e){super(`The key ${t} is invalid. ${e}`),this.key=t,this.errorDetail=e,this.name="InvalidKeyError"}}class w extends Error{constructor(t,e){super(`The public key '${t}' is invalid. ${e}`),this.publicKey=t,this.name="InvalidPublicKeyError"}}class E extends Error{constructor(t,e){super(`The signature '${t}' is invalid (${e})`),this.signature=t,this.name="InvalidSignatureError"}}class A extends Error{constructor(t,e){super(`The message '${t}' is invalid. ${e}`),this.msg=t,this.errorDetail=e,this.name="InvalidMessageError"}}class S extends Error{constructor(t){super(`The contract address '${t}' is invalid`),this.contractAddress=t,this.name="InvalidContractAddressError"}}class T extends Error{constructor(t){super(`The address '${t}' is invalid`),this.address=t,this.name="InvalidAddressError"}}class O extends Error{constructor(t){super(`The chain id '${t}' is invalid`),this.chainId=t,this.name="InvalidChainIdError"}}class x extends Error{constructor(t){super(`The public key hash '${t}' is invalid`),this.keyHash=t,this.name="InvalidKeyHashError"}}class I extends Error{constructor(t){super(`The block hash '${t}' is invalid`),this.blockHash=t,this.name="InvalidBlockHashError"}}class R extends Error{constructor(t){super(`The protocol hash '${t}' is invalid`),this.protocolHash=t,this.name="InvalidProtocolHashError"}}class P extends Error{constructor(t){super(`The operation hash '${t}' is invalid`),this.operationHash=t,this.name="InvalidOperationHashError"}}class L extends Error{constructor(t){super(`The operation kind '${t}' is unsupported`),this.operationKind=t,this.name="InvalidOperationKindError"}}class M extends Error{constructor(t){super(t),this.message=t,this.name="DeprecationError"}}class k extends Error{constructor(t){super(t),this.message=t,this.name="ProhibitedActionError"}}class N extends Error{constructor(t,e){super(`Unable to convert ${t} to a ${e}`),this.value=t,this.desiredType=e,this.name="ValueConversionError"}}var C;function U(t,e){const r=new RegExp(`^(${e.join("|")})`).exec(t);if(!r||0===r.length)return C.NO_PREFIX_MATCHED;const i=r[0];if(!function(t){return"string"==typeof t&&t in y}(i))return C.NO_PREFIX_MATCHED;const n=/^(KT1\w{33})(%(.*))?/.exec(t);n&&(t=n[1]);let s=m().decodeUnsafe(t);return s?(s=s.slice(y[i].length),s.length!==v[i]?C.INVALID_LENGTH:C.VALID):C.INVALID_CHECKSUM}!function(t){t[t.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",t[t.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",t[t.INVALID_LENGTH=2]="INVALID_LENGTH",t[t.VALID=3]="VALID"}(C||(C={}));const B=[f.TZ1,f.TZ2,f.TZ3,f.TZ4],D=[f.KT1,f.TXR1],j=[f.EDSIG,f.P2SIG,f.SPSIG,f.SIG],H=[f.EDPK,f.SPPK,f.P2PK,f.BLPK],K=[f.O],$=(f.P,[f.B]);function G(t){return U(t,[...B,...D])}function F(t){return U(t,[f.NET])}function V(t){return U(t,D)}function z(t){return U(t,B)}function q(t){return U(t,j)}function Z(t){return U(t,H)}function X(t){return U(t,K)}function Y(t,e){const r="string"==typeof t?Uint8Array.from(l.Buffer.from(t,"hex")):t,i=new Uint8Array(e.length+r.length);return i.set(e),i.set(r,e.length),m().encode(l.Buffer.from(i.buffer))}const W=(t,e)=>m().decode(t).slice(e.length);function J(t){if("00"===t.substring(0,2)){const e={"0000":y.tz1,"0001":y.tz2,"0002":y.tz3};return Y(t.substring(4),e[t.substring(0,4)])}return"02"===t.substring(0,2)?Y(t.substring(2,t.length-2),y.txr1):Y(t.substring(2,42),y.KT)}function Q(t){return Y(t,y.tz4)}function tt(t){if("0"===t[0]){const e={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return Y(t.substring(2),e[t.substring(0,2)])}}const et=t=>{const e=t.match(/[\da-f]{2}/gi);if(e)return new Uint8Array(e.map((t=>parseInt(t,16))));throw new N(t,"Uint8Array")},rt=t=>{const e=new Uint8Array(t),r=[];return e.forEach((t=>{const e=`00${t.toString(16)}`.slice(-2);r.push(e)})),r.join("")};function it(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function nt(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}const st={block:"head"};var ot;function at(t,e){const r=Array.isArray(t);void 0===e&&(e=Object.keys(t));const i=r?[]:{};return e.forEach((e=>{const r=t[e];let n;if(void 0!==r){if(Array.isArray(r))return n=at(r),void(i[e]=n);n=new d.Z(r),i[e]=n}})),i}!function(t){t.GET_BAKING_RIGHTS="getBakingRights",t.GET_BALLOTS="getBallots",t.GET_BALLOT_LIST="getBallotList",t.GET_BIG_MAP_KEY="getBigMapKey",t.GET_BIG_MAP_EXPR="getBigMapExpr",t.GET_BLOCK_HASH="getBlockHash",t.GET_BLOCK="getBlock",t.GET_BLOCK_HEADER="getBlockHeader",t.GET_BLOCK_METADATA="getBlockMetadata",t.GET_BALANCE="getBalance",t.GET_CHAIN_ID="getChainId",t.GET_CONSTANTS="getConstants",t.GET_CONTRACT="getContract",t.GET_CURRENT_PERIOD="getCurrentPeriod",t.GET_CURRENT_PROPOSAL="getCurrentProposal",t.GET_CURRENT_QUORUM="getCurrentQuorum",t.GET_DELEGATE="getDelegate",t.GET_DELEGATES="getDelegates",t.GET_ENDORSING_RIGHTS="getEndorsingRights",t.GET_ENTRYPOINTS="getEntrypoints",t.GET_LIVE_BLOCKS="getLiveBlocks",t.GET_MANAGER_KEY="getManagerKey",t.GET_NORMALIZED_SCRIPT="getNormalizedScript",t.GET_PROPOSALS="getProposals",t.GET_PROTOCOLS="getProtocols",t.GET_SAPLING_DIFF_BY_CONTRACT="getSaplingDiffByContract",t.GET_SAPLING_DIFF_BY_ID="getSaplingDiffById",t.GET_SCRIPT="getScript",t.GET_STORAGE="getStorage",t.GET_SUCCESSOR_PERIOD="getSuccessorPeriod",t.GET_TX_ROLLUP_INBOX="getTxRollupInbox",t.GET_TX_ROLLUP_STATE="getTxRollupState",t.GET_VOTES_LISTINGS="getVotesListings",t.PACK_DATA="packData"}(ot||(ot={}));var ct,ht,ut;!function(t){t.TOO_LARGE="too large"}(ct||(ct={})),function(t){t.BAKING_REWARDS="baking rewards",t.REWARDS="rewards",t.FEES="fees",t.DEPOSITS="deposits",t.LEGACY_REWARDS="legacy_rewards",t.LEGACY_FEES="legacy_fees",t.LEGACY_DEPOSITS="legacy_deposits",t.BLOCK_FEES="block fees",t.NONCE_REVELATION_REWARDS="nonce revelation rewards",t.DOUBLE_SIGNING_EVIDENCE_REWARDS="double signing evidence rewards",t.ENDORSING_REWARDS="endorsing rewards",t.BAKING_BONUSES="baking bonuses",t.STORAGE_FEES="storage fees",t.PUNISHMENTS="punishments",t.LOST_ENDORSING_REWARDS="lost endorsing rewards",t.SUBSIDY="subsidy",t.BURNED="burned",t.COMMITMENT="commitment",t.BOOTSTRAP="bootstrap",t.INVOICE="invoice",t.MINTED="minted",t.TX_ROLLUP_REJECTION_REWARDS="tx_rollup_rejection_rewards",t.TX_ROLLUP_REJECTION_PUNISHMENTS="tx_rollup_rejection_punishments",t.BONDS="bonds"}(ht||(ht={})),function(t){t.ORIGINATION="origination",t.DELEGATION="delegation",t.REVEAL="reveal",t.TRANSACTION="transaction",t.ACTIVATION="activate_account",t.ENDORSEMENT="endorsement",t.PREENDORSEMENT="preendorsement",t.SET_DEPOSITS_LIMIT="set_deposits_limit",t.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",t.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",t.SEED_NONCE_REVELATION="seed_nonce_revelation",t.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",t.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",t.PROPOSALS="proposals",t.BALLOT="ballot",t.FAILING_NOOP="failing_noop",t.REGISTER_GLOBAL_CONSTANT="register_global_constant",t.TX_ROLLUP_ORIGINATION="tx_rollup_origination",t.TX_ROLLUP_SUBMIT_BATCH="tx_rollup_submit_batch",t.TX_ROLLUP_COMMIT="tx_rollup_commit",t.TX_ROLLUP_RETURN_BOND="tx_rollup_return_bond",t.TX_ROLLUP_FINALIZE_COMMITMENT="tx_rollup_finalize_commitment",t.TX_ROLLUP_REMOVE_COMMITMENT="tx_rollup_remove_commitment",t.TX_ROLLUP_REJECTION="tx_rollup_rejection",t.TX_ROLLUP_DISPATCH_TICKETS="tx_rollup_dispatch_tickets",t.TRANSFER_TICKET="transfer_ticket"}(ut||(ut={}));class ft{constructor(t,e="main",r=new u){this.url=t,this.chain=e,this.httpBackend=r}createURL(t){return`${this.url.replace(/\/+$/g,"")}${t}`}validateAddress(t){if(G(t)!==C.VALID)throw new T(t)}validateContract(t){if(V(t)!==C.VALID)throw new T(t)}getBlockHash({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/hash`),method:"GET"})}))}getLiveBlocks({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/live_blocks`),method:"GET"})}))}getBalance(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){this.validateAddress(t);const r=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/balance`),method:"GET"});return new d.Z(r)}))}getStorage(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.validateContract(t),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/storage`),method:"GET"})}))}getScript(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.validateContract(t),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/script`),method:"GET"})}))}getNormalizedScript(t,e={unparsing_mode:"Readable"},{block:r}=st){return nt(this,void 0,void 0,(function*(){return this.validateContract(t),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${r}/context/contracts/${t}/script/normalized`),method:"POST"},e)}))}getContract(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){this.validateAddress(t);const r=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}`),method:"GET"});return Object.assign(Object.assign({},r),{balance:new d.Z(r.balance)})}))}getManagerKey(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.validateAddress(t),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/manager_key`),method:"GET"})}))}getDelegate(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){let r;this.validateAddress(t);try{r=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/delegate`),method:"GET"})}catch(n){if(!(n instanceof c&&n.status===i.NOT_FOUND))throw n;r=null}return r}))}getBigMapKey(t,e,{block:r}=st){return nt(this,void 0,void 0,(function*(){return this.validateAddress(t),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${r}/context/contracts/${t}/big_map_get`),method:"POST"},e)}))}getBigMapExpr(t,e,{block:r}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${r}/context/big_maps/${t}/${e}`),method:"GET"})}))}getDelegates(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){this.validateAddress(t);const r=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/delegates/${t}`),method:"GET"}),i=at(r,["balance","full_balance","current_frozen_deposits","frozen_deposits","frozen_balance","frozen_deposits_limit","staking_balance","delegated_balance","voting_power"]);return Object.assign(Object.assign(Object.assign({},r),i),{frozen_balance_by_cycle:r.frozen_balance_by_cycle?r.frozen_balance_by_cycle.map((t=>{var{deposit:e,deposits:r,fees:i,rewards:n}=t,s=it(t,["deposit","deposits","fees","rewards"]);const o=at({deposit:e,deposits:r,fees:i,rewards:n},["deposit","deposits","fees","rewards"]);return Object.assign(Object.assign({},s),{deposit:o.deposit,deposits:o.deposits,fees:o.fees,rewards:o.rewards})})):void 0})}))}getConstants({block:t}=st){return nt(this,void 0,void 0,(function*(){const e=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/context/constants`),method:"GET"}),r=at(e,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy","cache_layout","baking_reward_fixed_portion","baking_reward_bonus_per_slot","endorsing_reward_per_slot","double_baking_punishment","delay_increment_per_round","tx_rollup_commitment_bond"]);return Object.assign(Object.assign({},e),r)}))}getBlock({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}`),method:"GET"})}))}getBlockHeader({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/header`),method:"GET"})}))}getBlockMetadata({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/metadata`),method:"GET"})}))}getBakingRights(t={},{block:e}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/baking_rights`),method:"GET",query:t})}))}getEndorsingRights(t={},{block:e}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/endorsing_rights`),method:"GET",query:t})}))}getBallotList({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/ballot_list`),method:"GET"})}))}getBallots({block:t}=st){return nt(this,void 0,void 0,(function*(){return at(yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/ballots`),method:"GET"}),["yay","nay","pass"])}))}getCurrentProposal({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/current_proposal`),method:"GET"})}))}getCurrentQuorum({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/current_quorum`),method:"GET"})}))}getVotesListings({block:t}=st){return nt(this,void 0,void 0,(function*(){const e=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/listings`),method:"GET"});return e.map((t=>(t.voting_power&&(t.voting_power=new d.Z(t.voting_power)),t))),e}))}getProposals({block:t}=st){return nt(this,void 0,void 0,(function*(){const e=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/proposals`),method:"GET"});return e.map((t=>t[1]=new d.Z(t[1]))),e}))}forgeOperations(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/forge/operations`),method:"POST"},t)}))}injectOperation(t){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},t)}))}preapplyOperations(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/preapply/operations`),method:"POST"},t)}))}getEntrypoints(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){this.validateContract(t);return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/entrypoints`),method:"GET"})}))}runOperation(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/scripts/run_operation`),method:"POST"},t)}))}runCode(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/scripts/run_code`),method:"POST"},t)}))}runView(t,{block:e}=st){var{unparsing_mode:r="Readable"}=t,i=it(t,["unparsing_mode"]);return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/scripts/run_view`),method:"POST"},Object.assign({unparsing_mode:r},i))}))}getChainId(){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/chain_id`),method:"GET"})}))}packData(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){const r=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/helpers/scripts/pack_data`),method:"POST"},t),{gas:i}=r,n=it(r,["gas"]);let s=i;const o=new d.Z(i||"");return o.isNaN()||(s=o),Object.assign({gas:s},n)}))}getRpcUrl(){return this.url}getCurrentPeriod({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/current_period`),method:"GET"})}))}getSuccessorPeriod({block:t}=st){return nt(this,void 0,void 0,(function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/votes/successor_period`),method:"GET"})}))}getSaplingDiffById(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/sapling/${t}/get_diff`),method:"GET"})}))}getSaplingDiffByContract(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/contracts/${t}/single_sapling_get_diff`),method:"GET"})}))}getProtocols({block:t}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${t}/protocols`),method:"GET"})}))}getTxRollupState(t,{block:e}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${e}/context/tx_rollup/${t}/state`),method:"GET"})}))}getTxRollupInbox(t,e,{block:r}=st){return nt(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${r}/context/tx_rollup/${t}/inbox/${e}`),method:"GET"})}))}}var dt=r(98036);var lt=r(42545),pt=r(76535);var bt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function gt(t){return t}function mt(t){return 0===t.length?gt:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var yt=r(79910),vt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var i=this.operator,n=function(t,e,r){if(t){if(t instanceof dt.L)return t;if(t[lt.b])return t[lt.b]()}return t||e||r?new dt.L(t,e,r):new dt.L(pt.c)}(t,e,r);if(i?n.add(i.call(n,this.source)):n.add(this.source||yt.v.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),yt.v.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){yt.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,i=e.destination,n=e.isStopped;if(r||n)return!1;t=i&&i instanceof dt.L?i:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=_t(e))((function(e,i){var n;n=r.subscribe((function(e){try{t(e)}catch(r){i(r),n&&n.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[bt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:mt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=_t(t))((function(t,r){var i;e.subscribe((function(t){return i=t}),(function(t){return r(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}();function _t(t){if(t||(t=yt.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var wt=r(72217),Et=r(57812),At=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),St=function(t){function e(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return wt.ZT(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Et.w),Tt=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return wt.ZT(e,t),e}(dt.L),Ot=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return wt.ZT(e,t),e.prototype[lt.b]=function(){return new Tt(this)},e.prototype.lift=function(t){var e=new xt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new At;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new At;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new At;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;i<e;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new At;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new At;return this.hasError?(t.error(this.thrownError),Et.w.EMPTY):this.isStopped?(t.complete(),Et.w.EMPTY):(this.observers.push(t),new St(this,t))},e.prototype.asObservable=function(){var t=new vt;return t.source=this,t},e.create=function(t,e){return new xt(t,e)},e}(vt),xt=function(t){function e(e,r){var i=t.call(this)||this;return i.destination=e,i.source=r,i}return wt.ZT(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Et.w.EMPTY},e}(Ot),It=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return wt.ZT(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(n){r=!0,i=!!n&&n||new Error(n)}if(r)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return wt.ZT(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Et.w)),Rt=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return wt.ZT(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(It),Pt=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),Lt=function(t){function e(r,i){void 0===i&&(i=Pt.now);var n=t.call(this,r,(function(){return e.delegate&&e.delegate!==n?e.delegate.now():i()}))||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return wt.ZT(e,t),e.prototype.schedule=function(r,i,n){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,i,n):t.prototype.schedule.call(this,r,i,n)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Pt),Mt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt.ZT(e,t),e}(Lt))(Rt),kt=new vt((function(t){return t.complete()}));function Nt(t){return t?function(t){return new vt((function(e){return t.schedule((function(){return e.complete()}))}))}(t):kt}function Ct(t){return t&&"function"==typeof t.schedule}var Ut,Bt=function(t){return function(e){for(var r=0,i=t.length;r<i&&!e.closed;r++)e.next(t[r]);e.complete()}};function Dt(t,e){return new vt((function(r){var i=new Et.w,n=0;return i.add(e.schedule((function(){n!==t.length?(r.next(t[n++]),r.closed||i.add(this.schedule())):r.complete()}))),i}))}function jt(t,e){return e?Dt(t,e):new vt(Bt(t))}function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ct(r)?(t.pop(),Dt(t,r)):jt(t)}function Kt(t,e){return new vt(e?function(r){return e.schedule($t,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function $t(t){var e=t.error;t.subscriber.error(e)}Ut||(Ut={});var Gt=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Ht(this.value);case"E":return Kt(this.error);case"C":return Nt()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var Ft=function(t){function e(e,r,i){void 0===i&&(i=0);var n=t.call(this,e)||this;return n.scheduler=r,n.delay=i,n}return wt.ZT(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new Vt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Gt.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Gt.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Gt.createComplete()),this.unsubscribe()},e}(dt.L),Vt=function(){return function(t,e){this.notification=t,this.destination=e}}(),zt=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return wt.ZT(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new qt(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;if(this.closed)throw new At;if(this.isStopped||this.hasError?e=Et.w.EMPTY:(this.observers.push(t),e=new St(this,t)),n&&t.add(t=new Ft(t,n)),r)for(var o=0;o<s&&!t.closed;o++)t.next(i[o]);else for(o=0;o<s&&!t.closed;o++)t.next(i[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Mt).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,s=0;s<n&&!(t-i[s].time<r);)s++;return n>e&&(s=Math.max(s,n-e)),s>0&&i.splice(0,s),i},e}(Ot),qt=function(){return function(t,e){this.time=t,this.value=e}}(),Zt=r(94224);function Xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Yt=Xt(),Wt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Jt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Qt=r(79582),te=function(t){if(t&&"function"==typeof t[bt])return i=t,function(t){var e=i[bt]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Wt(t))return Bt(t);if(Jt(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Zt.z),t};if(t&&"function"==typeof t[Yt])return e=t,function(t){for(var r=e[Yt]();;){var i=void 0;try{i=r.next()}catch(n){return t.error(n),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,i,n=(0,Qt.K)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function ee(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[bt]}(t))return function(t,e){return new vt((function(r){var i=new Et.w;return i.add(e.schedule((function(){var n=t[bt]();i.add(n.subscribe({next:function(t){i.add(e.schedule((function(){return r.next(t)})))},error:function(t){i.add(e.schedule((function(){return r.error(t)})))},complete:function(){i.add(e.schedule((function(){return r.complete()})))}}))}))),i}))}(t,e);if(Jt(t))return function(t,e){return new vt((function(r){var i=new Et.w;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){r.next(t),i.add(e.schedule((function(){return r.complete()})))})))}),(function(t){i.add(e.schedule((function(){return r.error(t)})))}))}))),i}))}(t,e);if(Wt(t))return Dt(t,e);if(function(t){return t&&"function"==typeof t[Yt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new vt((function(r){var i,n=new Et.w;return n.add((function(){i&&"function"==typeof i.return&&i.return()})),n.add(e.schedule((function(){i=t[Yt](),n.add(e.schedule((function(){if(!r.closed){var t,e;try{var n=i.next();t=n.value,e=n.done}catch(s){return void r.error(s)}e?r.complete():(r.next(t),this.schedule())}})))}))),n}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function re(t,e){return e?ee(t,e):t instanceof vt?t:new vt(te(t))}function ie(t){return new vt((function(e){var r;try{r=t()}catch(i){return void e.error(i)}return(r?re(r):Nt()).subscribe(e)}))}var ne=r(17733),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt.ZT(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(dt.L),oe=function(t){function e(e,r,i){var n=t.call(this)||this;return n.parent=e,n.outerValue=r,n.outerIndex=i,n.index=0,n}return wt.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(dt.L);function ae(t,e,r,i,n){if(void 0===n&&(n=new oe(t,r,i)),!n.closed)return e instanceof vt?e.subscribe(n):te(e)(n)}var ce={};function he(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,i=void 0;return Ct(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,ne.k)(t[0])&&(t=t[0]),jt(t,i).lift(new ue(r))}var ue=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new fe(t,this.resultSelector))},t}(),fe=function(t){function e(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return wt.ZT(e,t),e.prototype._next=function(t){this.values.push(ce),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add(ae(this,i,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var i=this.values,n=i[r],s=this.toRespond?n===ce?--this.toRespond:this.toRespond:0;i[r]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(se);function de(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;r>=i?n.complete():(n.next(e),n.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}function le(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new pe(t,e))}}var pe=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new be(t,this.project,this.thisArg))},t}(),be=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.project=r,n.count=0,n.thisArg=i||n,n}return wt.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(dt.L),ge=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return wt.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(dt.L),me=(dt.L,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt.ZT(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(dt.L));dt.L;function ye(t,e){if(!e.closed){if(t instanceof vt)return t.subscribe(e);var r;try{r=te(t)(e)}catch(i){e.error(i)}return r}}function ve(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(ve((function(r,i){return re(t(r,i)).pipe(le((function(t,n){return e(r,t,i,n)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new _e(t,r))})}var _e=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new we(t,this.project,this.concurrent))},t}(),we=function(t){function e(e,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var n=t.call(this,e)||this;return n.project=r,n.concurrent=i,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return wt.ZT(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new ge(this),r=this.destination;r.add(e);var i=ye(t,e);i!==e&&r.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(me);function Ee(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),ve(gt,t);var t}function Ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ee()(Ht.apply(void 0,t))}function Se(){}var Te=new vt(Se);var Oe=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return wt.ZT(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Ot),xe=new Lt(It);function Ie(t){return!(0,ne.k)(t)&&t-parseFloat(t)+1>=0}function Re(t,e,r){void 0===t&&(t=0);var i=-1;return Ie(e)?i=Number(e)<1?1:Number(e):Ct(e)&&(r=e),Ct(r)||(r=xe),new vt((function(e){var n=Ie(t)?t:+t-r.now();return r.schedule(Pe,n,{index:0,period:i,subscriber:e})}))}function Pe(t){var e=t.index,r=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,this.schedule(t,r)}}function Le(t,e){return"function"==typeof e?function(r){return r.pipe(Le((function(r,i){return re(t(r,i)).pipe(le((function(t,n){return e(r,t,i,n)})))})))}:function(e){return e.lift(new Me(t))}}var Me=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ke(t,this.project))},t}(),ke=function(t){function e(e,r){var i=t.call(this,e)||this;return i.project=r,i.index=0,i}return wt.ZT(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new ge(this),i=this.destination;i.add(r),this.innerSubscription=ye(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(me);function Ne(t,e,r){return void 0===r&&(r=xe),function(i){var n,s=(n=t)instanceof Date&&!isNaN(+n),o=s?+t-r.now():Math.abs(t);return i.lift(new Ce(o,s,e,r))}}var Ce=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new Ue(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Ue=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;return o.absoluteTimeout=r,o.waitFor=i,o.withObservable=n,o.scheduler=s,o.scheduleTimeout(),o}return wt.ZT(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(ye(e,new ge(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(me);function Be(t,e,r){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,i=t.bufferSize,n=void 0===i?Number.POSITIVE_INFINITY:i,s=t.windowTime,o=void 0===s?Number.POSITIVE_INFINITY:s,a=t.refCount,c=t.scheduler,h=0,u=!1,f=!1;return function(t){var i;h++,!e||u?(u=!1,e=new zt(n,o,c),i=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){u=!0,e.error(t)},complete:function(){f=!0,r=void 0,e.complete()}}),f&&(r=void 0)):i=e.subscribe(this),this.add((function(){h--,i.unsubscribe(),i=void 0,r&&!f&&a&&0===h&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(i))}}function De(t,e){return function(r){return r.lift(new je(t,e))}}var je=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new He(t,this.predicate,this.thisArg))},t}(),He=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.thisArg=i,n.count=0,n}return wt.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(dt.L),Ke=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),$e=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Ge(t){return function(e){return 0===t?Nt():e.lift(new Fe(t))}}var Fe=function(){function t(t){if(this.total=t,this.total<0)throw new $e}return t.prototype.call=function(t,e){return e.subscribe(new Ve(t,this.total))},t}(),Ve=function(t){function e(e,r){var i=t.call(this,e)||this;return i.total=r,i.count=0,i}return wt.ZT(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(dt.L);function ze(t){return void 0===t&&(t=null),function(e){return e.lift(new qe(t))}}var qe=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Ze(t,this.defaultValue))},t}(),Ze=function(t){function e(e,r){var i=t.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return wt.ZT(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(dt.L);function Xe(t){return void 0===t&&(t=Je),function(e){return e.lift(new Ye(t))}}var Ye=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new We(t,this.errorFactory))},t}(),We=function(t){function e(e,r){var i=t.call(this,e)||this;return i.errorFactory=r,i.hasValue=!1,i}return wt.ZT(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(dt.L);function Je(){return new Ke}function Qe(t,e){var r=arguments.length>=2;return function(i){return i.pipe(t?De((function(e,r){return t(e,r,i)})):gt,Ge(1),r?ze(e):Xe((function(){return new Ke})))}}function tr(t){return function(e){var r=new er(t),i=e.lift(r);return r.caught=i}}var er=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new rr(t,this.selector,this.caught))},t}(),rr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.selector=r,n.caught=i,n}return wt.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(s){return void t.prototype.error.call(this,s)}this._unsubscribeAndRecycle();var i=new ge(this);this.add(i);var n=ye(r,i);n!==i&&this.add(n)}},e}(me),ir=r(55427);function nr(t,e,r){return function(i){return i.lift(new sr(t,e,r))}}var sr=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new or(t,this.nextOrObserver,this.error,this.complete))},t}(),or=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s._tapNext=Se,s._tapError=Se,s._tapComplete=Se,s._tapError=i||Se,s._tapComplete=n||Se,(0,ir.m)(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||Se,s._tapError=r.error||Se,s._tapComplete=r.complete||Se),s}return wt.ZT(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(dt.L);function ar(t,e){return function(r){return r.lift(new cr(t,e))}}var cr=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new hr(t,this.compare,this.keySelector))},t}(),hr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof r&&(n.compare=r),n}return wt.ZT(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))},e}(dt.L);var ur=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new fr(t,this.predicate,this.inclusive))},t}(),fr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.inclusive=i,n.index=0,n}return wt.ZT(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(dt.L);function dr(t,e){return ve(t,e,1)}var lr=r(75458);var pr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new br(t),i=ye(this.notifier,new ge(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r},t}(),br=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return wt.ZT(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(me);function gr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return le(mr(t,r))(e)}}function mr(t,e){return function(r){for(var i=r,n=0;n<e;n++){var s=null!=i?i[t[n]]:void 0;if(void 0===s)return;i=s}return i}}function yr(){return function(t){return t.lift(new vr(t))}}var vr=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new _r(t,r),n=e.subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),_r=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return wt.ZT(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()}}else this.connection=null},e}(dt.L),wr=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return wt.ZT(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new Et.w).add(this.source.subscribe(new Ar(this.getSubject(),this))),t.closed&&(this._connection=null,t=Et.w.EMPTY)),t},e.prototype.refCount=function(){return yr()(this)},e}(vt),Er=function(){var t=wr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Ar=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return wt.ZT(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Tt);dt.L;function Sr(t,e){return function(r){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new Tr(i,e));var n=Object.create(r,Er);return n.source=r,n.subjectFactory=i,n}}var Tr=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,i=this.subjectFactory(),n=r(i).subscribe(t);return n.add(e.subscribe(i)),n},t}();var Or,xr=r(56440),Ir=r.n(xr),Rr=r(30816).Buffer;class Pr extends Error{constructor(t){super(`The map type '${t}' is invalid`),this.mapType=t,this.name="InvalidMapTypeError"}}const Lr=Symbol.for("taquito-michelson-map-type-symbol");class Mr extends Error{constructor(t,e,r){super(`${r} not compliant with underlying michelson type`),this.value=t,this.type=e,this.name="MapTypecheckError"}}class kr{constructor(t){this.valueMap=new Map,this.keyMap=new Map,this[Or]=!0,t&&this.setType(t)}static isMichelsonMap(t){return t&&!0===t[Lr]}setType(t){if(!("args"in(e=t))||!Array.isArray(e.args)||2!==e.args.length)throw new Pr(t.toString());var e;this.keySchema=new dn(t.args[0]),this.valueSchema=new dn(t.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(t,e){const r=new kr(e);return Object.keys(t).forEach((e=>{r.set(e,t[e])})),r}typecheckKey(t){return!this.keySchema||this.keySchema.Typecheck(t)}typecheckValue(t){return!this.valueSchema||this.valueSchema.Typecheck(t)}assertTypecheckValue(t){if(!this.typecheckValue(t))throw new Mr(t,this.valueSchema,"value")}assertTypecheckKey(t){if(!this.typecheckKey(t))throw new Mr(t,this.keySchema,"key")}serializeDeterministically(t){return Ir()(t)}*keys(){for(const[t]of this.entries())yield t}*values(){for(const[,t]of this.entries())yield t}*entries(){for(const t of this.valueMap.keys())yield[this.keyMap.get(t),this.valueMap.get(t)]}get(t){this.assertTypecheckKey(t);const e=this.serializeDeterministically(t);return this.valueMap.get(e)}set(t,e){this.assertTypecheckKey(t),this.assertTypecheckValue(e);const r=this.serializeDeterministically(t);this.keyMap.set(r,t),this.valueMap.set(r,e)}delete(t){this.assertTypecheckKey(t),this.keyMap.delete(this.serializeDeterministically(t)),this.valueMap.delete(this.serializeDeterministically(t))}has(t){this.assertTypecheckKey(t);const e=this.serializeDeterministically(t);return this.keyMap.has(e)&&this.valueMap.has(e)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(t){for(const[e,r]of this.entries())t(r,e,this)}}Or=Lr;class Nr extends Error{constructor(t,e,r){super(),this.value=t,this.token=e,this.name="ValidationError";const i=this.token.annot(),n=i?`[${i}] `:"";this.message=`${n}${r}`}}class Cr{constructor(t,e,r){this.val=t,this.idx=e,this.fac=r,this.createToken=this.fac}typeWithoutAnnotations(){const t=e=>{if("object"==typeof e){if(Array.isArray(e)){return e.map((e=>t(e)))}const r=e;return r.args?{prim:r.prim,args:r.args.map((e=>t(e)))}:{prim:r.prim}}return e};return(e=this.val).args?{prim:e.prim,args:e.args.map((e=>t(e)))}:{prim:e.prim};var e}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}}class Ur extends Cr{compare(t,e){return t===e?0:t<e?-1:1}}class Br extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="BigMapValidationError"}}class Dr extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:Dr.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}isValid(t){return kr.isMichelsonMap(t)?null:new Br(t,this,"Value must be a MichelsonMap")}objLitToMichelsonMap(t){return t instanceof kr?t:"object"==typeof t?0===Object.keys(t).length?new kr:kr.fromLiteral(t):t}Encode(t){const e=this.objLitToMichelsonMap(t.pop()),r=this.isValid(e);if(r)throw r;return Array.from(e.keys()).sort(((t,e)=>this.KeySchema.compare(t,e))).map((t=>({prim:"Elt",args:[this.KeySchema.EncodeObject(t),this.ValueSchema.EncodeObject(e.get(t))]})))}EncodeObject(t,e){const r=this.objLitToMichelsonMap(t),i=this.isValid(r);if(i)throw i;return e&&e[Dr.prim]?e[Dr.prim](r,this.val):Array.from(r.keys()).sort(((t,e)=>this.KeySchema.compare(t,e))).map((t=>({prim:"Elt",args:[this.KeySchema.EncodeObject(t),this.ValueSchema.EncodeObject(r.get(t))]})))}Execute(t,e){if(e&&e[Dr.prim])return e[Dr.prim](t,this.val);if(Array.isArray(t)){const e=new kr(this.val);return t.forEach((t=>{e.set(this.KeySchema.ToKey(t.args[0]),this.ValueSchema.Execute(t.args[1]))})),e}if("int"in t)return t.int;throw new Br(t,this,`Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ${JSON.stringify(t)}`)}findAndReturnTokens(t,e){return Dr.prim===t&&e.push(this),this.KeySchema.findAndReturnTokens(t,e),this.ValueSchema.findAndReturnTokens(t,e),e}}Dr.prim="big_map";class jr extends Error{constructor(t){super(t),this.message=t,this.name="OrTokenDecodingError"}}class Hr extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Encode(t){const e=t[t.length-1],r=this.createToken(this.val.args[0],this.idx);let i=1;r instanceof Hr&&(i=Object.keys(r.ExtractSchema()).length);const n=this.createToken(this.val.args[1],this.idx+i);if(String(r.annot())!==String(e)||r instanceof Hr){if(String(n.annot())!==String(e)||n instanceof Hr){if(r instanceof Hr){const e=r.Encode(t);if(e)return{prim:"Left",args:[e]}}if(n instanceof Hr){const e=n.Encode(t);if(e)return{prim:"Right",args:[e]}}return null}return t.pop(),{prim:"Right",args:[n.Encode(t)]}}return t.pop(),{prim:"Left",args:[r.Encode(t)]}}ExtractSignature(){const t=this.createToken(this.val.args[0],this.idx);let e=1;t instanceof Hr&&(e=Object.keys(t.ExtractSchema()).length);const r=this.createToken(this.val.args[1],this.idx+e),i=[];if(t instanceof Hr)i.push(...t.ExtractSignature());else for(const n of t.ExtractSignature())i.push([t.annot(),...n]);if(r instanceof Hr)i.push(...r.ExtractSignature());else for(const n of r.ExtractSignature())i.push([r.annot(),...n]);return i}EncodeObject(t,e){const r=Object.keys(t)[0],i=this.createToken(this.val.args[0],this.idx);let n=1;i instanceof Hr&&(n=Object.keys(i.ExtractSchema()).length);const s=this.createToken(this.val.args[1],this.idx+n);if(String(i.annot())!==String(r)||i instanceof Hr){if(String(s.annot())!==String(r)||s instanceof Hr){if(i instanceof Hr){const r=i.EncodeObject(t,e);if(r)return{prim:"Left",args:[r]}}if(s instanceof Hr){const r=s.EncodeObject(t,e);if(r)return{prim:"Right",args:[r]}}return null}return{prim:"Right",args:[s.EncodeObject(t[r],e)]}}return{prim:"Left",args:[i.EncodeObject(t[r],e)]}}Execute(t,e){const r=this.createToken(this.val.args[0],this.idx);let i=1;r instanceof Hr&&(i=Object.keys(r.ExtractSchema()).length);const n=this.createToken(this.val.args[1],this.idx+i);if("Right"===t.prim)return n instanceof Hr?n.Execute(t.args[0],e):{[n.annot()]:n.Execute(t.args[0],e)};if("Left"===t.prim)return r instanceof Hr?r.Execute(t.args[0],e):{[r.annot()]:r.Execute(t.args[0],e)};throw new jr(`Was expecting Left or Right prim but got: ${t.prim}`)}traversal(t,e,r){const i=this.createToken(this.val.args[0],this.idx);let n,s=1;i instanceof Hr&&!i.hasAnnotations()?(n=t(i),s=Object.keys(i.ExtractSchema()).length):n={[i.annot()]:t(i)};const o=this.createToken(this.val.args[1],this.idx+s);let a;a=o instanceof Hr&&!o.hasAnnotations()?e(o):{[o.annot()]:e(o)};return r(n,a)}ExtractSchema(){return this.traversal((t=>t.ExtractSchema()),(t=>t.ExtractSchema()),((t,e)=>Object.assign(Object.assign({},t),e)))}generateSchema(){return{__michelsonType:Hr.prim,schema:this.traversal((t=>t instanceof Hr&&!t.hasAnnotations()?t.generateSchema().schema:t.generateSchema()),(t=>t instanceof Hr&&!t.hasAnnotations()?t.generateSchema().schema:t.generateSchema()),((t,e)=>Object.assign(Object.assign({},t),e)))}}findToken(t){const e=this.createToken(this.val.args[0],this.idx);let r=1;e instanceof Hr&&(r=Object.keys(e.ExtractSchema()).length);const i=this.createToken(this.val.args[1],this.idx+r);if(String(e.annot())===String(t)&&!(e instanceof Hr)&&e instanceof Ur)return e;if(String(i.annot())===String(t)&&!(i instanceof Hr)&&i instanceof Ur)return i;if(e instanceof Hr){const r=e.findToken(t);if(r)return r}if(i instanceof Hr){const e=i.findToken(t);if(e)return e}return null}compare(t,e){const r=Object.keys(t)[0];if(r!==Object.keys(e)[0]){return JSON.stringify(this.EncodeObject(t))<JSON.stringify(this.EncodeObject(e))?-1:1}{const i=this.findToken(r);if(i instanceof Ur)return i.compare(t[r],e[r])}}ToKey(t){return this.Execute(t)}ToBigMapKey(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}}findAndReturnTokens(t,e){return Hr.prim===t&&e.push(this),this.traversal((r=>r.findAndReturnTokens(t,e)),(r=>r.findAndReturnTokens(t,e)),((t,e)=>Object.assign(Object.assign({},t),e))),e}}Hr.prim="or";class Kr extends Error{constructor(t){super(t),this.message=t,this.name="TokenArgumentValidationError"}}class $r extends Error{constructor(t,e){super(`Tokens ${t} and ${e} are not comparable`),this.val1=t,this.val2=e,this.name="TokenComparisonError"}}function Gr(t,e=Fr.prim){if(Array.isArray(t))return Gr({prim:e,args:t},e);if(void 0===t.args)throw new Kr("Encountered an invalid PairToken with no arguments, a pair must have two or more arguments");return t.args.length>2?[t.args[0],{prim:e,args:t.args.slice(1)}]:[t.args[0],t.args[1]]}class Fr extends Ur{constructor(t,e,r){super(Array.isArray(t)?{prim:Fr.prim,args:t}:t.prim?t:{prim:Fr.prim,args:t},e,r)}args(){return Gr(this.val)}tokens(){let t=0;return this.args().map((e=>{const r=this.createToken(e,this.idx+t);return r instanceof Fr?t+=Object.keys(r.ExtractSchema()).length:t++,r}))}Encode(t){return{prim:"Pair",args:this.tokens().map((e=>e.Encode(t)))}}ExtractSignature(){const t=this.args(),e=this.createToken(t[0],this.idx);let r=1;e instanceof Hr&&(r=Object.keys(e.ExtractSchema()).length);const i=this.createToken(t[1],this.idx+r),n=[];for(const s of e.ExtractSignature())for(const t of i.ExtractSignature())n.push([...s,...t]);return n}ToBigMapKey(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}}ToKey(t){return this.Execute(t)}EncodeObject(t,e){const[r,i]=this.tokens();let n,s;return n=r instanceof Fr&&!r.hasAnnotations()?t:t[r.annot()],s=i instanceof Fr&&!i.hasAnnotations()?t:t[i.annot()],{prim:"Pair",args:[r.EncodeObject(n,e),i.EncodeObject(s,e)]}}traversal(t,e){const r=this.args(),i=this.createToken(r[0],this.idx);let n,s=1;i instanceof Fr&&(s=Object.keys(i.ExtractSchema()).length),n=i instanceof Fr&&!i.hasAnnotations()?t(i):{[i.annot()]:t(i)};const o=this.createToken(r[1],this.idx+s);let a;a=o instanceof Fr&&!o.hasAnnotations()?e(o):{[o.annot()]:e(o)};return Object.assign(Object.assign({},n),a)}Execute(t,e){const r=Gr(t,"Pair");return this.traversal((t=>t.Execute(r[0],e)),(t=>t.Execute(r[1],e)))}ExtractSchema(){return this.traversal((t=>t.ExtractSchema()),(t=>t.ExtractSchema()))}generateSchema(){return{__michelsonType:Fr.prim,schema:this.traversal((t=>t instanceof Fr&&!t.hasAnnotations()?t.generateSchema().schema:t.generateSchema()),(t=>t instanceof Fr&&!t.hasAnnotations()?t.generateSchema().schema:t.generateSchema()))}}compare(t,e){const[r,i]=this.tokens(),n=(t,e)=>t instanceof Fr&&!t.hasAnnotations()?e:e[t.annot()];if(r instanceof Ur&&i instanceof Ur){const s=r.compare(n(r,t),n(r,e));return 0===s?i.compare(n(i,t),n(i,e)):s}throw new $r(t,e)}findAndReturnTokens(t,e){return Fr.prim===t&&e.push(this),this.tokens().map((r=>r.findAndReturnTokens(t,e))),e}}Fr.prim="pair";class Vr extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="NatValidationError"}}class zr extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return new d.Z(t[Object.keys(t)[0]])}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new d.Z(e).toFixed()}}isValid(t){const e=new d.Z(t);return e.isNaN()?new Vr(t,this,`Value is not a number: ${t}`):e.isNegative()?new Vr(t,this,`Value cannot be negative: ${t}`):null}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[zr.prim]?e[zr.prim](t):{int:new d.Z(t).toFixed()}}ExtractSchema(){return zr.prim}generateSchema(){return{__michelsonType:zr.prim,schema:zr.prim}}ToBigMapKey(t){return{key:{int:String(t)},type:{prim:zr.prim}}}ToKey({int:t}){return new d.Z(t)}compare(t,e){const r=Number(t),i=Number(e);return r===i?0:r<i?-1:1}findAndReturnTokens(t,e){return zr.prim===t&&e.push(this),e}}zr.prim="nat";class qr extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t[Object.keys(t)[0]]}ExtractSchema(){return qr.prim}generateSchema(){return{__michelsonType:qr.prim,schema:qr.prim}}Encode(t){return{string:t.pop()}}EncodeObject(t,e){return e&&e[qr.prim]?e[qr.prim](t):{string:t}}ToKey({string:t}){return t}ToBigMapKey(t){return{key:{string:t},type:{prim:qr.prim}}}findAndReturnTokens(t,e){return qr.prim===t&&e.push(this),e}}qr.prim="string";class Zr extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="AddressValidationError"}}class Xr extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}ToBigMapKey(t){return{key:{bytes:function(t){const e=m().decode(t),r={[y.tz1.toString()]:"0000",[y.tz2.toString()]:"0001",[y.tz3.toString()]:"0002"},i={[y.txr1.toString()]:"02"},n=r[new Uint8Array(e.slice(0,3)).toString()],s=i[new Uint8Array(e.slice(0,4)).toString()];if(n)return n+rt(e.slice(3));if(s)return s+rt(e.slice(4))+"00";return"01"+rt(e.slice(3,42))+"00"}(t)},type:{prim:"bytes"}}}isValid(t){return G(t)!==C.VALID?new Zr(t,this,`Address is not valid: ${t}`):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[Xr.prim]?e[Xr.prim](t):{string:t}}Execute(t){if(t.string)return t.string;if(!t.bytes)throw new Zr(t,this,`cannot be missing both string and bytes: ${t}`);return J(t.bytes)}ExtractSchema(){return Xr.prim}generateSchema(){return{__michelsonType:Xr.prim,schema:Xr.prim}}ToKey({bytes:t,string:e}){if(e)return e;if(!t)throw new Zr({bytes:t,string:e},this,`cannot be missing both string and bytes ${{string:e,bytes:t}}`);return J(t)}compare(t,e){const r=t=>t.startsWith("tz"),i=r(t),n=r(e);return i&&!n?-1:n&&!i?1:super.compare(t,e)}findAndReturnTokens(t,e){return Xr.prim===t&&e.push(this),e}}Xr.prim="address";class Yr extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="MapValidationError"}}class Wr extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}isValid(t){return kr.isMichelsonMap(t)?null:new Yr(t,this,"Value must be a MichelsonMap")}Execute(t,e){const r=new kr(this.val);return t.forEach((t=>{r.set(this.KeySchema.ToKey(t.args[0]),this.ValueSchema.Execute(t.args[1],e))})),r}objLitToMichelsonMap(t){return t instanceof kr?t:"object"==typeof t?0===Object.keys(t).length?new kr:kr.fromLiteral(t):t}Encode(t){const e=this.objLitToMichelsonMap(t.pop()),r=this.isValid(e);if(r)throw r;return Array.from(e.keys()).sort(((t,e)=>this.KeySchema.compare(t,e))).map((t=>({prim:"Elt",args:[this.KeySchema.EncodeObject(t),this.ValueSchema.EncodeObject(e.get(t))]})))}EncodeObject(t,e){const r=this.objLitToMichelsonMap(t),i=this.isValid(r);if(i)throw i;return e&&e[Wr.prim]?e[Wr.prim](r):Array.from(r.keys()).sort(((t,e)=>this.KeySchema.compare(t,e))).map((t=>({prim:"Elt",args:[this.KeySchema.EncodeObject(t),this.ValueSchema.EncodeObject(r.get(t))]})))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:Wr.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(t,e){return Wr.prim===t&&e.push(this),this.KeySchema.findAndReturnTokens(t,e),this.ValueSchema.findAndReturnTokens(t,e),e}}Wr.prim="map";class Jr extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return"true"===String(t.prim).toLowerCase()}Encode(t){return{prim:t.pop()?"True":"False"}}EncodeObject(t,e){return e&&e[Jr.prim]?e[Jr.prim](t):{prim:t?"True":"False"}}ExtractSchema(){return Jr.prim}generateSchema(){return{__michelsonType:Jr.prim,schema:Jr.prim}}ToBigMapKey(t){return{key:this.EncodeObject(t),type:{prim:Jr.prim}}}ToKey(t){return this.EncodeObject(t)}compare(t,e){return t&&e||!t&&!e?0:t?1:-1}findAndReturnTokens(t,e){return Jr.prim===t&&e.push(this),e}}Jr.prim="bool";class Qr extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="TxRollupL2AddressValidationError"}}class ti extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}ToBigMapKey(t){return{key:{bytes:function(t){const e=m().decode(t);return rt(e.slice(3,42))}(t)},type:{prim:"bytes"}}}isValid(t){if(G(t)!==C.VALID)throw new Qr(t,this,`tx_rollup_l2_address is not valid: ${t}`);return null}Encode(t){const e=t.pop();if(!e)throw new Qr(e,this,`arg missing to encode: this -> "${e}"`);return this.isValid(e),{string:e}}EncodeObject(t,e){return this.isValid(t),e&&e[ti.prim]?e[ti.prim](t):{string:t}}Execute(t){if(t.string)return t.string;if(!t.bytes)throw new Qr(t,this,`value cannot be missing string and byte value. must have one ${JSON.stringify(t)}`);return Q(t.bytes)}ExtractSchema(){return ti.prim}generateSchema(){return{__michelsonType:ti.prim,schema:ti.prim}}ToKey({bytes:t,string:e}){if(e)return e;if(!t)throw new Qr(t,this,`value cannot be missing string and byte value. must have one: bytes = ${t}`);return Q(t)}findAndReturnTokens(t,e){return ti.prim===t&&e.push(this),e}}ti.prim="tx_rollup_l2_address";class ei extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="ContractValidationError"}}class ri extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return G(t)!==C.VALID?new ei(t,this,"Contract address is not valid"):null}Execute(t){if(t.string)return t.string;if(!t.bytes)throw new ei(t,this,"must contain bytes or string");return J(t.bytes)}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[ri.prim]?e[ri.prim](t):{string:t}}ExtractSchema(){return ri.prim}generateSchema(){const t=this.createToken(this.val.args[0],0);return{__michelsonType:ri.prim,schema:{parameter:this.val.args[0]?t.generateSchema():{}}}}findAndReturnTokens(t,e){return ri.prim===t&&e.push(this),e}}ri.prim="contract";class ii extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="ListValidationError"}}class ni extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get valueSchema(){return this.createToken(this.val.args[0],this.idx)}isValid(t){return Array.isArray(t)?null:new ii(t,this,"Value must be an array")}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;const i=this.createToken(this.val.args[0],0);return e.reduce(((t,e)=>[...t,i.EncodeObject(e)]),[])}Execute(t,e){const r=this.createToken(this.val.args[0],0),i=this.isValid(t);if(i)throw i;return t.reduce(((t,i)=>[...t,r.Execute(i,e)]),[])}EncodeObject(t,e){const r=this.createToken(this.val.args[0],0),i=this.isValid(t);if(i)throw i;return e&&e[ni.prim]?e[ni.prim](t):t.reduce(((t,e)=>[...t,r.EncodeObject(e)]),[])}ExtractSchema(){return{[ni.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:ni.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(t,e){return ni.prim===t&&e.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(t,e),e}}ni.prim="list";class si extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="MutezValidationError"}}class oi extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return new d.Z(t[Object.keys(t)[0]])}ExtractSchema(){return oi.prim}generateSchema(){return{__michelsonType:oi.prim,schema:oi.prim}}isValid(t){return new d.Z(t).isNaN()?new si(t,this,`Value is not a number: ${t}`):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:String(e).toString()}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[oi.prim]?e[oi.prim](t):{int:String(t).toString()}}ToBigMapKey(t){return{key:{int:String(t)},type:{prim:oi.prim}}}ToKey({int:t}){return t}compare(t,e){const r=Number(t),i=Number(e);return r===i?0:r<i?-1:1}findAndReturnTokens(t,e){return oi.prim===t&&e.push(this),e}}oi.prim="mutez";class ai extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="BytesValidationError"}}class ci extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}ToBigMapKey(t){return{key:{bytes:t},type:{prim:ci.prim}}}isValid(t){return"string"==typeof t&&/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new ai(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();e=this.convertUint8ArrayToHexString(e);const r=this.isValid(e);if(r)throw r;return{bytes:String(e).toString()}}EncodeObject(t,e){t=this.convertUint8ArrayToHexString(t);const r=this.isValid(t);if(r)throw r;return e&&e[ci.prim]?e[ci.prim](t):{bytes:String(t).toString()}}Execute(t){return t.bytes}ExtractSchema(){return ci.prim}generateSchema(){return{__michelsonType:ci.prim,schema:ci.prim}}ToKey({bytes:t,string:e}){return e||t}findAndReturnTokens(t,e){return ci.prim===t&&e.push(this),e}}ci.prim="bytes";class hi extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(t){const e=t;return null==e?{prim:"None"}:!Array.isArray(e)||void 0!==e[e.length-1]&&null!==e[e.length-1]?{prim:"Some",args:[this.schema().Encode(t)]}:(e.pop(),{prim:"None"})}EncodeObject(t,e){const r=t;return null==r?{prim:"None"}:{prim:"Some",args:[this.schema().EncodeObject(r,e)]}}Execute(t,e){return"None"===t.prim?null:this.schema().Execute(t.args[0],e)}ExtractSchema(){return this.schema().ExtractSchema()}generateSchema(){return{__michelsonType:hi.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature(),[]]}get KeySchema(){return this.schema()}compare(t,e){return t?e?this.KeySchema.compare(t,e):1:-1}ToKey(t){return this.Execute(t)}ToBigMapKey(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}}findAndReturnTokens(t,e){return hi.prim===t&&e.push(this),this.subToken().findAndReturnTokens(t,e),e}}hi.prim="option";class ui extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t.string&&/^\d+$/.test(t.string)?new Date(1e3*Number(t.string)).toISOString():t.string?new Date(t.string).toISOString():t.int?new Date(1e3*Number(t.int)).toISOString():void 0}Encode(t){return{string:t.pop()}}EncodeObject(t,e){return e&&e[ui.prim]?e[ui.prim](t):{string:t}}ExtractSchema(){return ui.prim}generateSchema(){return{__michelsonType:ui.prim,schema:ui.prim}}ToKey({string:t}){return t}ToBigMapKey(t){return{key:{string:t},type:{prim:ui.prim}}}findAndReturnTokens(t,e){return ui.prim===t&&e.push(this),e}}ui.prim="timestamp";class fi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="IntValidationError"}}class di extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return new d.Z(t[Object.keys(t)[0]])}ExtractSchema(){return di.prim}generateSchema(){return{__michelsonType:di.prim,schema:di.prim}}isValid(t){return new d.Z(t).isNaN()?new fi(t,this,`Value is not a number: ${t}`):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new d.Z(e).toFixed()}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[di.prim]?e[di.prim](t):{int:new d.Z(t).toFixed()}}ToBigMapKey(t){return{key:{int:String(t)},type:{prim:di.prim}}}ToKey({int:t}){return t}compare(t,e){const r=Number(t),i=Number(e);return r===i?0:r<i?-1:1}findAndReturnTokens(t,e){return di.prim===t&&e.push(this),e}}di.prim="int";class li extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Encode(t){return t.pop(),{prim:"Unit"}}EncodeObject(t,e){return e&&e[li.prim]?e[li.prim](t):{prim:"Unit"}}Execute(t){return bn}ExtractSchema(){return li.prim}generateSchema(){return{__michelsonType:li.prim,schema:li.prim}}compare(t,e){return 0}ToKey(t){return bn}ToBigMapKey(t){return{key:{prim:"Unit"},type:{prim:li.prim}}}findAndReturnTokens(t,e){return li.prim===t&&e.push(this),e}}li.prim="unit";class pi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="KeyValidationError"}}class bi extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t.string?t.string:function(t){if("0"===t[0]){const e={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return Y(t.substring(2),e[t.substring(0,2)])}}(t.bytes)}isValid(t){return Z(t)!==C.VALID?new pi(t,this,"Key is not valid"):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[bi.prim]?e[bi.prim](t):{string:t}}ExtractSchema(){return bi.prim}generateSchema(){return{__michelsonType:bi.prim,schema:bi.prim}}ToKey(t){return this.Execute(t)}ToBigMapKey(t){return{key:{string:t},type:{prim:bi.prim}}}compare(t,e){const r=this.getPrefix(t),i=this.getPrefix(e);if(r===f.EDPK&&i!==f.EDPK)return-1;if(r===f.SPPK&&i!==f.SPPK)return i===f.EDPK?1:-1;if(r===f.P2PK){if(i!==f.P2PK)return 1;const r=this.getP256PublicKeyComparableBytes(t),n=this.getP256PublicKeyComparableBytes(e);return Rr.compare(r,n)}return super.compare(t,e)}getPrefix(t){return t.substring(0,4)}getP256PublicKeyComparableBytes(t){return W(t,y[f.P2PK]).slice(1)}findAndReturnTokens(t,e){return bi.prim===t&&e.push(this),e}}bi.prim="key";class gi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="KeyHashValidationError"}}class mi extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t.string?t.string:tt(t.bytes)}isValid(t){return z(t)!==C.VALID?new gi(t,this,`KeyHash is not valid: ${t}`):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[mi.prim]?e[mi.prim](t):{string:t}}ExtractSchema(){return mi.prim}generateSchema(){return{__michelsonType:mi.prim,schema:mi.prim}}ToKey({string:t,bytes:e}){return t||tt(e)}ToBigMapKey(t){return{key:{string:t},type:{prim:mi.prim}}}findAndReturnTokens(t,e){return mi.prim===t&&e.push(this),e}}mi.prim="key_hash";class yi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="SignatureValidationError"}}class vi extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t.string?t.string:t.bytes}isValid(t){return q(t)!==C.VALID?new yi(t,this,"Signature is not valid"):null}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[vi.prim]?e[vi.prim](t):{string:t}}ExtractSchema(){return vi.prim}generateSchema(){return{__michelsonType:vi.prim,schema:vi.prim}}ToKey(t){return this.Execute(t)}ToBigMapKey(t){return{key:{string:t},type:{prim:vi.prim}}}findAndReturnTokens(t,e){return vi.prim===t&&e.push(this),e}}vi.prim="signature";class _i extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(t){return t.string?t.string:t}Encode(t){return t.pop()}EncodeObject(t,e){return e&&e[_i.prim]?e[_i.prim](t):t}ExtractSchema(){return{[_i.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:_i.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(t,e){return _i.prim===t&&e.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(t,e),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(t,e),e}}_i.prim="lambda";class wi extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){return t.string}Encode(...t){return{string:t.pop()}}EncodeObject(t,e){return e&&e[wi.prim]?e[wi.prim](t):{string:t}}ExtractSchema(){return wi.prim}generateSchema(){return{__michelsonType:wi.prim,schema:wi.prim}}findAndReturnTokens(t,e){return wi.prim===t&&e.push(this),e}}wi.prim="operation";class Ei extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="SetValidationError"}}class Ai extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get KeySchema(){return this.createToken(this.val.args[0],0)}isValid(t){return Array.isArray(t)?null:new Ei(t,this,"Value must be an array")}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return e.sort(((t,e)=>this.KeySchema.compare(t,e))).reduce(((t,e)=>[...t,this.KeySchema.EncodeObject(e)]),[])}Execute(t,e){return t.reduce(((t,r)=>[...t,this.KeySchema.Execute(r,e)]),[])}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[Ai.prim]?e[Ai.prim](t):t.sort(((t,e)=>this.KeySchema.compare(t,e))).reduce(((t,e)=>[...t,this.KeySchema.EncodeObject(e)]),[])}ExtractSchema(){return Ai.prim}generateSchema(){return{__michelsonType:Ai.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(t,e){return Ai.prim===t&&e.push(this),this.KeySchema.findAndReturnTokens(t,e),e}}Ai.prim="set";class Si extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="ChainIDValidationError"}}class Ti extends Ur{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return F(t)!==C.VALID?new Si(t,this,"ChainID is not valid"):null}Execute(t){return t[Object.keys(t)[0]]}ExtractSchema(){return Ti.prim}generateSchema(){return{__michelsonType:Ti.prim,schema:Ti.prim}}Encode(t){const e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}}EncodeObject(t,e){const r=this.isValid(t);if(r)throw r;return e&&e[Ti.prim]?e[Ti.prim](t):{string:t}}ToKey({string:t}){return t}ToBigMapKey(t){return{key:{string:t},type:{prim:Ti.prim}}}findAndReturnTokens(t,e){return Ti.prim===t&&e.push(this),e}}Ti.prim="chain_id";class Oi extends Error{constructor(){super("Tickets cannot be sent to the blockchain; they are created on-chain"),this.name="TicketEncodeError"}}const xi={prim:"contract"},Ii={prim:"int"};class Ri extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(t){throw new Oi}EncodeObject(t,e){if(e&&e[Ri.prim])return e[Ri.prim](t,this.val);throw new Oi}Execute(t,e){if(e&&e[Ri.prim])return e[Ri.prim](t,this.val);const r=this.createToken(xi,this.idx),i=this.valueToken,n=this.createToken(Ii,this.idx);return void 0===t.args[2]&&void 0!==t.args[1].args?{ticketer:r.Execute(t.args[0],e),value:i.Execute(t.args[1].args[0],e),amount:n.Execute(t.args[1].args[1],e)}:{ticketer:r.Execute(t.args[0],e),value:i.Execute(t.args[1],e),amount:n.Execute(t.args[2],e)}}ExtractSchema(){return{ticketer:ri.prim,value:this.valueToken.ExtractSchema(),amount:di.prim}}generateSchema(){return{__michelsonType:Ri.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:ri.prim,schema:ri.prim},amount:{__michelsonType:di.prim,schema:di.prim}}}}findAndReturnTokens(t,e){return Ri.prim===t&&e.push(this),this.valueToken.findAndReturnTokens(t,e),e}}Ri.prim="ticket";class Pi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="NeverTokenError"}}class Li extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Encode(t){const e=t.pop();throw new Pi(e,this,"Assigning a value to the type never is forbidden.")}EncodeObject(t,e){if(e&&e[Li.prim])return e[Li.prim](t);throw new Pi(t,this,"Assigning a value to the type never is forbidden.")}Execute(t){throw new Pi(t,this,"There is no literal value for the type never.")}ExtractSchema(){return Li.prim}generateSchema(){return{__michelsonType:Li.prim,schema:Li.prim}}findAndReturnTokens(t,e){return Li.prim===t&&e.push(this),e}}Li.prim="never";class Mi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="SaplingStateValidationError"}}class ki extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return"object"==typeof t&&0===Object.keys(t).length}Execute(t,e){if(e&&e[ki.prim])return e[ki.prim](t,this.val);if("int"in t)return t.int;throw new Mi(t,this,`Sapling state is expecting an object with an int property. Got ${JSON.stringify(t)}`)}Encode(t){const e=t.pop();if(this.isValid(e))return[];throw new Mi(e,this,`Invalid sapling_state. Received: ${e} while expecting: {}`)}EncodeObject(t,e){if(e&&e[ki.prim])return e[ki.prim](t);if(this.isValid(t))return[];throw new Mi(t,this,`Invalid sapling_state. Received: ${t} while expecting: {}`)}ExtractSchema(){return{[ki.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:ki.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(t,e){return ki.prim===t&&e.push(this),e}}ki.prim="sapling_state";class Ni extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="SaplingTransactionValidationError"}}class Ci extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t){throw new Ni(t,this,"There is no literal value for the sapling_transaction type.")}validateBytes(t){const e=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(t);if(e&&e[2].length%2==0)return e[2];throw new Ni(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),{bytes:String(e).toString()}}EncodeObject(t,e){return t=this.validateBytes(this.convertUint8ArrayToHexString(t)),e&&e[Ci.prim]?e[Ci.prim](t):{bytes:String(t).toString()}}ExtractSchema(){return{[Ci.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:Ci.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(t,e){return Ci.prim===t&&e.push(this),e}}Ci.prim="sapling_transaction";class Ui extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="Bls12381frValidationError"}}class Bi extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new Ui(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();if("number"==typeof e)return{int:e.toString()};{e=this.convertUint8ArrayToHexString(e);const t=this.isValid(e);if(t)throw t;return{bytes:e}}}EncodeObject(t,e){if(e&&e[Bi.prim])return e[Bi.prim](t);if("number"==typeof t)return{int:t.toString()};{t=this.convertUint8ArrayToHexString(t);const e=this.isValid(t);if(e)throw e;return{bytes:t}}}Execute(t){return t.bytes}ExtractSchema(){return Bi.prim}generateSchema(){return{__michelsonType:Bi.prim,schema:Bi.prim}}findAndReturnTokens(t,e){return Bi.prim===t&&e.push(this),e}}Bi.prim="bls12_381_fr";class Di extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="Bls12381g1ValidationError"}}class ji extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new Di(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();e=this.convertUint8ArrayToHexString(e);const r=this.isValid(e);if(r)throw r;return{bytes:e}}EncodeObject(t,e){t=this.convertUint8ArrayToHexString(t);const r=this.isValid(t);if(r)throw r;return e&&e[ji.prim]?e[ji.prim](t):{bytes:t}}Execute(t){return t.bytes}ExtractSchema(){return ji.prim}generateSchema(){return{__michelsonType:ji.prim,schema:ji.prim}}findAndReturnTokens(t,e){return ji.prim===t&&e.push(this),e}}ji.prim="bls12_381_g1";class Hi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="Bls12381g2ValidationError"}}class Ki extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new Hi(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();e=this.convertUint8ArrayToHexString(e);const r=this.isValid(e);if(r)throw r;return{bytes:e}}EncodeObject(t,e){t=this.convertUint8ArrayToHexString(t);const r=this.isValid(t);if(r)throw r;return e&&e[Ki.prim]?e[Ki.prim](t):{bytes:t}}Execute(t){return t.bytes}ExtractSchema(){return Ki.prim}generateSchema(){return{__michelsonType:Ki.prim,schema:Ki.prim}}findAndReturnTokens(t,e){return Ki.prim===t&&e.push(this),e}}Ki.prim="bls12_381_g2";class $i extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="ChestValidationError"}}class Gi extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new $i(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();e=this.convertUint8ArrayToHexString(e);const r=this.isValid(e);if(r)throw r;return{bytes:e}}EncodeObject(t,e){t=this.convertUint8ArrayToHexString(t);const r=this.isValid(t);if(r)throw r;return e&&e[Gi.prim]?e[Gi.prim](t):{bytes:t}}Execute(t){return t.bytes}ExtractSchema(){return Gi.prim}generateSchema(){return{__michelsonType:Gi.prim,schema:Gi.prim}}findAndReturnTokens(t,e){return Gi.prim===t&&e.push(this),e}}Gi.prim="chest";class Fi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="ChestKeyValidationError"}}class Vi extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}isValid(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new Fi(t,this,`Invalid bytes: ${t}`)}convertUint8ArrayToHexString(t){return t.constructor===Uint8Array?Rr.from(t).toString("hex"):t}Encode(t){let e=t.pop();e=this.convertUint8ArrayToHexString(e);const r=this.isValid(e);if(r)throw r;return{bytes:e}}EncodeObject(t,e){t=this.convertUint8ArrayToHexString(t);const r=this.isValid(t);if(r)throw r;return e&&e[Vi.prim]?e[Vi.prim](t):{bytes:t}}Execute(t){return t.bytes}ExtractSchema(){return Vi.prim}generateSchema(){return{__michelsonType:Vi.prim,schema:Vi.prim}}findAndReturnTokens(t,e){return Vi.prim===t&&e.push(this),e}}Vi.prim="chest_key";class zi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="GlobalConstantEncodingError"}}class qi extends Nr{constructor(t,e,r){super(t,e,r),this.value=t,this.token=e,this.name="GlobalConstantDecodingError"}}class Zi extends Cr{constructor(t,e,r){super(t,e,r),this.val=t,this.idx=e,this.fac=r}Execute(t,e){if(e&&e[Zi.prim])return e[Zi.prim](t,this.val);throw new qi(t,this,`Unable to decode a value represented by a global constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following global constant hash was encountered: ${this.val.args[0].string}.`)}Encode(t){throw new zi(t,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}EncodeObject(t,e){if(e&&e[Zi.prim])return e[Zi.prim](t);throw new zi(t,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}ExtractSchema(){return Zi.prim}generateSchema(){return{__michelsonType:Zi.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(t,e){return Zi.prim===t&&e.push(this),e}}Zi.prim="constant";const Xi=[Fr,zr,qr,Dr,Xr,ti,Wr,Jr,Hr,ri,ni,oi,ci,hi,ui,di,li,bi,mi,vi,_i,wi,Ai,Ti,Ri,Li,ki,Ci,Bi,ji,Ki,Gi,Vi,Zi];class Yi extends Error{constructor(t,e){super(t),this.message=t,this.data=e,this.name="Invalid token error"}}function Wi(t,e){if(Array.isArray(t))return new Fr(t,e,Wi);const r=Xi.find((e=>e.prim===t.prim));if(!r)throw new Yi("Malformed data expected a value with a valid prim property",t);return new r(t,e,Wi)}class Ji extends Error{constructor(t,e){super(`Unable to encode the parameter of the view: ${t}.`),this.smartContractViewName=t,this.originalError=e,this.name="ViewEncodingError"}}class Qi extends Error{constructor(t){super(t),this.message=t,this.name="InvalidScriptError"}}class tn extends Error{constructor(t){super("Invalid RPC response passed as argument(s)"),this.script=t,this.name="InvalidRpcResponseError"}}class en extends Error{constructor(t,e,r){super(`\n      ${t}. Error encountered when trying to encode arguments: \n\n      [${e}]\n    `),this.message=t,this.args=e,this.originalError=r,this.name="ParameterEncodingError"}}class rn extends Error{constructor(t){super(t),this.message=t,this.name="InvalidBigMapSchema"}}class nn extends Error{constructor(t){super(t),this.message=t,this.name="InvalidBigMapDiff"}}class sn extends Error{constructor(t,e){super(`Unable to encode ${t}. ${e}`),this.obj=t,this.details=e,this.name="BigMapEncodingError"}}class on extends Error{constructor(t,e){super(`Unable to encode ${t}. ${e}`),this.obj=t,this.details=e,this.name="StorageEncodingError"}}class an extends Error{constructor(t){super(t),this.message=t,this.name="MissingArgumentError"}}var cn;const hn=Symbol.for("taquito-schema-type-symbol");function un(t,e=Fr.prim){var r,i;if(Array.isArray(t))return un({prim:e,args:t},e);const n=t;return n.prim===e&&n.args&&n.args.length>2?Object.assign(Object.assign({},n),{args:[null===(r=n.args)||void 0===r?void 0:r[0],{prim:e,args:null===(i=n.args)||void 0===i?void 0:i.slice(1)}]}):n}function fn(t,e){const r=un(t),i=un(e);return r.prim===i.prim&&(void 0===r.args&&void 0===i.args||void 0!==r.args&&void 0!==i.args&&r.args.length===i.args.length&&r.args.every(((t,e)=>{var r,n;return fn(t,null!==(n=null===(r=i.args)||void 0===r?void 0:r[e])&&void 0!==n?n:{})})))&&(void 0===r.annots&&void 0===i.annots||void 0!==r.annots&&void 0!==i.annots&&r.annots.length===i.annots.length&&r.annots.every(((t,e)=>{var r;return t===(null===(r=i.annots)||void 0===r?void 0:r[e])})))}class dn{constructor(t){if(this.val=t,this[cn]=!0,this.root=Wi(t,0),this.root instanceof Dr)this.bigMap=this.root;else if(this.isExpressionExtended(t)&&"pair"===t.prim){const e=t.args[0];this.isExpressionExtended(e)&&"big_map"===e.prim&&(this.bigMap=new Dr(e,0,Wi))}}static isSchema(t){return t&&!0===t[hn]}static fromRPCResponse(t){const e=t&&t.script&&Array.isArray(t.script.code)&&t.script.code.find((e=>{if(!Array.isArray(e)){const t=e;return!!t.prim&&"storage"===t.prim}this.fromRPCResponse({script:{code:e,storage:t.script.storage}})}));if(!e||!Array.isArray(e.args))throw new tn(t.script);return new dn(e.args[0])}isExpressionExtended(t){return"prim"in t&&Array.isArray(t.args)}removeTopLevelAnnotation(t){return(this.root instanceof Fr||this.root instanceof Hr)&&this.root.hasAnnotations()&&"object"==typeof t&&1===Object.keys(t).length?t[Object.keys(t)[0]]:t}Execute(t,e){const r=this.root.Execute(t,e);return this.removeTopLevelAnnotation(r)}Typecheck(t){if(this.root instanceof Dr&&Number.isInteger(Number(t)))return!0;try{return this.root.EncodeObject(t),!0}catch(e){return!1}}ExecuteOnBigMapDiff(t,e){if(!this.bigMap)throw new rn("Big map schema is undefined");if(!Array.isArray(t))throw new nn("Big map diff must be an array");const r=t.map((({key:t,value:e})=>({args:[t,e]})));return this.bigMap.Execute(r,e)}ExecuteOnBigMapValue(t,e){if(!this.bigMap)throw new rn("No big map schema");return this.bigMap.ValueSchema.Execute(t,e)}EncodeBigMapKey(t){if(!this.bigMap)throw new rn("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(t)}catch(e){throw new sn("big map key",e)}}Encode(t,e){try{return this.root.EncodeObject(t,e)}catch(r){if(r instanceof Nr)throw r;throw new on("storage object",r)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(t,e){if(!this.bigMap)throw new rn("Big map schema is undefined");const r=t.reduce(((t,e)=>Object.assign(Object.assign({},t),this.ExecuteOnBigMapDiff(e.contents[0].metadata.operation_result.big_map_diff))),{});return Object.assign(Object.assign({},this.Execute(e)),{[this.bigMap.annot()]:r})}FindFirstInTopLevelPair(t,e){return this.findValue(this.root.val,t,e)}findValue(t,e,r){if(fn(r,t))return e;if(Array.isArray(t)||"pair"===t.prim){const i=un(t),n=un(e,"Pair");if(void 0===i.args||void 0===n.args)throw new an("Tokens have no arguments");if(i.args[0])return this.findValue(i.args[0],n.args[0],r)||this.findValue(i.args[1],n.args[1],r)}}findToken(t){return this.root.findAndReturnTokens(t,[])}}cn=hn;class ln{constructor(t){this.root=Wi(t,0)}static fromRPCResponse(t){const e=t&&t.script&&Array.isArray(t.script.code)&&t.script.code.find((t=>"parameter"===t.prim));if(!e||!Array.isArray(e.args))throw new tn(t.script);return new ln(e.args[0])}get isMultipleEntryPoint(){return this.root instanceof Hr||this.root instanceof hi&&this.root.subToken()instanceof Hr}get hasAnnotation(){return!this.isMultipleEntryPoint||"0"!==Object.keys(this.ExtractSchema())[0]}Execute(t,e){return this.root.Execute(t,e)}Encode(...t){try{return this.root.Encode(t.reverse())}catch(e){if(e instanceof Nr)throw e;throw new en("Unable to encode parameter",t.toString(),e)}}EncodeObject(t,e){try{return this.root.EncodeObject(t,e)}catch(r){if(r instanceof Nr)throw r;throw new en("Unable to encode parameter object",t,r)}}ExtractSchema(){return this.root.ExtractSchema()}generateSchema(){return this.root.generateSchema()}ExtractSignatures(){return this.root.ExtractSignature()}}class pn{constructor(t){if(4!==t.length||!("string"in t[0]))throw new Qi(`Invalid on-chain view: ${JSON.stringify(t)}`);this.viewName=t[0].string,this.viewArgsType=t[1],this.viewReturnType=t[2],this.instructions=t[3],this.rootArgsType=Wi(this.viewArgsType,0),this.rootReturnType=Wi(this.viewReturnType,0)}static fromRPCResponse(t){const e=[],r=t&&t.script&&Array.isArray(t.script.code)&&t.script.code.filter((t=>"view"===t.prim));return r&&r.forEach((t=>{if(!t.args||4!==t.args.length)throw new Qi(`Invalid on-chain view found in the script: ${JSON.stringify(t)}`);e.push(new pn(t.args))})),e}encodeViewArgs(t){try{return this.rootArgsType.EncodeObject(t)}catch(e){throw new Ji(this.viewName,e)}}decodeViewResult(t,e){return this.rootReturnType.Execute(t,e)}extractArgsSchema(){return this.rootArgsType.ExtractSchema()}extractResultSchema(){return this.rootReturnType.ExtractSchema()}}const bn=Symbol(),gn=Symbol("source_reference");class mn extends Error{constructor(t,e,r){super(r),this.src=t,this.idx=e,Object.setPrototypeOf(this,mn.prototype)}}var yn;!function(t){t[t.Comment=0]="Comment",t[t.Number=1]="Number",t[t.String=2]="String",t[t.Bytes=3]="Bytes",t[t.Ident=4]="Ident"}(yn||(yn={}));const vn=new RegExp("\\s"),_n=new RegExp("[:@%_A-Za-z]"),wn=new RegExp("[@%_\\.A-Za-z0-9]"),En=new RegExp("[0-9]"),An=new RegExp("[0-9a-fA-F]");function*Sn(t,e=!1){let r=0;for(;r<t.length;){for(;r<t.length&&vn.test(t[r]);)r++;if(r===t.length)return;const i=t[r],n=r;if(_n.test(i)){for(r++;r<t.length&&wn.test(t[r]);)r++;yield{t:yn.Ident,v:t.slice(n,r),first:n,last:r}}else if(t.length-r>1&&"0x"===t.substr(r,2)){for(r+=2;r<t.length&&An.test(t[r]);)r++;if(0!=(r-n&1))throw new mn(t,r,"Bytes literal length is expected to be power of two");yield{t:yn.Bytes,v:t.slice(n,r),first:n,last:r}}else if(En.test(i)||"-"===i){"-"===i&&r++;const e=r;for(;r<t.length&&En.test(t[r]);)r++;if(e===r)throw new mn(t,r,"Number literal is too short");yield{t:yn.Number,v:t.slice(n,r),first:n,last:r}}else if('"'===i){r++;let e=!1;for(;r<t.length&&(e||'"'!==t[r]);r++)e=!e&&"\\"===t[r];if(r===t.length)throw new mn(t,r,"Unterminated string literal");r++,yield{t:yn.String,v:t.slice(n,r),first:n,last:r}}else if("#"===i){for(r++;r<t.length&&"\n"!==t[r];)r++;e&&(yield{t:yn.Comment,v:t.slice(n,r),first:n,last:r})}else if(t.length-r>1&&"/*"===t.substr(r,2)){for(r+=2;r<t.length&&!(t.length-r>1&&"*/"===t.substr(r,2));)r++;if(r===t.length)throw new mn(t,r,"Unterminated C style comment");r+=2,e&&(yield{t:yn.Comment,v:t.slice(n,r),first:n,last:r})}else{if("("!==i&&")"!==i&&"{"!==i&&"}"!==i&&";"!==i)throw new mn(t,r,`Invalid character at offset ${r}: \`${i}'`);r++,yield{t:i,v:i,first:n,last:r}}}}const Tn=Symbol("ref_contract");var On;!function(t){t.Ps9mPmXa="Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P",t.PtCJ7pwo="PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY",t.PsYLVpVv="PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt",t.PsddFKi3="PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP",t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdoTez="PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLoren="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",t.PtGRANAD="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",t.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",t.PtHangzH="PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r",t.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",t.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",t.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",t.PtJakarta="PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw",t.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",t.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(On||(On={}));const xn=On.Psithaca2,In={Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P:0,PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY:1,PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt:2,PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP:3,Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq:8,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r:11,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP:12,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw:13,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:14};function Rn(t,e){return In[t]<In[e]}class Pn extends Error{constructor(t,e){super(e),this.prim=t,Object.setPrototypeOf(this,Pn.prototype)}}function Ln(t,e){var r,i;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new Pn(t,`macro ${t.prim} expects ${e} arguments, was given ${null===(i=t.args)||void 0===i?void 0:i.length}`)}function Mn(t){if(void 0===t.annots)return!0;throw new Pn(t,`unexpected annotation on macro ${t.prim}: ${t.annots}`)}function kn(t,e){if("int"in e)return!0;throw new Pn(t,`macro ${t.prim} expects int argument`)}function Nn(t,e,r,i){let n=0,s=0;const o=[null,null];let a;if(n===e.length)throw new Pn(t,`unexpected end: ${t.prim}`);let c,h=e[n++];switch(h){case"P":{const{r:o,n:c,an:h}=Nn(t,e.slice(n),r.slice(s),i);a=o,n+=c,s+=h;break}case"A":s!==r.length&&(o[0]=r[s++]);break;default:throw new Pn(t,`${t.prim}: unexpected character: ${h}`)}if(n===e.length)throw new Pn(t,`unexpected end: ${t.prim}`);switch(h=e[n++],h){case"P":{const{r:o,n:a,an:h}=Nn(t,e.slice(n),r.slice(s),i);c=o.map((([t,e])=>[t+1,e])),n+=a,s+=h;break}case"I":s!==r.length&&(o[1]=r[s++]);break;default:throw new Pn(t,`${t.prim}: unexpected character: ${h}`)}return{r:i(a,c,[0,o]),n:n,an:s}}function Cn(t,e,r,i){const n=e[0];switch(n){case"A":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},Cn(t,e.slice(1),[],i)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%@","%@",...r]}]:i.a;case"D":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},Cn(t,e.slice(1),[],i)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%@",...r]}]:i.d;default:throw new Pn(t,`${t.prim}: unexpected character: ${n}`)}}function Un(t,e){let r=t.length;for(;r>0&&t[r-1]===e;)r--;return t.slice(0,r)}function Bn(t){const e=[],r=[];if(void 0!==t)for(const i of t)(0!==i.length&&"%"===i[0]?e:r).push(i);return{fields:e,rest:r}}function Dn({prim:t,annots:e,args:r}){return Object.assign(Object.assign({prim:t},e&&{annots:e}),r&&{args:r})}const jn=/^P[PAI]{3,}R$/,Hn=/^UNP[PAI]{2,}R$/,Kn=/^C[AD]{2,}R$/,$n=/^SET_C[AD]+R$/,Gn=/^MAP_C[AD]+R$/,Fn=/^DI{2,}P$/,Vn=/^DU+P$/;class zn extends Error{constructor(t,e){super(e),this.token=t,Object.setPrototypeOf(this,zn.prototype)}}class qn extends Error{constructor(t,e){super(e),this.node=t,Object.setPrototypeOf(this,qn.prototype)}}const Zn=new zn(null,"Unexpected EOF");function Xn(t){return t.t===yn.Ident&&("@"===t.v[0]||"%"===t.v[0]||":"===t.v[0])}const Yn=new RegExp("^-?[0-9]+$"),Wn=new RegExp("^([0-9a-fA-F]{2})*$");class Jn{constructor(t){this.opt=t}expand(t){var e,r,i;if(void 0!==(null===(e=this.opt)||void 0===e?void 0:e.expandGlobalConstant)&&"constant"===t.prim){const e=function(t,e){return void 0!==t.args&&1===t.args.length&&"string"in t.args[0]&&t.args[0].string in e?e[t.args[0].string]:t}(t,this.opt.expandGlobalConstant);return e!==t&&(e[gn]=Object.assign(Object.assign({},t[gn]||{first:0,last:0}),{globalConstant:t})),e}if(void 0===(null===(r=this.opt)||void 0===r?void 0:r.expandMacros)||(null===(i=this.opt)||void 0===i?void 0:i.expandMacros)){const e=function(t,e){const r=(null==e?void 0:e.protocol)||xn;function i(t){return void 0!==t?[{prim:"RENAME",annots:t}]:[]}switch(t.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(Ln(t,0))return[{prim:"COMPARE"},Dn({prim:t.prim.slice(3),annots:t.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(Ln(t,2))return[{prim:t.prim.slice(2)},Dn({prim:"IF",annots:t.annots,args:t.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(Ln(t,2))return[{prim:"COMPARE"},{prim:t.prim.slice(5)},Dn({prim:"IF",annots:t.annots,args:t.args})];break;case"FAIL":if(Ln(t,0)&&Mn(t))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(Ln(t,0)&&Mn(t))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(Ln(t,0)&&Mn(t))return[{prim:t.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(Ln(t,0)&&Mn(t))return[[{prim:"COMPARE"},{prim:t.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(Ln(t,0)&&Mn(t))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(Ln(t,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],i(t.annots)]}];break;case"ASSERT_LEFT":if(Ln(t,0))return[{prim:"IF_LEFT",args:[i(t.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(Ln(t,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],i(t.annots)]}];break;case"IF_SOME":if(Ln(t,2))return[Dn({prim:"IF_NONE",annots:t.annots,args:[t.args[1],t.args[0]]})];break;case"IF_RIGHT":if(Ln(t,2))return[Dn({prim:"IF_LEFT",annots:t.annots,args:[t.args[1],t.args[0]]})];break;case"CAR":case"CDR":if(void 0===t.args)return t;if(Ln(t,1)&&kn(t,t.args[0])){const e=parseInt(t.args[0].int,10);return Dn({prim:"GET",args:[{int:"CAR"===t.prim?String(2*e+1):String(2*e)}],annots:t.annots})}}if(jn.test(t.prim)&&Ln(t,0)){const{fields:e,rest:r}=Bn(t.annots),{r:i}=Nn(t,t.prim.slice(1),e,((t,e,r)=>[...t||[],...e||[],r]));return i.map((([t,e],n)=>{const s=[...Un(e,null).map((t=>null===t?"%":t)),...0===t&&n===i.length-1?r:[]],o=Dn({prim:"PAIR",annots:0!==s.length?s:void 0});return 0===t?o:{prim:"DIP",args:1===t?[[o]]:[{int:String(t)},[o]]}}))}if(Hn.test(t.prim)){if(Rn(r,On.PtEdo2Zk)&&Ln(t,0)){const{r:e}=Nn(t,t.prim.slice(3),t.annots||[],((t,e,r)=>[r,...e||[],...t||[]]));return e.map((([t,e])=>{const r=[{prim:"DUP"},Dn({prim:"CAR",annots:null!==e[0]?[e[0]]:void 0}),{prim:"DIP",args:[[Dn({prim:"CDR",annots:null!==e[1]?[e[1]]:void 0})]]}];return 0===t?r:{prim:"DIP",args:1===t?[[r]]:[{int:String(t)},[r]]}}))}if("UNPAIR"===t.prim)return t;if(Ln(t,0)){const{r:e}=Nn(t,t.prim.slice(3),[],((t,e,r)=>[r,...e||[],...t||[]]));return e.map((([t])=>{const e=Dn({prim:"UNPAIR"});return 0===t?e:{prim:"DIP",args:1===t?[[e]]:[{int:String(t)},[e]]}}))}}if(Kn.test(t.prim)&&Ln(t,0)){const e=[...t.prim.slice(1,t.prim.length-1)];return e.map(((r,i)=>{const n=i===e.length-1?t.annots:void 0;switch(r){case"A":return Dn({prim:"CAR",annots:n});case"D":return Dn({prim:"CDR",annots:n});default:throw new Pn(t,`unexpected character: ${r}`)}}))}if($n.test(t.prim)&&Ln(t,0)){const{fields:e,rest:r}=Bn(t.annots);if(e.length>1)throw new Pn(t,`unexpected annotation on macro ${t.prim}: ${e}`);const i=0!==e.length?{a:[{prim:"DUP"},{prim:"CAR",annots:e},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[e[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:e},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",e[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return Cn(t,t.prim.slice(5,t.prim.length-1),r,i)}if(Gn.test(t.prim)&&Ln(t,1)){const{fields:e}=Bn(t.annots);if(e.length>1)throw new Pn(t,`unexpected annotation on macro ${t.prim}: ${e}`);const r={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[Dn({prim:"CAR",annots:0!==e.length?["@"+e[0].slice(1)]:void 0}),t.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[0!==e.length?e[0]:"%","%@"]}],d:[{prim:"DUP"},Dn({prim:"CDR",annots:0!==e.length?["@"+e[0].slice(1)]:void 0}),t.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",0!==e.length?e[0]:"%"]}]};return Cn(t,t.prim.slice(5,t.prim.length-1),[],r)}if(Fn.test(t.prim)&&Ln(t,1)){let e=0;for(;"I"===t.prim[1+e];)e++;return Dn({prim:"DIP",args:[{int:String(e)},t.args[0]]})}if(Vn.test(t.prim)){let e=0;for(;"U"===t.prim[1+e];)e++;if(Rn(r,On.PtEdo2Zk)){if(1===e){if(void 0===t.args)return t;Ln(t,1)&&kn(t,t.args[0])&&(e=parseInt(t.args[0].int,10))}else Ln(t,0);return 1===e?[Dn({prim:"DUP",annots:t.annots})]:2===e?[{prim:"DIP",args:[[Dn({prim:"DUP",annots:t.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(e-1)},[Dn({prim:"DUP",annots:t.annots})]]},{prim:"DIG",args:[{int:String(e)}]}]}if(1===e)return t;if(Ln(t,0))return Dn({prim:"DUP",args:[{int:String(e)}],annots:t.annots})}return t}(t,this.opt);return e!==t&&(e[gn]=Object.assign(Object.assign({},t[gn]||{first:0,last:0}),{macro:t})),e}return t}parseListExpr(t,e){var r;const i={first:e.first,last:e.last},n="("===e.t;let s;if(n){if(s=t.next(),s.done)throw Zn;i.last=s.value.last}else s={value:e};if(s.value.t!==yn.Ident)throw new zn(s.value,`not an identifier: ${s.value.v}`);const o={prim:s.value.v,[gn]:i};for(;;){const e=t.next();if(e.done){if(n)throw Zn;break}if(")"===e.value.t){if(!n)throw new zn(e.value,"unexpected closing bracket");i.last=e.value.last;break}if(Xn(e.value))o.annots=o.annots||[],o.annots.push(e.value.v),i.last=e.value.last;else{o.args=o.args||[];const n=this.parseExpr(t,e.value);i.last=(null===(r=n[gn])||void 0===r?void 0:r.last)||i.last,o.args.push(n)}}return this.expand(o)}parseArgs(t,e){var r;const i={first:e.first,last:e.last},n={prim:e.v,[gn]:i};for(;;){const e=t.next();if(e.done||"}"===e.value.t||";"===e.value.t)return[n,e];if(Xn(e.value))i.last=e.value.last,n.annots=n.annots||[],n.annots.push(e.value.v);else{const s=this.parseExpr(t,e.value);i.last=(null===(r=s[gn])||void 0===r?void 0:r.last)||i.last,n.args=n.args||[],n.args.push(s)}}}parseSequenceExpr(t,e){var r,i;const n={first:e.first,last:e.last},s=[];s[gn]=n;const o="{"===e.t;let a="{"===e.t?null:{value:e};for(;;){if(null===a&&(a=t.next(),a.done||(n.last=a.value.last)),a.done){if(o)throw Zn;return s}if("}"===a.value.t){if(o)return s;throw new zn(a.value,"unexpected closing bracket")}if(a.value.t===yn.Ident){const[e,i]=this.parseArgs(t,a.value);n.last=(null===(r=e[gn])||void 0===r?void 0:r.last)||n.last,s.push(this.expand(e)),a=i}else{const e=this.parseExpr(t,a.value);n.last=(null===(i=e[gn])||void 0===i?void 0:i.last)||n.last,s.push(e),a=null}null===a&&(a=t.next(),a.done||(n.last=a.value.last)),a.done||";"!==a.value.t||(a=null)}}parseExpr(t,e){switch(e.t){case yn.Ident:return this.expand({prim:e.v,[gn]:{first:e.first,last:e.last}});case yn.Number:return{int:e.v,[gn]:{first:e.first,last:e.last}};case yn.String:return{string:JSON.parse(e.v),[gn]:{first:e.first,last:e.last}};case yn.Bytes:return{bytes:e.v.slice(2),[gn]:{first:e.first,last:e.last}};case"{":return this.parseSequenceExpr(t,e);default:return this.parseListExpr(t,e)}}parseSequence(t){if("string"!=typeof t)throw new TypeError(`string type was expected, got ${typeof t} instead`);const e=Sn(t),r=e.next();return r.done?null:this.parseSequenceExpr(e,r.value)}parseList(t){if("string"!=typeof t)throw new TypeError(`string type was expected, got ${typeof t} instead`);const e=Sn(t),r=e.next();return r.done?null:this.parseListExpr(e,r.value)}parseMichelineExpression(t){if("string"!=typeof t)throw new TypeError(`string type was expected, got ${typeof t} instead`);const e=Sn(t),r=e.next();return r.done?null:this.parseExpr(e,r.value)}parseScript(t){return this.parseSequence(t)}parseData(t){return this.parseList(t)}parseJSON(t){if("object"!=typeof t)throw new TypeError(`object type was expected, got ${typeof t} instead`);if(Array.isArray(t)){const e=[];for(const r of t){if(null===r||"object"!=typeof r)throw new qn(r,`unexpected sequence element: ${r}`);e.push(this.parseJSON(r))}return e}if("prim"in t){const e=t;if("string"==typeof e.prim&&(void 0===e.annots||Array.isArray(e.annots))&&(void 0===e.args||Array.isArray(e.args))){const t={prim:e.prim};if(void 0!==e.annots){for(const t of e.annots)if("string"!=typeof t)throw new qn(t,`string expected: ${t}`);t.annots=e.annots}if(void 0!==e.args){t.args=[];for(const r of e.args){if(null===r||"object"!=typeof r)throw new qn(r,`unexpected argument: ${r}`);t.args.push(this.parseJSON(r))}}return this.expand(t)}throw new qn(t,`malformed prim expression: ${t}`)}if("string"in t){if("string"==typeof t.string)return{string:t.string};throw new qn(t,`malformed string literal: ${t}`)}if("int"in t){if("string"==typeof t.int&&Yn.test(t.int))return{int:t.int};throw new qn(t,`malformed int literal: ${t}`)}if("bytes"in t){if("string"==typeof t.bytes&&Wn.test(t.bytes))return{bytes:t.bytes};throw new qn(t,`malformed bytes literal: ${t}`)}throw new qn(t,`unexpected object: ${t}`)}}const Qn=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ts=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class es extends Error{constructor(t){super(t),this.message=t,this.name="Base58DecodingError"}}class rs extends Error{constructor(t){super(t),this.message=t,this.name="InvalidMessageError"}}function is(t){const e=(t.length+9)%64,r=0===e?0:64-e;if(t.length>268435455)throw new rs(`SHA-256 -- message length is too big: ${t.length}`);const i=t.length<<3,n=[...t,128,...new Array(r).fill(0),0,0,0,0,i>>24&255,i>>16&255,i>>8&255,255&i];function s(t,e){return t>>>e|t<<32-e}const o=[...Qn],a=new Array(64),c=new Array(8);for(let u=0;u<n.length;u+=64){let t=u,e=0;for(;e<16;)a[e]=n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],t+=4,e++;for(;e<64;){const t=s(a[e-15],7)^s(a[e-15],18)^a[e-15]>>>3,r=s(a[e-2],17)^s(a[e-2],19)^a[e-2]>>>10;a[e]=(0|r)+a[e-7]+t+a[e-16]|0,e++}for(let r=0;r<8;r++)c[r]=o[r];for(let r=0;r<64;r++){const t=s(c[0],2)^s(c[0],13)^s(c[0],22),e=s(c[4],6)^s(c[4],11)^s(c[4],25),i=c[7]+e+(c[4]&c[5]^~c[4]&c[6])+ts[r]+a[r]|0,n=t+(c[0]&c[1]^c[0]&c[2]^c[1]&c[2])|0;c[7]=c[6],c[6]=c[5],c[5]=c[4],c[4]=c[3]+i|0,c[3]=c[2],c[2]=c[1],c[1]=c[0],c[0]=i+n|0}for(let r=0;r<8;r++)o[r]=o[r]+c[r]|0}const h=[];for(const u of o)h.push(u>>24&255),h.push(u>>16&255),h.push(u>>8&255),h.push(255&u);return h}const ns=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57];function ss(t,e){const r=t.charCodeAt(e)-49;if(r>=ns.length||-1===ns[r])throw new es(`Unexpected character at position ${e}: ${t[e]}`);return ns[r]}function os(t){const e=function(t){const e=[];let r=0;for(;r<t.length&&0===ss(t,r);)r++;let i=r;for(;r<t.length;){let i=ss(t,r++),n=0;for(;0!==i||n<e.length;){const t=58*(e[n]||0)+i;e[n++]=t%256,i=Math.floor(t/256)}}for(;i-- >0;)e.push(0);return e.reverse()}(t);if(e.length<4)throw new es(`Data is too short ${e.length}`);const r=e.slice(0,e.length-4),i=e.slice(e.length-4),n=is(is(r));if(i[0]!==n[0]||i[1]!==n[1]||i[2]!==n[2]||i[3]!==n[3])throw new es("Invalid checksum");return r}class as extends Error{constructor(t){super(t),this.message=t,this.name="InvalidContractError"}}class cs extends Error{constructor(t){super(t),this.message=t,this.name="InvalidTypeExpressionError"}}class hs extends Error{constructor(t){super(t),this.message=t,this.name="InvalidDataExpressionError"}}class us extends Error{constructor(t){super(`Contract has no entrypoint named: '${t}'`),this.entrypoint=t,this.name="InvalidEntrypointError"}}class fs extends Error{constructor(t){super(t),this.message=t,this.name="TezosIdEncodeError"}}class ds extends Error{constructor(t){super(t),this.message=t,this.name="LongIntegerError"}}class ls extends Error{constructor(t){super(`Unable to parse hex byte: ${t}`),this.hexByte=t,this.name="HexParseError"}}class ps extends Error{constructor(t,e){super(e),this.val=t,Object.setPrototypeOf(this,ps.prototype)}}class bs extends ps{constructor(t,e,r){super(t,r),void 0!==e&&(this.data=e),Object.setPrototypeOf(this,bs.prototype)}}class gs{constructor(t){if(this.neg=!1,this.buf=[],void 0!==t)if("string"==typeof t)for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(0===e&&45===r)this.neg=!0;else{if(r<48||r>57)throw new ds(`unexpected character in integer constant: ${t[e]}`);this.append(r-48)}}else t<0?(this.neg=!0,this.append(-t)):this.append(t)}append(t){let e=0;for(;0!==t||e<this.buf.length;){const r=10*(this.buf[e]||0)+t;this.buf[e++]=r%256,t=Math.floor(r/256)}}cmp(t){if(this.neg!==t.neg)return(t.neg?1:0)-(this.neg?1:0);{let e=0;if(this.buf.length!==t.buf.length)e=this.buf.length<t.buf.length?-1:1;else if(0!==this.buf.length){let r=t.buf.length-1;for(;r>=0&&this.buf[r]===t.buf[r];)r--;e=r<0?0:this.buf[r]<t.buf[r]?-1:1}return this.neg?0===e?0:-e:e}}get sign(){return 0===this.buf.length?0:this.neg?-1:1}}function ms(t){const e=[];for(let r=0;r<t.length;r+=2){const i=parseInt(t.slice(r,r+2),16);if(Number.isNaN(i))return null;e.push(i)}return e}function ys(t){try{return new gs(t),!0}catch(cn){return!1}}function vs(t){try{return new gs(t).sign>=0}catch(cn){return!1}}const _s=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z.%@]*)?)$/;function ws(t,e){if(Array.isArray(t))return{};let r,i,n;if(void 0!==t.annots)for(const s of t.annots)if(0!==s.length){if(!_s.test(s)||!(null==e?void 0:e.specialVar)&&("@%"===s||"@%%"===s)||!(null==e?void 0:e.specialFields)&&"%@"===s)throw new ps(t,`${t.prim}: unexpected annotation: ${s}`);switch(s[0]){case"%":((null==e?void 0:e.emptyFields)||s.length>1)&&(r=r||[],r.push(s));break;case":":s.length>1&&(i=i||[],i.push(s));break;case"@":((null==e?void 0:e.emptyVar)||s.length>1)&&(n=n||[],n.push(s))}}return{f:r,t:i,v:n}}const Es={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]],RollupAddress:[20,[1,128,120,31]],TxRollupL2Address:[20,[6,161,166]]};function As(t,...e){const r=os(t);for(const i of e){const[t,e]=Es[i];if(r.length===t+e.length){let t=0;for(;t<e.length&&r[t]===e[t];)t++;if(t===e.length)return[i,r.slice(e.length)]}}return null}function Ss(t,e){const r=e,i=Array.isArray(r)?r:r.args;if(2===i.length){return"pair"===t?{prim:"pair",args:i}:{prim:"Pair",args:i}}return Object.assign(Object.assign({},Array.isArray(r)?{prim:t}:r),{args:[i[0],{prim:t,args:i.slice(1)}]})}function Ts(t){return Array.isArray(t)||"pair"===t.prim}function Os(t){return Array.isArray(t)||"prim"in t&&"Pair"===t.prim}const xs=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function Is(t){if("string"in t){if(vs(t.string))return new Date(parseInt(t.string,10));if(xs.test(t.string)){const e=new Date(t.string);if(!Number.isNaN(e.valueOf))return e}}else if(ys(t.int))return new Date(parseInt(t.int,10));return null}const Rs={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0,OPEN_CHEST:!0,SUB_MUTEZ:!0,MIN_BLOCK_TIME:!0},Ps=Object.assign({},Rs,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0,VIEW:!0}),Ls={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0,tx_rollup_l2_address:!0},Ms=Object.assign({},Ls,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_state:!0,ticket:!0,chest_key:!0,chest:!0});class ks extends ps{constructor(t,e){super(t,e),this.val=t,Object.setPrototypeOf(this,ks.prototype)}}function Ns(t){return"prim"in t}function Cs(t){if(Ns(t))return!0;throw new ks(t,"prim expression expected")}function Us(t){if(Array.isArray(t))return!0;throw new ks(t,"sequence expression expected")}function Bs(t){if(function(t){return Array.isArray(t)||"prim"in t}(t))return!0;throw new ks(t,"prim or sequence expression expected")}function Ds(t){if("-"===t.int[0])throw new ks(t,"natural number expected")}function js(t){if("int"in t)return!0;throw new ks(t,"int literal expected")}function Hs(t){if("string"in t)return!0;throw new ks(t,"string literal expected")}function Ks(t,e){var r;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new ks(t,`${e} arguments expected`)}function $s(t){var e,r;if(Array.isArray(t)){for(const e of t){if(!Array.isArray(e)&&!Ns(e))throw new ks(t,"sequence or prim expected");$s(e)}return!0}if(Cs(t)){if(Object.prototype.hasOwnProperty.call(Rs,t.prim))return Ks(t,0),!0;switch(t.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":void 0!==t.args&&Ks(t,1)&&js(t.args[0])&&Ds(t.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":Ks(t,1)&&js(t.args[0])&&Ds(t.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":Ks(t,1)&&Ws(t.args[0]);break;case"UNPACK":Ks(t,1)&&Fs(t.args[0]);break;case"CONTRACT":Ks(t,1)&&qs(t.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":Ks(t,2)&&(Us(t.args[0])&&$s(t.args[0]),Us(t.args[1])&&$s(t.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":Ks(t,1)&&$s(t.args[0]);break;case"CREATE_CONTRACT":Ks(t,1)&&to(t.args[0]);break;case"DIP":if(2===(null===(e=t.args)||void 0===e?void 0:e.length))js(t.args[0])&&Ds(t.args[0]),Us(t.args[1])&&$s(t.args[1]);else{if(1!==(null===(r=t.args)||void 0===r?void 0:r.length))throw new ks(t,"1 or 2 arguments expected");Us(t.args[0])&&$s(t.args[0])}break;case"PUSH":Ks(t,2)&&(Vs(t.args[0]),Qs(t.args[1]));break;case"EMPTY_SET":Ks(t,1)&&Gs(t.args[0]);break;case"EMPTY_MAP":Ks(t,2)&&(Gs(t.args[0]),Ws(t.args[1]));break;case"EMPTY_BIG_MAP":Ks(t,2)&&(Gs(t.args[0]),Zs(t.args[1]));break;case"LAMBDA":Ks(t,3)&&(Ws(t.args[0]),Ws(t.args[1]),Us(t.args[2])&&$s(t.args[2]));break;case"VIEW":Ks(t,2)&&(Hs(t.args[0])&&Ys(t.args[0]),Ws(t.args[1])&&Vs(t.args[1]));break;default:throw new ks(t,"instruction expected")}}return!0}function Gs(t){if(Bs(t))if(Array.isArray(t)||"pair"===t.prim||"or"===t.prim||"option"===t.prim)Js(t,(t=>Gs(t)));else if(!Object.prototype.hasOwnProperty.call(Ls,t.prim))throw new ks(t,`${t.prim}: type is not comparable`);return!0}function Fs(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim)throw new ks(t,`${t.prim}: type can't be used inside PACK/UNPACK instructions`);Js(t,(t=>Fs(t)))}return!0}function Vs(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim||"contract"===t.prim)throw new ks(t,`${t.prim}: type can't be pushed`);Js(t,(t=>Vs(t)))}return!0}function zs(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim)||"operation"===t.prim||"contract"===t.prim)throw new ks(t,`${t.prim}: type can't be used as part of a storage`);Js(t,(t=>zs(t)))}return!0}function qs(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim)||"operation"===t.prim)throw new ks(t,`${t.prim}: type can't be used as part of a parameter`);Js(t,(t=>qs(t)))}return!0}function Zs(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim)throw new ks(t,`${t.prim}: type can't be used inside a big_map`);Js(t,(t=>Zs(t)))}return!0}const Xs=new RegExp("^[a-zA-Z0-9_.%@]*$");function Ys(t){if(t.string.length>31)throw new ks(t,`view name too long: ${t.string}`);if(!Xs.test(t.string))throw new ks(t,`invalid character(s) in view name: ${t.string}`)}function Ws(t){if(Bs(t)&&Ns(t)){if(!Object.prototype.hasOwnProperty.call(Ms,t.prim))throw new ks(t,"type expected");Js(t,(t=>Ws(t)))}return!0}function Js(t,e){if(Array.isArray(t)||"pair"===t.prim){const r=Array.isArray(t)?t:t.args;if(void 0===r||r.length<2)throw new ks(t,"at least 2 arguments expected");return r.forEach((t=>{Bs(t)&&e(t)})),!0}switch(t.prim){case"option":case"list":Ks(t,1)&&Bs(t.args[0])&&e(t.args[0]);break;case"contract":Ks(t,1)&&qs(t.args[0]);break;case"or":Ks(t,2)&&Bs(t.args[0])&&Bs(t.args[1])&&(e(t.args[0]),e(t.args[1]));break;case"lambda":Ks(t,2)&&(Ws(t.args[0]),Ws(t.args[1]));break;case"set":Ks(t,1)&&Gs(t.args[0]);break;case"map":Ks(t,2)&&Bs(t.args[0])&&Bs(t.args[1])&&(Gs(t.args[0]),e(t.args[1]));break;case"big_map":Ks(t,2)&&Bs(t.args[0])&&Bs(t.args[1])&&(Gs(t.args[0]),Zs(t.args[1]),e(t.args[1]));break;case"ticket":Ks(t,1)&&Bs(t.args[0])&&Gs(t.args[0]);break;case"sapling_state":case"sapling_transaction":Ks(t,1)&&js(t.args[0]);break;default:Ks(t,0)}return!0}function Qs(t){if("int"in t||"string"in t||"bytes"in t)return!0;if(Array.isArray(t)){let e=0;for(const r of t)Ns(r)&&"Elt"===r.prim?(Ks(r,2)&&(Qs(r.args[0]),Qs(r.args[1])),e++):Qs(r);if(0!==e&&e!==t.length)throw new ks(t,"data entries and map elements can't be intermixed");return!0}if(!Ns(t))throw new ks(t,"data entry expected");switch(t.prim){case"Unit":case"True":case"False":case"None":Ks(t,0);break;case"Pair":if(void 0===t.args||t.args.length<2)throw new ks(t,"at least 2 arguments expected");for(const e of t.args)Qs(e);break;case"Left":case"Right":case"Some":Ks(t,1)&&Qs(t.args[0]);break;default:if(!Object.prototype.hasOwnProperty.call(Ps,t.prim))throw new ks(t,"data entry or instruction expected");$s(t)}return!0}function to(t){if(Us(t)){const e={},r={};for(const i of t)if(Cs(i)){if("view"!==i.prim){if(i.prim in e)throw new ks(t,`duplicate contract section: ${i.prim}`);e[i.prim]=!0}switch(i.prim){case"code":Ks(i,1)&&Us(i.args[0])&&$s(i.args[0]);break;case"parameter":if(Ks(i,1)&&qs(i.args[0]),i.annots)throw new ks(i,"Annotation must be part of the parameter type");break;case"storage":Ks(i,1)&&zs(i.args[0]);break;case"view":if(Ks(i,4)){if(Hs(i.args[0])){const e=i.args[0];if(e.string in r)throw new ks(t,`duplicate view name: ${e.string}`);r[e.string]=!0,Ys(e)}Vs(i.args[1]),Vs(i.args[2]),Us(i.args[3])&&$s(i.args[3])}break;default:throw new ks(t,`unexpected contract section: ${i.prim}`)}}}return!0}function eo(t){return Object.prototype.hasOwnProperty.call(Ps,t.prim)}function ro(t){if(!Array.isArray(t))return!1;for(const e of t)if("prim"in e){if(eo(e))throw new ps(t,`Instruction outside of a lambda: ${JSON.stringify(t)}`);if("Elt"===e.prim)throw new ps(t,`Elt item outside of a map literal: ${JSON.stringify(t)}`)}return!0}const io=["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE","chest","chest_key","OPEN_CHEST","VIEW","view","constant","SUB_MUTEZ"];Object.assign({},...io.map(((t,e)=>({[t]:e}))));var no;!function(t){t[t.Int=0]="Int",t[t.String=1]="String",t[t.Sequence=2]="Sequence",t[t.Prim0=3]="Prim0",t[t.Prim0Annot=4]="Prim0Annot",t[t.Prim1=5]="Prim1",t[t.Prim1Annot=6]="Prim1Annot",t[t.Prim2=7]="Prim2",t[t.Prim2Annot=8]="Prim2Annot",t[t.Prim=9]="Prim",t[t.Bytes=10]="Bytes"}(no||(no={}));const so=new Error("bounds out of range");class oo{constructor(t,e=0,r=t.length){this.buffer=t,this.idx=e,this.cap=r}get length(){return this.cap-this.idx}readBytes(t){if(this.cap-this.idx<t)throw so;const e=this.buffer.slice(this.idx,this.idx+t);return this.idx+=t,e}reader(t){if(this.cap-this.idx<t)throw so;const e=new oo(this.buffer,this.idx,this.idx+t);return this.idx+=t,e}copy(){return new oo(this.buffer,this.idx,this.cap)}readUint8(){if(this.cap-this.idx<1)throw so;return this.buffer[this.idx++]>>>0}readUint16(){if(this.cap-this.idx<2)throw so;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0}readUint32(){if(this.cap-this.idx<4)throw so;return(this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0}readInt8(){if(this.cap-this.idx<1)throw so;return this.buffer[this.idx++]<<24>>24}readInt16(){if(this.cap-this.idx<2)throw so;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])<<16>>16}readInt32(){if(this.cap-this.idx<4)throw so;return this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++]}}var ao,co,ho;function uo(t){let e;const r=t.readUint8();switch(r){case co.ED25519:e="ED25519PublicKeyHash";break;case co.SECP256K1:e="SECP256K1PublicKeyHash";break;case co.P256:e="P256PublicKeyHash";break;default:throw new Error(`unknown public key hash tag: ${r}`)}return{type:e,hash:t.readBytes(20)}}function fo(t){let e;const r=t.readUint8();switch(r){case ao.Implicit:e=uo(t);break;case ao.Originated:e={type:"ContractHash",hash:t.readBytes(20)},t.readBytes(1);break;default:throw new Error(`unknown address tag: ${r}`)}if(0!==t.length){const r=new TextDecoder;e.entryPoint=r.decode(new Uint8Array(t.readBytes(t.length)))}return e}function lo(t){let e,r;const i=t.readUint8();switch(i){case ho.ED25519:r="ED25519PublicKey",e=32;break;case ho.SECP256K1:r="SECP256K1PublicKey",e=33;break;case ho.P256:r="P256PublicKey",e=33;break;default:throw new Error(`unknown public key tag: ${i}`)}return{type:r,publicKey:t.readBytes(e)}}!function(t){t[t.Implicit=0]="Implicit",t[t.Originated=1]="Originated"}(ao||(ao={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(co||(co={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(ho||(ho={}));class po extends ps{constructor(t,e,r){super(t,r),this.stackState=e,Object.setPrototypeOf(this,po.prototype)}}function bo(t){return Array.isArray(t)?"pair":t.prim}function go(t){return"prim"in t?t.args:t}function mo(t,e,r=!1){if(bo(t)!==bo(e))throw new bs(t,void 0,`types mismatch: ${bo(t)} != ${bo(e)}`);const i=[ws(t),ws(e)];if(i[0].t&&i[1].t&&i[0].t[0]!==i[1].t[0])throw new bs(t,void 0,`${bo(t)}: type names mismatch: ${i[0].t[0]} != ${i[1].t[0]}`);if(r&&i[0].f&&i[1].f&&i[0].f[0]!==i[1].f[0])throw new bs(t,void 0,`${bo(t)}: field names mismatch: ${i[0].f[0]} != ${i[1].f}`);if(Ts(t)){const r=Ss("pair",t),i=Ss("pair",e);return mo(r.args[0],i.args[0],!0),void mo(r.args[1],i.args[1],!0)}switch(t.prim){case"option":case"list":case"contract":case"set":case"ticket":mo(t.args[0],e.args[0]);break;case"or":mo(t.args[0],e.args[0],!0),mo(t.args[1],e.args[1],!0);break;case"lambda":case"map":case"big_map":mo(t.args[0],e.args[0]),mo(t.args[1],e.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(t.args[0].int,10)!==parseInt(e.args[0].int,10))throw new bs(t,void 0,`${bo(t)}: type argument mismatch: ${t.args[0].int} != ${e.args[0].int}`)}}function yo(t,e){if(t.length!==e.length)throw new bs(t,void 0,`stack length mismatch: ${t.length} != ${e.length}`);for(let r=0;r<t.length;r++)mo(t[r],e[r])}function vo(t,e=!1){var r,i,n;if(!Array.isArray(t)){const s=ws(t);if(((null===(r=s.t)||void 0===r?void 0:r.length)||0)>1)throw new bs(t,void 0,`${t.prim}: at most one type annotation allowed: ${t.annots}`);if(e){if(((null===(i=s.f)||void 0===i?void 0:i.length)||0)>1)throw new bs(t,void 0,`${t.prim}: at most one field annotation allowed: ${t.annots}`)}else if(((null===(n=s.f)||void 0===n?void 0:n.length)||0)>0)throw new bs(t,void 0,`${t.prim}: field annotations aren't allowed: ${t.annots}`)}if(Ts(t)){const e=go(t);for(const t of e)vo(t,!0)}else switch(t.prim){case"option":case"list":case"contract":case"set":vo(t.args[0]);break;case"or":for(const e of t.args)vo(e,!0);break;case"lambda":case"map":case"big_map":vo(t.args[0]),vo(t.args[1])}}function _o(t){if(!Array.isArray(t))return!1;for(const e of t)if(!(Array.isArray(e)&&_o(e)||"prim"in e&&eo(e)))return!1;return!0}function wo(t,e,r){if(Ts(e)){if(Os(t)){ro(t);const i=Ss("Pair",t),n=Ss("pair",e);return wo(i.args[0],n.args[0],r),void wo(i.args[1],n.args[1],r)}throw new bs(e,t,`pair expected: ${JSON.stringify(t)}`)}switch(e.prim){case"int":if("int"in t&&ys(t.int))return;throw new bs(e,t,`integer value expected: ${JSON.stringify(t)}`);case"nat":case"mutez":if("int"in t&&vs(t.int))return;throw new bs(e,t,`natural value expected: ${JSON.stringify(t)}`);case"string":if("string"in t)return;throw new bs(e,t,`string value expected: ${JSON.stringify(t)}`);case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in t&&null!==ms(t.bytes))return;throw new bs(e,t,`bytes value expected: ${JSON.stringify(t)}`);case"bool":if("prim"in t&&("True"===t.prim||"False"===t.prim))return;throw new bs(e,t,`boolean value expected: ${JSON.stringify(t)}`);case"key_hash":if("string"in t&&null!==As(t.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash"))return;if("bytes"in t)try{return void function(t){const e=ms(t.bytes);if(null===e)throw new Error(`can't parse bytes: "${t.bytes}"`);uo(new oo(new Uint8Array(e)))}(t)}catch(i){}throw new bs(e,t,`key hash expected: ${JSON.stringify(t)}`);case"timestamp":if(("string"in t||"int"in t)&&null!==Is(t))return;throw new bs(e,t,`timestamp expected: ${JSON.stringify(t)}`);case"address":if("string"in t){let e=t.string;const r=t.string.indexOf("%");if(r>=0&&(e=t.string.slice(0,r)),null!==As(e,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash","TxRollupL2Address","RollupAddress"))return}else if("bytes"in t)try{return void function(t){const e=ms(t.bytes);if(null===e)throw new Error(`can't parse bytes: "${t.bytes}"`);fo(new oo(new Uint8Array(e)))}(t)}catch(i){}throw new bs(e,t,`address expected: ${JSON.stringify(t)}`);case"key":if("string"in t&&null!==As(t.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey"))return;if("bytes"in t)try{return void function(t){const e=ms(t.bytes);if(null===e)throw new Error(`can't parse bytes: "${t.bytes}"`);lo(new oo(new Uint8Array(e)))}(t)}catch(i){}throw new bs(e,t,`public key expected: ${JSON.stringify(t)}`);case"unit":if("prim"in t&&"Unit"===t.prim)return;throw new bs(e,t,`unit value expected: ${JSON.stringify(t)}`);case"signature":if("bytes"in t||"string"in t&&null!==As(t.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature"))return;throw new bs(e,t,`signature expected: ${JSON.stringify(t)}`);case"chain_id":if("bytes"in t||"string"in t){if(null!==("string"in t?os(t.string):ms(t.bytes)))return}throw new bs(e,t,`chain id expected: ${JSON.stringify(t)}`);case"option":if("prim"in t){if("None"===t.prim)return;if("Some"===t.prim)return void wo(t.args[0],e.args[0],r)}throw new bs(e,t,`option expected: ${JSON.stringify(t)}`);case"list":case"set":if(ro(t)){for(const i of t)wo(i,e.args[0],r);return}throw new bs(e,t,`${e.prim} expected: ${JSON.stringify(t)}`);case"or":if("prim"in t){if("Left"===t.prim)return void wo(t.args[0],e.args[0],r);if("Right"===t.prim)return void wo(t.args[0],e.args[1],r)}throw new bs(e,t,`union (or) expected: ${JSON.stringify(t)}`);case"lambda":if(_o(t)){const i=Eo(t,[e.args[0]],r);if("failed"in i)throw new bs(e,t,`function is failed with error type: ${i.failed}`);if(1!==i.length)throw new bs(e,t,"function must return a value");return void mo(e.args[1],i[0])}throw new bs(e,t,`function expected: ${JSON.stringify(t)}`);case"map":case"big_map":if(Array.isArray(t)){for(const i of t){if(!("prim"in i)||"Elt"!==i.prim)throw new bs(e,t,`map elements expected: ${JSON.stringify(t)}`);wo(i.args[0],e.args[0],r),wo(i.args[1],e.args[1],r)}return}throw new bs(e,t,`${e.prim} expected: ${JSON.stringify(t)}`);case"bls12_381_fr":if("int"in t&&ys(t.int)||"bytes"in t&&null!==ms(t.bytes))return;throw new bs(e,t,`BLS12-381 element expected: ${JSON.stringify(t)}`);case"sapling_state":if(Array.isArray(t))return;throw new bs(e,t,`sapling state expected: ${JSON.stringify(t)}`);case"ticket":return void wo(t,{prim:"pair",args:[{prim:"address"},e.args[0],{prim:"nat"}]},r);default:throw new bs(e,t,`type ${bo(e)} don't have Michelson literal representation`)}}function Eo(t,e,r){const i=(null==r?void 0:r.protocol)||xn;if(Array.isArray(t))return function(t,e,r){let i=e,n=e,s=0;for(const o of t){const t=Eo(o,n,r);if(i=t,"failed"in t)break;n=t,s++}if("failed"in i&&0==i.level&&(!("prim"in i.failed)||"never"!==i.failed.prim)&&s!==t.length-1)throw new po(t,i,"FAIL must appear in a tail position");if(void 0!==(null==r?void 0:r.traceCallback)){const n={op:t,in:e,out:i};r.traceCallback(n)}return"failed"in i?{failed:i.failed,level:i.level+1}:i}(t,e,r);const n=t;function s(t,...r){if(e.length<r.length+t)throw new po(n,e,`${n.prim}: stack must have at least ${r.length} element(s)`);let i=t;for(const s of r){if(null!==s&&0!==s.length){let t=0;for(;t<s.length&&s[t]!==bo(e[i]);)t++;if(t===s.length)throw new po(n,e,`${n.prim}: stack type mismatch: [${i}] expected to be ${s}, got ${bo(e[i])} instead`)}i++}return e.slice(t,r.length+t)}function o(t){return(...r)=>{try{return t(...r)}catch(i){throw i instanceof ps?new po(n,e,i.message):i}}}function a(t){return r=>{try{return t(r)}catch(i){throw i instanceof ps?new po(n,e,i.message):i}}}const c=o(ws),h=o(yo),u=o(mo),f=a(Gs),d=a(Fs),l=a(zs),p=a(Vs),b=a(Zs);function g(t,r){const i=c(n,Object.assign(Object.assign({},r),{emptyFields:void 0!==t.f&&t.f>1,emptyVar:void 0!==t.v&&t.v>1})),s=(t,r,i)=>{if(t&&t.length>(r||0))throw new po(n,e,`${n.prim}: at most ${r||0} ${i} annotations allowed`)};return s(i.f,t.f,"field"),s(i.t,t.t,"type"),s(i.v,t.v,"variable"),i}function m(t,e){const r=t,i=Array.isArray(r)?{prim:"pair",args:r}:r,n=c(i),s=void 0!==e.v||void 0!==e.t||void 0!==e.f?[...(null===e.v?n.v:e.v)||[],...(null===e.t?n.t:e.t)||[],...(null===e.f?n.f:e.f)||[]]:void 0,o=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(i,["annots"]);return Object.assign(Object.assign({},o),s&&0!==s.length&&{annots:s})}function y(t,e){const r=g({v:1});return m(t,{v:void 0!==r.v?r.v:void 0!==e?[e]:null,t:null})}function v(t,r,i,s,o){var a,h,u,f;const d=null===(a=c(r).f)||void 0===a?void 0:a[0],l=null===(h=i.f)||void 0===h?void 0:h[s];if(void 0!==l&&"%"!==l&&void 0!==d&&l!==d)throw new po(n,e,`${n.prim}: field names doesn't match: ${l} !== ${d}`);const p=null===(u=i.v)||void 0===u?void 0:u[s],b=null===(f=c(t).v)||void 0===f?void 0:f[0];return m(r,{t:null,v:p?"@%"===p?d?["@"+d.slice(1)]:void 0:"@%%"===p?b?["@"+b.slice(1)+"."+(d?d.slice(1):o)]:d?["@"+d.slice(1)]:void 0:[p]:null})}function _(t,r,i=r){const s=Ss("pair",t);if(1===i)return[s.args[0]];if(2===i)return s.args;const o=s.args[1];if(Ts(o))return[s.args[0],..._(o,r,i-1)];throw new po(n,e,`${n.prim}: at least ${r} fields are expected`)}function w(t,r,i=r){if(0===i)return t;const s=Ss("pair",t);if(1===i)return s.args[0];const o=s.args[1];if(Ts(o))return w(o,r,i-2);if(2===i)return o;throw new po(n,e,`${n.prim}: at least ${r+1} fields are expected`)}function E(t,r,i,s=i){if(0===s)return r;const o=Ss("pair",t);if(1===s)return Object.assign(Object.assign({},o),{args:[r,o.args[1]]});const a=o.args[1];if(Ts(a))return Object.assign(Object.assign({},o),{args:[o.args[0],E(a,r,i,s-2)]});if(2===s)return Object.assign(Object.assign({},o),{args:[o.args[0],r]});throw new po(n,e,`${n.prim}: at least ${i+1} fields are expected`)}const A=(t,e)=>["@"+(t.v?t.v[0].slice(1)+".":"")+e];function S(t,e){return"failed"in t||"failed"in e?"failed"in t?e:t:(h(t,e),t)}const T=(t=>{var n,o,a,T,O;switch(t.prim){case"DUP":{const r=t.args?parseInt(t.args[0].int,10):1;if(0===r)throw new po(t,e,"DUP 0 is forbidden");const i=s(r-1,null)[0];if("ticket"===bo(i))throw new po(t,e,"ticket can't be DUPed");return[i,...e]}case"SWAP":{const t=s(0,null,null);return g({}),[t[1],t[0],...e.slice(2)]}case"SOME":return[m({prim:"option",args:[s(0,null)[0]]},g({t:1,v:1})),...e.slice(1)];case"UNIT":return[m({prim:"unit"},g({v:1,t:1})),...e];case"PAIR":{const r=t.args?parseInt(t.args[0].int,10):2;if(r<2)throw new po(t,e,`PAIR ${r} is forbidden`);const i=s(0,...new Array(r).fill(null)),n=g({f:r,t:1,v:1},{specialFields:!0}),o=t=>{const e=t.lastIndexOf(".");return t.slice(e>0?e+1:1)},a=i.map(((t,e)=>{var r;const i=c(t);return m(t,{v:null,t:null,f:n.f&&n.f.length>e&&"%"!==n.f[e]?"%@"===n.f[e]?i.v?["%"+o((null===(r=i.v)||void 0===r?void 0:r[0])||"")]:void 0:[n.f[e]]:void 0})}));return[m({prim:"pair",args:a},{t:n.t,v:n.v}),...e.slice(r)]}case"UNPAIR":{const r=t.args?parseInt(t.args[0].int,10):2;if(r<2)throw new po(t,e,`UNPAIR ${r} is forbidden`);const i=s(0,["pair"])[0],n=g({f:2,v:2},{specialVar:!0});return[..._(i,r).map(((t,e)=>v(i,t,n,e,0===e?"car":"cdr"))),...e.slice(1)]}case"CAR":case"CDR":{const r=Ss("pair",s(0,["pair"])[0]);return[v(r,r.args["CAR"===t.prim?0:1],g({f:1,v:1},{specialVar:!0}),0,t.prim.toLocaleLowerCase()),...e.slice(1)]}case"CONS":{const t=s(0,null,["list"]);return u(t[0],t[1].args[0]),[y({prim:"list",args:[t[1].args[0]]}),...e.slice(2)]}case"SIZE":return s(0,["string","list","set","map","bytes"]),[y({prim:"nat"}),...e.slice(1)];case"MEM":{const t=s(0,null,["set","map","big_map"]);return f(t[0]),u(t[0],t[1].args[0]),[y({prim:"bool"}),...e.slice(2)]}case"GET":if(t.args){const r=parseInt(t.args[0].int,10);return[y(w(s(0,["pair"])[0],r)),...e.slice(1)]}{const t=s(0,null,["map","big_map"]);return f(t[0]),u(t[0],t[1].args[0]),[y({prim:"option",args:[t[1].args[1]]}),...e.slice(2)]}case"UPDATE":if(t.args){const r=parseInt(t.args[0].int,10),i=s(0,null,["pair"]);return[y(E(i[1],i[0],r)),...e.slice(2)]}{const t=s(0,null,["bool","option"]);if(f(t[0]),"bool"===t[1].prim){const r=s(2,["set"]);return u(t[0],r[0].args[0]),[y({prim:"set",args:[m(t[0],{t:null})]}),...e.slice(3)]}const r=s(2,["map","big_map"]);return u(t[0],r[0].args[0]),"map"===r[0].prim?[y({prim:"map",args:[m(t[0],{t:null}),m(t[1].args[0],{t:null})]}),...e.slice(3)]:(b(t[1].args[0]),[y({prim:"big_map",args:[m(t[0],{t:null}),m(t[1].args[0],{t:null})]}),...e.slice(3)])}case"GET_AND_UPDATE":{const t=g({v:2}),r=s(0,null,["option"],["map","big_map"]);f(r[0]),u(r[0],r[2].args[0]),u(r[1].args[0],r[2].args[1]);const i=null===(n=t.v)||void 0===n?void 0:n.map((t=>"@"!==t?[t]:void 0));return"map"===r[2].prim?[m({prim:"option",args:[r[2].args[1]]},{v:null==i?void 0:i[0]}),m({prim:"map",args:[m(r[0],{t:null}),m(r[1].args[0],{t:null})]},{v:null==i?void 0:i[1]}),...e.slice(3)]:(b(r[1].args[0]),[m({prim:"option",args:[r[2].args[1]]},{v:null==i?void 0:i[0]}),m({prim:"big_map",args:[m(r[0],{t:null}),m(r[1].args[0],{t:null})]},{v:null==i?void 0:i[1]}),...e.slice(3)])}case"EXEC":{const t=s(0,null,["lambda"]);return u(t[0],t[1].args[0]),[y(t[1].args[1]),...e.slice(2)]}case"APPLY":{const r=s(0,null,["lambda"]);if(l(r[0]),p(r[0]),!Ts(r[1].args[0]))throw new po(t,e,`${t.prim}: function's argument must be a pair: ${bo(r[1].args[0])}`);const i=r[1].args[0];return u(r[0],go(i)[0]),[y({prim:"lambda",args:[go(i)[1],r[1].args[1]]}),...e.slice(2)]}case"FAILWITH":{const t=s(0,null)[0];return Rn(i,On.PtEdo2Zk)||d(t),{failed:t,level:0}}case"NEVER":return s(0,["never"]),{failed:{prim:"never"},level:0};case"RENAME":return[y(s(0,null)[0]),...e.slice(1)];case"CONCAT":{const r=s(0,["string","list","bytes"]);if("list"===r[0].prim){if("string"!==bo(r[0].args[0])&&"bytes"!==bo(r[0].args[0]))throw new po(t,e,`${t.prim}: can't concatenate list of ${bo(r[0].args[0])}'s`);return[y(r[0].args[0]),...e.slice(1)]}const i=s(1,["string","bytes"]);if(r[0].prim!==i[0].prim)throw new po(t,e,`${t.prim}: can't concatenate ${r[0].prim} with ${i[0].prim}`);return[y(i[0]),...e.slice(2)]}case"SLICE":return[y({prim:"option",args:[s(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice"),...e.slice(3)];case"PACK":{const t=s(0,null)[0];return d(t),[y({prim:"bytes"},"@packed"),...e.slice(1)]}case"ADD":{const r=s(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===r[0].prim&&"int"===r[1].prim||"int"===r[0].prim&&"nat"===r[1].prim)return[y({prim:"int"}),...e.slice(2)];if("int"===r[0].prim&&"timestamp"===r[1].prim||"timestamp"===r[0].prim&&"int"===r[1].prim)return[y({prim:"timestamp"}),...e.slice(2)];if(("int"===r[0].prim||"nat"===r[0].prim||"mutez"===r[0].prim||"bls12_381_g1"===r[0].prim||"bls12_381_g2"===r[0].prim||"bls12_381_fr"===r[0].prim)&&r[0].prim===r[1].prim)return[y(r[0]),...e.slice(2)];throw new po(t,e,`${t.prim}: can't add ${r[0].prim} to ${r[1].prim}`)}case"SUB":{const r=Rn(i,On.PsiThaCa)?s(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]):s(0,["nat","int","timestamp"],["nat","int","timestamp"]);if(("nat"===r[0].prim||"int"===r[0].prim)&&("nat"===r[1].prim||"int"===r[1].prim)||"timestamp"===r[0].prim&&"timestamp"===r[1].prim)return[y({prim:"int"}),...e.slice(2)];if("timestamp"===r[0].prim&&"int"===r[1].prim)return[y({prim:"timestamp"}),...e.slice(2)];if("mutez"===r[0].prim&&"mutez"===r[1].prim)return[y({prim:"mutez"}),...e.slice(2)];throw new po(t,e,`${t.prim}: can't subtract ${r[0].prim} from ${r[1].prim}`)}case"SUB_MUTEZ":return s(0,["mutez"],["mutez"]),[y({prim:"option",args:[{prim:"mutez"}]}),...e.slice(2)];case"MUL":{const r=s(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===r[0].prim&&"int"===r[1].prim||"int"===r[0].prim&&"nat"===r[1].prim)return[y({prim:"int"}),...e.slice(2)];if("nat"===r[0].prim&&"mutez"===r[1].prim||"mutez"===r[0].prim&&"nat"===r[1].prim)return[y({prim:"mutez"}),...e.slice(2)];if(("bls12_381_g1"===r[0].prim||"bls12_381_g2"===r[0].prim||"bls12_381_fr"===r[0].prim)&&"bls12_381_fr"===r[1].prim||("nat"===r[0].prim||"int"===r[0].prim)&&r[0].prim===r[1].prim)return[y(r[0]),...e.slice(2)];if(("nat"===r[0].prim||"int"===r[0].prim)&&"bls12_381_fr"===r[1].prim||("nat"===r[1].prim||"int"===r[1].prim)&&"bls12_381_fr"===r[0].prim)return[y({prim:"bls12_381_fr"}),...e.slice(2)];throw new po(t,e,`${t.prim}: can't multiply ${r[0].prim} by ${r[1].prim}`)}case"EDIV":{const r=(t,e)=>({prim:"option",args:[{prim:"pair",args:[{prim:t},{prim:e}]}]}),i=s(0,["nat","int","mutez"],["nat","int","mutez"]);if("nat"===i[0].prim&&"nat"===i[1].prim)return[y(r("nat","nat")),...e.slice(2)];if(!("nat"!==i[0].prim&&"int"!==i[0].prim||"nat"!==i[1].prim&&"int"!==i[1].prim))return[y(r("int","nat")),...e.slice(2)];if("mutez"===i[0].prim&&"nat"===i[1].prim)return[y(r("mutez","mutez")),...e.slice(2)];if("mutez"===i[0].prim&&"mutez"===i[1].prim)return[y(r("nat","mutez")),...e.slice(2)];throw new po(t,e,`${t.prim}: can't euclideally divide ${i[0].prim} by ${i[1].prim}`)}case"ABS":return s(0,["int"]),[y({prim:"nat"}),...e.slice(1)];case"ISNAT":return s(0,["int"]),[y({prim:"option",args:[{prim:"nat"}]}),...e.slice(1)];case"INT":return s(0,["nat","bls12_381_fr"]),[y({prim:"int"}),...e.slice(1)];case"NEG":{const t=s(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return"nat"===t.prim||"int"===t.prim?[y({prim:"int"}),...e.slice(1)]:[y(t),...e.slice(1)]}case"LSL":case"LSR":return s(0,["nat"],["nat"]),[y({prim:"nat"}),...e.slice(2)];case"OR":case"XOR":{const r=s(0,["nat","bool"],["nat","bool"]);if(r[0].prim!==r[1].prim)throw new po(t,e,`${t.prim}: both arguments must be of the same type: ${r[0].prim}, ${r[1].prim}`);return[y(r[1]),...e.slice(2)]}case"AND":{const r=s(0,["nat","bool","int"],["nat","bool"]);if(("int"!==r[0].prim||"nat"!==r[1].prim)&&r[0].prim!==r[1].prim)throw new po(t,e,`${t.prim}: both arguments must be of the same type: ${r[0].prim}, ${r[1].prim}`);return[y(r[1]),...e.slice(2)]}case"NOT":return"bool"===s(0,["nat","bool","int"])[0].prim?[y({prim:"bool"}),...e.slice(1)]:[y({prim:"int"}),...e.slice(1)];case"COMPARE":{const t=s(0,null,null);return f(t[0]),f(t[1]),[y({prim:"int"}),...e.slice(2)]}case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return s(0,["int"]),[y({prim:"bool"}),...e.slice(1)];case"SELF":{if(void 0===(null==r?void 0:r.contract))throw new po(t,e,`${t.prim}: contract required`);const i=g({f:1,v:1}),n=To(r.contract,null===(o=i.f)||void 0===o?void 0:o[0]);if(null===n)throw new po(t,e,`${t.prim}: contract has no entrypoint ${n}`);return[m({prim:"contract",args:[n]},{v:i.v?i.v:["@self"]}),...e]}case"TRANSFER_TOKENS":{const t=s(0,null,["mutez"],["contract"]);return u(t[0],t[2].args[0]),[y({prim:"operation"}),...e.slice(3)]}case"SET_DELEGATE":{const r=s(0,["option"])[0];if("key_hash"!==bo(r.args[0]))throw new po(t,e,`${t.prim}: key hash expected: ${bo(r.args[0])}`);return[y({prim:"operation"}),...e.slice(1)]}case"IMPLICIT_ACCOUNT":return s(0,["key_hash"]),[y({prim:"contract",args:[{prim:"unit"}]}),...e.slice(1)];case"NOW":return[y({prim:"timestamp"},"@now"),...e];case"AMOUNT":return[y({prim:"mutez"},"@amount"),...e];case"BALANCE":return[y({prim:"mutez"},"@balance"),...e];case"CHECK_SIGNATURE":return s(0,["key"],["signature"],["bytes"]),[y({prim:"bool"}),...e.slice(3)];case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return s(0,["bytes"]),[y({prim:"bytes"}),...e.slice(1)];case"HASH_KEY":return s(0,["key"]),[y({prim:"key_hash"}),...e.slice(1)];case"SOURCE":return[y({prim:"address"},"@source"),...e];case"SENDER":return[y({prim:"address"},"@sender"),...e];case"ADDRESS":{const t=s(0,["contract"])[0],r=g({v:1});return[m({prim:"address",[Tn]:t},{v:r.v?r.v:A(c(t),"address")}),...e.slice(1)]}case"SELF_ADDRESS":{const t={prim:"address"};return void 0!==(null==r?void 0:r.contract)&&(t[Tn]={prim:"contract",args:[Ao(r.contract,"parameter").args[0]]}),[y(t,"@address"),...e]}case"CHAIN_ID":return[y({prim:"chain_id"}),...e];case"DROP":{g({});const r=void 0!==t.args?parseInt(t.args[0].int,10):1;return s(r-1,null),e.slice(r)}case"DIG":{g({});const r=parseInt(t.args[0].int,10);return[s(r,null)[0],...e.slice(0,r),...e.slice(r+1)]}case"DUG":{g({});const r=parseInt(t.args[0].int,10);return[...e.slice(1,r+1),s(0,null)[0],...e.slice(r+1)]}case"NONE":return vo(t.args[0]),[m({prim:"option",args:[t.args[0]]},g({t:1,v:1})),...e];case"LEFT":case"RIGHT":{const r=s(0,null)[0],i=g({f:2,t:1,v:1},{specialFields:!0}),n=c(r),o=[m(r,{t:null,v:null,f:i.f&&i.f.length>0&&"%"!==i.f[0]?"%@"===i.f[0]?n.v?["%"+n.v[0].slice(1)]:void 0:i.f:void 0}),m(t.args[0],{t:null,f:i.f&&i.f.length>1&&"%"!==i.f[1]?i.f:void 0})];return[m({prim:"or",args:"LEFT"===t.prim?o:[o[1],o[0]]},{t:i.t,v:i.v}),...e.slice(1)]}case"NIL":return vo(t.args[0]),[m({prim:"list",args:[t.args[0]]},g({t:1,v:1})),...e];case"UNPACK":return s(0,["bytes"]),vo(t.args[0]),[y({prim:"option",args:[t.args[0]]},"@unpacked"),...e.slice(1)];case"CONTRACT":{const r=s(0,["address"])[0];vo(t.args[0]);const i=g({v:1,f:1}),n=r[Tn];if(void 0!==n){const r=To(n,null===(a=i.f)||void 0===a?void 0:a[0]);if(null===r)throw new po(t,e,`${t.prim}: contract has no entrypoint ${r}`);u(r,t.args[0])}return[m({prim:"option",args:[{prim:"contract",args:[t.args[0]]}]},{v:i.v?i.v:A(c(r),"contract")}),...e.slice(1)]}case"CAST":{g({});const r=s(0,null)[0];return vo(t.args[0]),u(t.args[0],r),[t.args[0],...e.slice(1)]}case"IF_NONE":{g({});const i=s(0,["option"])[0],n=e.slice(1);return S(Eo(t.args[0],n,r),Eo(t.args[1],[m(i.args[0],{t:null,v:A(c(i),"some")}),...n],r))}case"IF_LEFT":{g({});const i=s(0,["or"])[0],n=c(i),o=c(i.args[0]),a=c(i.args[1]),h=e.slice(1);return S(Eo(t.args[0],[m(i.args[0],{t:null,v:A(n,o.f?o.f[0].slice(1):"left")}),...h],r),Eo(t.args[1],[m(i.args[1],{t:null,v:A(n,a.f?a.f[0].slice(1):"right")}),...h],r))}case"IF_CONS":{g({});const i=s(0,["list"])[0],n=c(i),o=e.slice(1);return S(Eo(t.args[0],[m(i.args[0],{t:null,v:A(n,"hd")}),m(i,{t:null,v:A(n,"tl")}),...o],r),Eo(t.args[1],o,r))}case"IF":{g({}),s(0,["bool"]);const i=e.slice(1);return S(Eo(t.args[0],i,r),Eo(t.args[1],i,r))}case"MAP":{const i=s(0,["list","map","option"])[0],n=e.slice(1),o="map"===i.prim?{prim:"pair",args:i.args}:i.args[0],a=Eo(t.args[0],[m(o,{t:null,v:A(c(i),"elt")}),...n],r);if("failed"in a){if(!("prim"in a.failed)||"never"!==a.failed.prim)throw new po(t,e,`${t.prim}: FAIL is not allowed in MAP`);return{failed:a.failed,level:a.level+1}}if(a.length<1)throw new po(t,e,`${t.prim}: function must return a value`);return h(a.slice(1),n),"list"===i.prim?[y({prim:"list",args:[a[0]]}),...n]:"map"===i.prim?[y({prim:"map",args:[i.args[0],a[0]]}),...n]:[y({prim:"option",args:[a[0]]}),...n]}case"ITER":{g({});const i=s(0,["set","list","map"])[0],n=e.slice(1),o="map"===i.prim?{prim:"pair",args:i.args}:i.args[0],a=Eo(t.args[0],[m(o,{t:null,v:A(c(i),"elt")}),...n],r);return"failed"in a?{failed:a.failed,level:a.level+1}:(h(a,n),n)}case"LOOP":{g({}),s(0,["bool"]);const i=e.slice(1),n=Eo(t.args[0],i,r);return"failed"in n?{failed:n.failed,level:n.level+1}:(h(n,[{prim:"bool"},...i]),i)}case"LOOP_LEFT":{g({});const i=s(0,["or"])[0],n=e.slice(1),o=Eo(t.args[0],[m(i.args[0],{t:null,v:A(c(i),"left")}),...n],r);return"failed"in o?{failed:o.failed,level:o.level+1}:(h(o,[i,...n]),[m(i.args[1],{t:null,v:g({v:1}).v}),...n])}case"DIP":{g({});const i=2===t.args.length?parseInt(t.args[0].int,10):1;s(i-1,null);const n=e.slice(0,i),o=e.slice(i),a=2===t.args.length?Eo(t.args[1],o,r):Eo(t.args[0],o,r);return"failed"in a?{failed:a.failed,level:a.level+1}:[...n,...a]}case"CREATE_CONTRACT":{const r=g({v:2}),i=s(0,["option"],["mutez"],null);if("key_hash"!==bo(i[0].args[0]))throw new po(t,e,`${t.prim}: key hash expected: ${bo(i[0].args[0])}`);l(i[2])&&(xo(t.args[0]),mo(Ao(t.args[0],"storage").args[0],i[2]));const n=null===(T=r.v)||void 0===T?void 0:T.map((t=>"@"!==t?[t]:void 0));return[m({prim:"operation"},{v:null==n?void 0:n[0]}),m({prim:"address",[Tn]:{prim:"contract",args:[Ao(t.args[0],"parameter").args[0]]}},{v:null==n?void 0:n[1]}),...e.slice(3)]}case"PUSH":return vo(t.args[0]),wo(t.args[1],t.args[0],Object.assign(Object.assign({},r),{contract:void 0})),[y(t.args[0]),...e];case"EMPTY_SET":return vo(t.args[0]),f(t.args[0]),[m({prim:"set",args:t.args},g({t:1,v:1})),...e];case"EMPTY_MAP":return vo(t.args[0]),f(t.args[0]),vo(t.args[1]),[m({prim:"map",args:t.args},g({t:1,v:1})),...e];case"EMPTY_BIG_MAP":return vo(t.args[0]),f(t.args[0]),vo(t.args[1]),b(t.args[0]),[m({prim:"big_map",args:t.args},g({t:1,v:1})),...e];case"LAMBDA":{vo(t.args[0]),vo(t.args[1]);const i=Eo(t.args[2],[t.args[0]],Object.assign(Object.assign({},r),{contract:void 0}));if("failed"in i)return{failed:i.failed,level:i.level+1};if(1!==i.length)throw new po(t,e,`${t.prim}: function must return a value`);return u(t.args[1],i[0]),[y({prim:"lambda",args:[t.args[0],t.args[1]]}),...e]}case"LEVEL":return[y({prim:"nat"},"@level"),...e];case"TOTAL_VOTING_POWER":case"MIN_BLOCK_TIME":return[y({prim:"nat"}),...e];case"VOTING_POWER":return s(0,["key_hash"]),[y({prim:"nat"}),...e.slice(1)];case"TICKET":{const t=s(0,null,["nat"])[0];return f(t),[m({prim:"ticket",args:[t]},g({t:1,v:1})),...e.slice(2)]}case"JOIN_TICKETS":{const r=Ss("pair",s(0,["pair"])[0]);if("ticket"!==bo(r.args[0]))throw new po(t,e,`${t.prim}: ticket expected: ${bo(r.args[0])}`);return u(r.args[0],r.args[1]),[y({prim:"option",args:[m(r.args[0],{t:null})]}),...e.slice(1)]}case"SPLIT_TICKET":{const r=s(0,["ticket"],["pair"]),i=Ss("pair",r[1]);if("nat"!==bo(i.args[0]))throw new po(t,e,`${t.prim}: nat expected: ${bo(i.args[0])}`);return u(i.args[0],i.args[1]),[y({prim:"option",args:[{prim:"pair",args:[m(r[0],{t:null}),m(r[0],{t:null})]}]}),...e.slice(2)]}case"READ_TICKET":{const t=g({v:2}),r=s(0,["ticket"])[0],i=null===(O=t.v)||void 0===O?void 0:O.map((t=>"@"!==t?[t]:void 0));return[m({prim:"pair",args:[{prim:"address"},m(r.args[0],{t:null}),{prim:"nat"}]},{v:null==i?void 0:i[0]}),m(r,{v:null==i?void 0:i[1],t:null}),...e.slice(1)]}case"PAIRING_CHECK":{const r=s(0,["list"])[0].args[0];if(!Ts(r))throw new po(t,e,`${t.prim}: pair expected: ${bo(r)}`);const i=Ss("pair",r);if("bls12_381_g1"!==bo(i.args[0]))throw new po(t,e,`${t.prim}: bls12_381_g1 expected: ${bo(i.args[0])}`);if("bls12_381_g2"!==bo(i.args[1]))throw new po(t,e,`${t.prim}: bls12_381_g2 expected: ${bo(i.args[1])}`);return[y({prim:"bool"}),...e.slice(1)]}case"SAPLING_EMPTY_STATE":return[m({prim:"sapling_state",args:[t.args[0]]},g({v:1,t:1})),...e];case"SAPLING_VERIFY_UPDATE":{const r=s(0,["sapling_transaction"],["sapling_state"]);if(parseInt(r[0].args[0].int,10)!==parseInt(r[1].args[0].int,10))throw new po(t,e,`${t.prim}: sapling memo size mismatch: ${r[0].args[0].int} != ${r[1].args[0].int}`);return Rn(i,On.PtJakarta)?[y({prim:"option",args:[{prim:"pair",args:[{prim:"int"},m(r[1],{t:null})]}]}),...e.slice(2)]:[y({prim:"option",args:[{prim:"pair",args:[{prim:"bytes"},{prim:"pair",args:[{prim:"int"},m(r[1],{t:null})]}]}]}),...e.slice(2)]}case"OPEN_CHEST":return s(0,["chest_key"],["chest"],["nat"]),[y({prim:"or",args:[{prim:"bytes"},{prim:"bool"}]}),...e.slice(3)];case"VIEW":{const r=s(0,null,["address"]);return p(r[0]),[y({prim:"option",args:[t.args[1]]}),...e.slice(2)]}default:throw new ps(t,`unexpected instruction: ${t.prim}`)}})(n);if(void 0!==(null==r?void 0:r.traceCallback)){const t={op:n,in:e,out:T};r.traceCallback(t)}return T}function Ao(t,e){for(const r of t)if(r.prim===e)return r;throw new ps(t,`missing contract section: ${e}`)}function So(t){if(Array.isArray(t))for(const e of t)if("prim"in e&&("parameter"===e.prim||"storage"===e.prim||"code"===e.prim))return!0;return!1}function To(t,e){e=e||"%default";const r=Oo(t).find((t=>t[0]===e));return void 0!==r?r[1]:"%default"===e?So(t)?Ao(t,"parameter").args[0]:t:null}function Oo(t){if(So(t)){const e=Ao(t,"parameter"),r=Oo(e.args[0]),i=ws(e);return i.f?[[i.f[0],e.args[0]],...r]:r}if(e=t,Array.isArray(e)||"or"===e.prim){const e=go(t),r=t=>{const r=ws(e[t]);if("or"===bo(e[t])){const i=Oo(e[t]);return r.f?[[r.f[0],e[t]],...i]:i}return r.f?[[r.f[0],e[t]]]:[]};return[...r(0),...r(1)]}var e;return[]}function xo(t,e){const r=(r,i,n,s)=>{vo(r,!0),vo(i);const o=Eo(s,[{prim:"pair",args:[Object.assign(Object.assign({},r),{annots:["@parameter"]}),Object.assign(Object.assign({},i),{annots:["@storage"]})]}],Object.assign(Object.assign({},e),{contract:t}));if("failed"in o)return o;try{yo(o,[n])}catch(a){throw a instanceof ps?new po(s,o,a.message):a}return o},i=Ao(t,"parameter").args[0],n=Ao(t,"storage").args[0],s=r(i,n,{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},n]},Ao(t,"code").args[0]);for(const o of Object.values(function(t){const e={};for(const r of t)"view"===r.prim&&(e[r.args[0].string]=r);return e}(t)))r(o.args[1],n,o.args[2],o.args[3]);return s}function Io(t,e,r){vo(e),wo(t,e,r||null)}class Ro{constructor(t,e){this.contract=t,this.ctx=Object.assign({contract:t},e),this.output=xo(t,this.ctx)}static parse(t,e){const r=new Jn(e),i="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===i)throw new as("empty contract");if(to(i))return new Ro(i,e)}static parseTypeExpression(t,e){const r=new Jn(e),i="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===i)throw new cs("empty type expression");if(Ws(i)&&vo(i))return i;throw void 0}static parseDataExpression(t,e){const r=new Jn(e),i="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===i)throw new hs("empty data expression");if(Qs(i))return i;throw void 0}section(t){return Ao(this.contract,t)}entryPoints(){return Oo(this.contract)}entryPoint(t){return To(this.contract,t)}assertDataValid(t,e){Io(t,e,this.ctx)}isDataValid(t,e){return function(t,e,r){try{return Io(t,e,r),!0}catch(cn){return!1}}(t,e,this.ctx)}assertParameterValid(t,e){const r=this.entryPoint(t||void 0);if(null===r)throw new us(null==t?void 0:t.toString());this.assertDataValid(e,r)}isParameterValid(t,e){try{return this.assertParameterValid(t,e),!0}catch(cn){return!1}}functionType(t,e){return function(t,e,r){for(const i of e)vo(i);if(void 0!==(null==r?void 0:r.contract))for(const i of["parameter","storage"])vo(Ao(r.contract,i).args[0]);return Eo(t,e,r||null)}(t,e,this.ctx)}}new Ro([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);var Po=r(30816).Buffer;const Lo=t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""),Mo=(t,e=8)=>t.toString(16).padStart(e,"0");var ko;!function(t){t.SECRET="secret",t.RAW="raw",t.TZ1="tz1",t.BRANCH="branch",t.ZARITH="zarith",t.PUBLIC_KEY="public_key",t.PKH="pkh",t.DELEGATE="delegate",t.SCRIPT="script",t.BALLOT_STATEMENT="ballotStmt",t.PROPOSAL="proposal",t.PROPOSAL_ARR="proposalArr",t.INT32="int32",t.INT16="int16",t.PARAMETERS="parameters",t.ADDRESS="address",t.VALUE="value",t.MANAGER="manager",t.BLOCK_PAYLOAD_HASH="blockPayloadHash",t.ENTRYPOINT="entrypoint",t.OPERATION="operation",t.OP_ACTIVATE_ACCOUNT="activate_account",t.OP_DELEGATION="delegation",t.OP_TRANSACTION="transaction",t.OP_ORIGINATION="origination",t.OP_BALLOT="ballot",t.OP_ENDORSEMENT="endorsement",t.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",t.OP_REVEAL="reveal",t.OP_PROPOSALS="proposals",t.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",t.OP_TRANSFER_TICKET="transfer_ticket",t.OP_TX_ROLLUP_ORIGINATION="tx_rollup_origination",t.OP_TX_ROLLUP_SUBMIT_BATCH="tx_rollup_submit_batch",t.BURN_LIMIT="burn_limit",t.TX_ROLLUP_ORIGINATION_PARAM="tx_rollup_origination_param",t.TX_ROLLUP_ID="tx_rollup_id",t.TX_ROLLUP_BATCH_CONTENT="tx_rollup_batch_content"}(ko||(ko={}));const No={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ"},Co=(()=>{const t={};return Object.keys(No).forEach((e=>{t[No[e]]=e})),t})(),Uo={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"endorsement",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",150:"tx_rollup_origination",151:"tx_rollup_submit_batch",158:"transfer_ticket"},Bo=(()=>{const t={};return Object.keys(Uo).forEach((e=>{const r="string"==typeof e?parseInt(e,10):e;t[Uo[r]]=Mo(r,2)})),t})(),Do={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate"},jo=(()=>{const t={};return Object.keys(Do).forEach((e=>{t[Do[e]]=e})),t})();class Ho extends Error{constructor(t){super(t),this.message=t,this.name="InvalidBlockHashError"}}class Ko extends Error{constructor(t){super(t),this.message=t,this.name="InvalidOperationSchemaError"}}class $o extends Error{constructor(t){super(`Oversized entrypoint: ${t}. The maximum length of entrypoint is 31`),this.entrypoint=t,this.name="OversizedEntryPointError"}}class Go extends Error{constructor(t){super(`The ballot value '${t}' is invalid`),this.ballotValue=t,this.name="InvalidBallotValueError"}}class Fo extends Error{constructor(t){super(`Failed to decode ballot value ${t}`),this.ballotValue=t,this.name="DecodeBallotValueError"}}class Vo extends Error{constructor(t){super(`The hex string '${t}' is invalid`),this.hexString=t,this.name="InvalidHexStringError"}}class zo extends Error{constructor(t){super(`Failed to encode michelson value '${t}'`),this.value=t,this.name="UnexpectedMichelsonValueError"}}class qo extends Error{constructor(t){super(t),this.message=t,this.name="OperationDecodingError"}}class Zo extends Error{constructor(t){super(t),this.message=t,this.name="OperationEncodingError"}}class Xo extends Error{constructor(t){super(`The operation '${t}' is unsupported`),this.op=t,this.name="UnsupportedOperationError"}}class Yo{constructor(t,e=0){this.arr=t,this.offset=e}static fromHexString(t){const e=t.toLowerCase();if(/^(([a-f]|\d){2})*$/.test(e)){const t=new Uint8Array((e.match(/([a-z]|\d){2}/g)||[]).map((t=>parseInt(t,16))));return new Yo(t)}throw new Vo(e)}consume(t){const e=this.arr.subarray(this.offset,this.offset+t);return this.offset+=t,e}get(t){return this.arr[this.offset+t]}length(){return this.arr.length-this.offset}}const Wo=t=>"prim"in t,Jo=t=>"bytes"in t&&"string"==typeof t.bytes,Qo=t=>"string"in t&&"string"==typeof t.string,ta=t=>"int"in t&&"string"==typeof t.int,ea=t=>{if(Array.isArray(t)){const e=t.map((t=>ea(t))).join(""),r=e.length/2;return`02${Mo(r)}${e}`}if(Wo(t))return ua(t);if(Jo(t))return na(t);if(Qo(t))return oa(t);if(ta(t))return ca(t);throw new zo(t)},ra=t=>{const e=t.consume(1);switch(e[0]){case 10:return sa(t);case 1:return aa(t);case 0:return ha(t);case 2:{const e=new Yo(ia(t)),r=[];for(;e.length()>0;)r.push(ra(e));return r}default:return fa(t,e)}},ia=(t,e=4)=>{const r=t.consume(e),i=parseInt(Po.from(r).toString("hex"),16);return t.consume(i)},na=t=>{if(!/^([A-Fa-f0-9]{2})*$/.test(t.bytes))throw new Vo(t.bytes);const e=t.bytes.length/2;return`0a${Mo(e)}${t.bytes}`},sa=t=>{const e=ia(t);return{bytes:Po.from(e).toString("hex")}},oa=t=>{const e=Po.from(t.string,"utf8").toString("hex"),r=e.length/2;return`01${Mo(r)}${e}`},aa=t=>{const e=ia(t);return{string:Po.from(e).toString("utf8")}},ca=({int:t})=>{const e=new d.O(t,10),r="-"===e.toString(2)[0]?"1":"0",i=e.toString(2).replace(/-/g,""),n=i.length<=6?6:(i.length-6)%7?i.length+7-(i.length-6)%7:i.length,s=i.padStart(n,"0").match(/\d{6,7}/g).reverse();s[0]=r+s[0];return`00${s.map(((t,e)=>parseInt((e===s.length-1?"0":"1")+t,2).toString(16).padStart(2,"0"))).join("")}`},ha=t=>{let e=t.consume(1)[0];const r=[];for(;128&e;)r.push(e),e=t.consume(1)[0];r.push(e);const i=!!(64&r[0]);r[0]=127&r[0];const n=r.map(((t,e)=>t.toString(2).slice(0===e?-6:-7).padStart(0===e?6:7,"0"))).reverse();let s=new d.O(n.join(""),2);return i&&(s=s.times(-1)),{int:s.toFixed()}},ua=t=>{const e=+Array.isArray(t.annots),r=Array.isArray(t.args)?t.args.length:0,i=Mo(Math.min(2*r+e+3,9),2),n=Co[t.prim];let s=(t.args||[]).map((t=>ea(t))).join("");const o=Array.isArray(t.annots)?pa(t.annots):"";return"LAMBDA"===t.prim&&r&&(s=Mo(s.length/2)+s+Mo(0)),("pair"===t.prim||"Pair"===t.prim)&&r>2&&(s=""===o?Mo(s.length/2)+s+Mo(0):Mo(s.length/2)+s),"view"===t.prim&&t.args&&(s=Mo(s.length/2)+s+Mo(0)),`${i}${n}${s}${o}`},fa=(t,e)=>{const r=(e[0]-3)%2==1;let i=Math.floor((e[0]-3)/2);const n=t.consume(1)[0].toString(16).padStart(2,"0"),s={prim:No[n]};if("LAMBDA"===No[n]&&t.consume(4),"view"===No[n])return 0!=i?da(t,s):s;let o,a;("pair"===No[n]||"Pair"===No[n])&&i>2&&(o=la(t),i=0,a=ba(t));const c=new Array(i).fill(0).map((()=>ra(t)));return"LAMBDA"===No[n]&&t.consume(4),o?s.args=o:c.length&&(s.args=c),a&&""!==a[0]?s.annots=a:r&&(s.annots=ba(t)),s},da=(t,e)=>(t.consume(4),e.args=new Array(4).fill(0).map((()=>ra(t))),t.consume(4),e),la=t=>{const e=new Yo(ia(t)),r=[];for(;e.length()>0;)r.push(ra(e));return r},pa=t=>{const e=t.map((t=>Po.from(t,"utf8").toString("hex"))).join("20"),r=e.length/2;return`${Mo(r)}${e}`},ba=t=>{const e=t.consume(4),r=parseInt(Po.from(e).toString("hex"),16),i=t.consume(r);return Po.from(i).toString("hex").split("20").map((t=>Po.from(t,"hex").toString("utf8")))},ga=t=>e=>rt(Po.from(W(e,y[t]))),ma=t=>e=>Y(e.consume(v[t]),y[t]),ya=ma(f.TZ1),va=ma(f.B),_a=t=>{const e=t.consume(1);return 0===e[0]?ma(f.TZ1)(t):1===e[0]?ma(f.TZ2)(t):2===e[0]?ma(f.TZ3)(t):void 0},wa=ga(f.B),Ea=ga(f.TZ1),Aa=t=>t?"ff":"00",Sa=t=>ga(f.P)(t),Ta=t=>ma(f.P)(t),Oa=t=>{switch(t.substr(0,3)){case f.TZ1:return"00"+ga(f.TZ1)(t);case f.TZ2:return"01"+ga(f.TZ2)(t);case f.TZ3:return"02"+ga(f.TZ3)(t);default:throw new x(t)}},xa=t=>{const e=[];let r=new d.Z(t,10);if(r.isNaN())throw new TypeError(`Invalid zarith number ${t}`);for(;;){if(r.lt(128)){r.lt(16)&&e.push("0"),e.push(r.toString(16));break}{let t=r.mod(128);r=r.minus(t),r=r.dividedBy(128),t=t.plus(128),e.push(t.toString(16))}}return e.join("")},Ia=t=>{let e=0;for(;e<t.length()&&0!=(128&t.get(e));)e+=1;let r=new d.Z(0);for(let i=e;i>=0;i-=1){const e=127&t.get(i);r=r.multipliedBy(128),r=r.plus(e)}return t.consume(e+1),new d.Z(r).toString()},Ra=t=>{const e=Mo(t.consume(1)[0],2);if(e in Do)return Do[e];{const e=ia(t,1),r=Po.from(e).toString("utf8");if(r.length>31)throw new $o(r);return r}},Pa=ga(f.VH),La=ma(f.VH),Ma={branch:ko.BRANCH,contents:[ko.OPERATION]},ka={pkh:ko.TZ1,secret:ko.SECRET},Na={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,public_key:ko.PUBLIC_KEY},Ca={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,delegate:ko.DELEGATE},Ua={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,amount:ko.ZARITH,destination:ko.ADDRESS,parameters:ko.PARAMETERS},Ba={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,balance:ko.ZARITH,delegate:ko.DELEGATE,script:ko.SCRIPT},Da={source:ko.PKH,period:ko.INT32,proposal:ko.PROPOSAL,ballot:ko.BALLOT_STATEMENT},ja={slot:ko.INT16,level:ko.INT32,round:ko.INT32,block_payload_hash:ko.BLOCK_PAYLOAD_HASH},Ha={level:ko.INT32,nonce:ko.RAW},Ka={source:ko.PKH,period:ko.INT32,proposals:ko.PROPOSAL_ARR},$a={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,value:ko.VALUE},Ga=t=>e=>{if(!(e.kind in t)||!(e.kind in Bo))throw new L(e.kind);return Bo[e.kind]+t[e.kind](e)},Fa=t=>e=>{const r=e.consume(1),i=Uo[r[0]];if(void 0===i)throw new Xo(r[0].toString());const n=t[i](e);if("object"!=typeof n)throw new qo("Decoded invalid operation");return Object.assign({kind:i},n)},Va=t=>e=>r=>Object.keys(e).reduce(((i,n)=>{const s=e[n];if(r&&Array.isArray(s)){const e=t[s[0]],o=r[n];if(!Array.isArray(o))throw new Zo(`Expected value to be Array ${JSON.stringify(o)}`);return i+o.reduce(((t,r)=>t+e(r)),"")}return i+(0,t[s])(r[n])}),""),za=t=>e=>r=>Object.keys(e).reduce(((i,n)=>{const s=e[n];if(Array.isArray(s)){const e=t[s[0]],o=[],a=r.length();for(;r.length()>0;)if(o.push(e(r)),a===r.length())throw new qo("Unable to decode value");return Object.assign(Object.assign({},i),{[n]:o})}{const e=(0,t[s])(r);return void 0!==e?Object.assign(Object.assign({},i),{[n]:e}):Object.assign({},i)}}),{}),qa={[ko.SECRET]:t=>Lo(t.consume(20)),[ko.RAW]:t=>Lo(t.consume(32)),[ko.TZ1]:ya,[ko.BRANCH]:va,[ko.ZARITH]:Ia,[ko.PUBLIC_KEY]:t=>{switch(t.consume(1)[0]){case 0:return ma(f.EDPK)(t);case 1:return ma(f.SPPK)(t);case 2:return ma(f.P2PK)(t);default:throw new w(t.toString())}},[ko.PKH]:_a,[ko.DELEGATE]:t=>{const e=(t=>255===t.consume(1)[0])(t);if(e)return _a(t)},[ko.INT32]:t=>{const e=t.consume(4);let r=0;for(let i=0;i<e.length;i++)r|=e[i]<<8*(e.length-(i+1));return r},[ko.SCRIPT]:t=>{const e=ia(t),r=ia(t);return{code:ra(new Yo(e)),storage:ra(new Yo(r))}},[ko.BALLOT_STATEMENT]:t=>{const e=t.consume(1);switch(e[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new Fo(e[0].toString())}},[ko.PROPOSAL]:Ta,[ko.PROPOSAL_ARR]:t=>{const e=[];for(t.consume(4);t.length()>0;)e.push(Ta(t));return e},[ko.PARAMETERS]:t=>{if(0!==t.consume(1)[0]){const e=Ra(t),r=ia(t);return{entrypoint:e,value:ra(new Yo(r))}}},[ko.ADDRESS]:t=>{switch(t.consume(1)[0]){case 0:return _a(t);case 1:{const e=ma(f.KT1)(t);return t.consume(1),e}default:throw new T(t.toString())}},[ko.VALUE]:t=>{const e=ia(t);return ra(new Yo(e))},[ko.INT16]:t=>{const e=t.consume(2);let r=0;for(let i=0;i<e.length;i++)r|=e[i]<<8*(e.length-(i+1));return r},[ko.BLOCK_PAYLOAD_HASH]:La};qa[ko.OPERATION]=Fa(qa),qa[ko.OP_ACTIVATE_ACCOUNT]=t=>za(qa)(ka)(t),qa[ko.OP_DELEGATION]=t=>za(qa)(Ca)(t),qa[ko.OP_TRANSACTION]=t=>za(qa)(Ua)(t),qa[ko.OP_ORIGINATION]=t=>za(qa)(Ba)(t),qa[ko.OP_BALLOT]=t=>za(qa)(Da)(t),qa[ko.OP_ENDORSEMENT]=t=>za(qa)(ja)(t),qa[ko.OP_SEED_NONCE_REVELATION]=t=>za(qa)(Ha)(t),qa[ko.OP_PROPOSALS]=t=>za(qa)(Ka)(t),qa[ko.OP_REVEAL]=t=>za(qa)(Na)(t),qa[ko.OP_REGISTER_GLOBAL_CONSTANT]=t=>za(qa)($a)(t),qa[ko.MANAGER]=za(qa)(Ma);const Za={[ko.SECRET]:t=>t,[ko.RAW]:t=>t,[ko.TZ1]:Ea,[ko.BRANCH]:wa,[ko.ZARITH]:xa,[ko.PUBLIC_KEY]:t=>{switch(t.substr(0,4)){case f.EDPK:return"00"+ga(f.EDPK)(t);case f.SPPK:return"01"+ga(f.SPPK)(t);case f.P2PK:return"02"+ga(f.P2PK)(t);default:throw new w(t)}},[ko.PKH]:Oa,[ko.DELEGATE]:t=>t?Aa(!0)+Oa(t):Aa(!1),[ko.SCRIPT]:t=>{const e=ea(t.code),r=ea(t.storage);return`${Mo(e.length/2,8)}${e}${Mo(r.length/2,8)}${r}`},[ko.BALLOT_STATEMENT]:t=>{switch(t){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new Go(t)}},[ko.PROPOSAL]:Sa,[ko.PROPOSAL_ARR]:t=>Mo(32*t.length)+t.map((t=>Sa(t))).join(""),[ko.INT32]:t=>{const e=parseInt(String(t),10),r=[];for(let i=0;i<4;i++){const t=8*(4-(i+1));r.push((e&255<<t)>>t)}return Po.from(r).toString("hex")},[ko.PARAMETERS]:t=>{if(!t||"default"===t.entrypoint&&"prim"in t.value&&"Unit"===t.value.prim)return"00";const e=(t=>{if(t in jo)return`${jo[t]}`;if(t.length>31)throw new $o(t);return`ff${ea({string:t}).slice(8)}`})(t.entrypoint),r=ea(t.value);return`ff${e}${(r.length/2).toString(16).padStart(8,"0")}${r}`},[ko.ADDRESS]:t=>{switch(t.substr(0,3)){case f.TZ1:case f.TZ2:case f.TZ3:return"00"+Oa(t);case f.KT1:return"01"+ga(f.KT1)(t)+"00";default:throw new T(t)}},[ko.VALUE]:t=>{const e=ea(t);return`${Mo(e.length/2)}${e}`},[ko.INT16]:t=>{const e=parseInt(String(t),10),r=[];for(let i=0;i<2;i++){const t=8*(2-(i+1));r.push((e&255<<t)>>t)}return Po.from(r).toString("hex")},[ko.BLOCK_PAYLOAD_HASH]:Pa};Za[ko.OPERATION]=Ga(Za),Za[ko.OP_ACTIVATE_ACCOUNT]=t=>Va(Za)(ka)(t),Za[ko.OP_DELEGATION]=t=>Va(Za)(Ca)(t),Za[ko.OP_TRANSACTION]=t=>Va(Za)(Ua)(t),Za[ko.OP_ORIGINATION]=t=>Va(Za)(Ba)(t),Za[ko.OP_BALLOT]=t=>Va(Za)(Da)(t),Za[ko.OP_ENDORSEMENT]=t=>Va(Za)(ja)(t),Za[ko.OP_SEED_NONCE_REVELATION]=t=>Va(Za)(Ha)(t),Za[ko.OP_PROPOSALS]=t=>Va(Za)(Ka)(t),Za[ko.OP_REVEAL]=t=>Va(Za)(Na)(t),Za[ko.OP_REGISTER_GLOBAL_CONSTANT]=t=>Va(Za)($a)(t),Za[ko.MANAGER]=Va(Za)(Ma);const Xa={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,ticket_contents:ko.VALUE,ticket_ty:ko.VALUE,ticket_ticketer:ko.ADDRESS,ticket_amount:ko.ZARITH,destination:ko.ADDRESS,entrypoint:ko.ENTRYPOINT},Ya={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,tx_rollup_origination:ko.TX_ROLLUP_ORIGINATION_PARAM},Wa={source:ko.PKH,fee:ko.ZARITH,counter:ko.ZARITH,gas_limit:ko.ZARITH,storage_limit:ko.ZARITH,rollup:ko.TX_ROLLUP_ID,content:ko.TX_ROLLUP_BATCH_CONTENT,burn_limit:ko.BURN_LIMIT},Ja={activate_account:ka,reveal:Na,delegation:Ca,transaction:Ua,origination:Ba,ballot:Da,endorsement:ja,seed_nonce_revelation:Ha,proposals:Ka,register_global_constant:$a,transfer_ticket:Xa,tx_rollup_origination:Ya,tx_rollup_submit_batch:Wa},Qa=t=>{const e=t.kind,r=Object.keys(t),i=(n="kind",r.filter((t=>t!==n)));var n;const s=Object.keys(Ja[e]);return o=i,s.filter((t=>!o.includes(t)));var o};var tc;!function(t){t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",t.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",t.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",t.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",t.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",t.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(tc||(tc={}));const ec={Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:14};const rc=Object.assign(Object.assign({},No),{84:"sapling_transaction_deprecated",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction"}),ic=(()=>{const t={};return Object.keys(rc).forEach((e=>{t[rc[e]]=e})),t})(),nc=t=>{if(Array.isArray(t)){const e=t.map((t=>nc(t))).join(""),r=e.length/2;return`02${Mo(r)}${e}`}if(Wo(t))return oc(t);if(Jo(t))return na(t);if(Qo(t))return oa(t);if(ta(t))return ca(t);throw new zo("Unexpected value")},sc=t=>{const e=t.consume(1);switch(e[0]){case 10:return sa(t);case 1:return aa(t);case 0:return ha(t);case 2:{const e=new Yo(ia(t)),r=[];for(;e.length()>0;)r.push(sc(e));return r}default:return ac(t,e)}},oc=t=>{const e=+Array.isArray(t.annots),r=Array.isArray(t.args)?t.args.length:0,i=Mo(Math.min(2*r+e+3,9),2),n=ic[t.prim];let s=(t.args||[]).map((t=>nc(t))).join("");const o=Array.isArray(t.annots)?pa(t.annots):"";return"LAMBDA"===t.prim&&r&&(s=Mo(s.length/2)+s+Mo(0)),("pair"===t.prim||"Pair"===t.prim)&&r>2&&(s=""===o?Mo(s.length/2)+s+Mo(0):Mo(s.length/2)+s),"view"===t.prim&&t.args&&(s=Mo(s.length/2)+s+Mo(0)),`${i}${n}${s}${o}`},ac=(t,e)=>{const r=(e[0]-3)%2==1;let i=Math.floor((e[0]-3)/2);const n=t.consume(1)[0].toString(16).padStart(2,"0"),s={prim:rc[n]};if("LAMBDA"===rc[n]&&t.consume(4),"view"===rc[n])return 0!=i?cc(t,s):s;let o,a;("pair"===rc[n]||"Pair"===rc[n])&&i>2&&(o=hc(t),i=0,a=ba(t));const c=new Array(i).fill(0).map((()=>sc(t)));return"LAMBDA"===rc[n]&&t.consume(4),o?s.args=o:c.length&&(s.args=c),a&&""!==a[0]?s.annots=a:r&&(s.annots=ba(t)),s},cc=(t,e)=>(t.consume(4),e.args=new Array(4).fill(0).map((()=>sc(t))),t.consume(4),e),hc=t=>{const e=new Yo(ia(t)),r=[];for(;e.length()>0;)r.push(sc(e));return r},uc=ga(f.TXR1),fc=ma(f.TXR1),dc=Object.assign(Object.assign({},Za),{[ko.SCRIPT]:t=>{const e=nc(t.code),r=nc(t.storage);return`${Mo(e.length/2,8)}${e}${Mo(r.length/2,8)}${r}`},[ko.PARAMETERS]:t=>{if(!t||"default"===t.entrypoint&&"prim"in t.value&&"Unit"===t.value.prim)return"00";const e=(t=>{if(t in jo)return`${jo[t]}`;if(t.length>31)throw new $o(t);return`ff${nc({string:t}).slice(8)}`})(t.entrypoint),r=nc(t.value);return`ff${e}${(r.length/2).toString(16).padStart(8,"0")}${r}`},[ko.VALUE]:t=>{const e=nc(t);return`${Mo(e.length/2)}${e}`},[ko.ENTRYPOINT]:t=>`${nc({string:t}).slice(2)}`,[ko.TX_ROLLUP_ORIGINATION_PARAM]:t=>"",[ko.TX_ROLLUP_ID]:uc,[ko.TX_ROLLUP_BATCH_CONTENT]:t=>`${Mo(t.length/2)}${t}`,[ko.BURN_LIMIT]:t=>t?`ff${xa(t)}`:"00"});dc[ko.OPERATION]=Ga(dc),dc[ko.OP_ACTIVATE_ACCOUNT]=t=>Va(dc)(ka)(t),dc[ko.OP_DELEGATION]=t=>Va(dc)(Ca)(t),dc[ko.OP_TRANSACTION]=t=>Va(dc)(Ua)(t),dc[ko.OP_ORIGINATION]=t=>Va(dc)(Ba)(t),dc[ko.OP_BALLOT]=t=>Va(dc)(Da)(t),dc[ko.OP_ENDORSEMENT]=t=>Va(dc)(ja)(t),dc[ko.OP_SEED_NONCE_REVELATION]=t=>Va(dc)(Ha)(t),dc[ko.OP_PROPOSALS]=t=>Va(dc)(Ka)(t),dc[ko.OP_REVEAL]=t=>Va(dc)(Na)(t),dc[ko.OP_REGISTER_GLOBAL_CONSTANT]=t=>Va(dc)($a)(t),dc[ko.OP_TRANSFER_TICKET]=t=>Va(dc)(Xa)(t),dc[ko.OP_TX_ROLLUP_ORIGINATION]=t=>Va(dc)(Ya)(t),dc[ko.OP_TX_ROLLUP_SUBMIT_BATCH]=t=>Va(dc)(Wa)(t),dc[ko.MANAGER]=Va(dc)(Ma);const lc=Object.assign(Object.assign({},qa),{[ko.SCRIPT]:t=>{const e=ia(t),r=ia(t);return{code:sc(new Yo(e)),storage:sc(new Yo(r))}},[ko.PARAMETERS]:t=>{if(0!==t.consume(1)[0]){const e=Ra(t),r=ia(t);return{entrypoint:e,value:sc(new Yo(r))}}},[ko.VALUE]:t=>{const e=ia(t);return sc(new Yo(e))},[ko.ENTRYPOINT]:t=>{const e=ia(t);return Po.from(e).toString("utf8")},[ko.TX_ROLLUP_ORIGINATION_PARAM]:t=>({}),[ko.TX_ROLLUP_ID]:fc,[ko.TX_ROLLUP_BATCH_CONTENT]:t=>{const e=ia(t);return Po.from(e).toString("hex")},[ko.BURN_LIMIT]:t=>{const e=t.consume(1);if("00"!==Po.from(e).toString("hex"))return Ia(t)}});lc[ko.OPERATION]=Fa(lc),lc[ko.OP_ACTIVATE_ACCOUNT]=t=>za(lc)(ka)(t),lc[ko.OP_DELEGATION]=t=>za(lc)(Ca)(t),lc[ko.OP_TRANSACTION]=t=>za(lc)(Ua)(t),lc[ko.OP_ORIGINATION]=t=>za(lc)(Ba)(t),lc[ko.OP_BALLOT]=t=>za(lc)(Da)(t),lc[ko.OP_ENDORSEMENT]=t=>za(lc)(ja)(t),lc[ko.OP_SEED_NONCE_REVELATION]=t=>za(lc)(Ha)(t),lc[ko.OP_PROPOSALS]=t=>za(lc)(Ka)(t),lc[ko.OP_REVEAL]=t=>za(lc)(Na)(t),lc[ko.OP_REGISTER_GLOBAL_CONSTANT]=t=>za(lc)($a)(t),lc[ko.OP_TRANSFER_TICKET]=t=>za(lc)(Xa)(t),lc[ko.OP_TX_ROLLUP_ORIGINATION]=t=>za(lc)(Ya)(t),lc[ko.OP_TX_ROLLUP_SUBMIT_BATCH]=t=>za(lc)(Wa)(t),lc[ko.MANAGER]=za(lc)(Ma);const pc=tc.Psithaca2;function bc(t,e){return e===tc.Psithaca2||(r=e,i=tc.Psithaca2,ec[r]<ec[i])?{encoder:Za[t],decoder:e=>{const r=Yo.fromHexString(e);return qa[t](r)}}:{encoder:dc[t],decoder:e=>{const r=Yo.fromHexString(e);return lc[t](r)}};var r,i}class gc{constructor(t=pc){this.protocolHash=t,this.codec=bc(ko.MANAGER,this.protocolHash)}forge(t){if(U(t.branch,$)!==C.VALID)throw new Ho(`The block hash ${t.branch} is invalid`);var e;for(const i of t.contents){if(e=i.kind,!Object.keys(Ja).includes(e))throw new L(i.kind);const t=Qa(i);if(1===t.length){if("delegation"===i.kind&&"delegate"===t[0])continue;if("origination"===i.kind&&"delegate"===t[0])continue;if("transaction"===i.kind&&"parameters"===t[0])continue;if("tx_rollup_submit_batch"===i.kind&&"burn_limit"===t[0])continue;throw new Ko(`Missing properties: ${t.join(", ").toString()}`)}if(t.length>1)throw new Ko(`Missing properties: ${t.join(", ").toString()}`)}const r=this.codec.encoder(t).toLowerCase();return Promise.resolve(r)}parse(t){return Promise.resolve(this.codec.decoder(t))}}new gc;function mc(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function yc(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}class vc{constructor(t){this.context=t}inject(t){return this.context.rpc.injectOperation(t)}}class _c extends Error{constructor(){super("No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."),this.name="UnconfiguredSignerError"}}class wc{publicKey(){return yc(this,void 0,void 0,(function*(){throw new _c}))}publicKeyHash(){return yc(this,void 0,void 0,(function*(){throw new _c}))}secretKey(){return yc(this,void 0,void 0,(function*(){throw new _c}))}sign(t,e){return yc(this,void 0,void 0,(function*(){throw new _c}))}}function Ec(t){return new vt((e=>(t.on("data",(t=>{e.next(t)})),t.on("error",(t=>{e.error(t)})),t.on("close",(()=>{e.complete()})),()=>{t.close()})))}var Ac,Sc,Tc,Oc;!function(t){t[t.DELEGATION=10600]="DELEGATION",t[t.ORIGINATION=10600]="ORIGINATION",t[t.TRANSFER=10600]="TRANSFER",t[t.REVEAL=1100]="REVEAL"}(Ac||(Ac={})),function(t){t[t.DELEGATION=1257]="DELEGATION",t[t.ORIGINATION=1e4]="ORIGINATION",t[t.TRANSFER=1e4]="TRANSFER",t[t.REVEAL=374]="REVEAL"}(Sc||(Sc={})),function(t){t[t.DELEGATION=0]="DELEGATION",t[t.ORIGINATION=257]="ORIGINATION",t[t.TRANSFER=257]="TRANSFER",t[t.REVEAL=0]="REVEAL"}(Tc||(Tc={})),function(t){t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",t.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",t.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",t.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",t.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",t.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",t.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(Oc||(Oc={}));Oc.Pt24m4xi,Oc.PsBABY5H,Oc.PsBabyM1,Oc.PsCARTHA,Oc.PsDELPH1,Oc.PtEdo2Zk,Oc.PsFLorena,Oc.PtGRANADs,Oc.PtHangz2,Oc.PsiThaCa,Oc.Psithaca2,Oc.PtJakart2,Oc.ProtoALpha;var xc;!function(t){t.MAINNET="NetXdQprcVkpaWU",t.CARTHAGENET="NetXjD3HPJJjmcd",t.DELPHINET="NetXm8tYqnMWky1",t.EDONET="NetXSgo1ZT2DRUG",t.FLORENCENET="NetXxkAx4woPLyu",t.GRANADANET="NetXz969SFaFn8k",t.HANGZHOUNET="NetXZSsxBpMQeAT",t.ITHACANET="NetXbhmtAbMukLc",t.ITHACANET2="NetXnHfVqm9iesp",t.JAKARTANET2="NetXLH1uAxK7CCh"}(xc||(xc={}));function Ic(t){switch(t){case"tz":return 6;case"mtz":return 3;default:return 0}}function Rc(t="mutez",e="mutez",r){const i=new d.Z(r);return i.isNaN()?r:i.multipliedBy(Math.pow(10,Ic(t))).dividedBy(Math.pow(10,Ic(e)))}class Pc extends Error{constructor(t,e,r){super(`${t} Received ${r.length} arguments while expecting one of the following signatures (${JSON.stringify(e)})`),this.smartContractMethodName=t,this.sigs=e,this.args=r,this.name="Invalid parameters error"}}class Lc extends Error{constructor(t){super(`Since Babylon delegation source can no longer be a contract address ${t}. Please use the smart contract abstraction to set your delegate.`),this.source=t,this.name="Invalid delegation source error"}}class Mc extends Error{constructor(t,e){super(t),this.message=t,this.data=e,this.name="InvalidCodeParameter"}}class kc extends Error{constructor(t,e){super(t),this.message=t,this.data=e,this.name="InvalidInitParameter"}}class Nc extends Error{constructor(t,e,r,i){super(`Unable to encode the parameter of the view: ${t}. Received ${r} as parameter while expecting one of the following signatures (${JSON.stringify(e)})`),this.smartContractViewName=t,this.sigs=e,this.args=r,this.originalError=i,this.name="Invalid view parameters error",this.cause=i}}class Cc extends Error{constructor(t,e,r,i){super(t),this.message=t,this.viewName=e,this.failWith=r,this.originalError=i,this.name="ViewSimulationError"}}const Uc=t=>{try{JSON.parse(t)}catch(e){return!1}return!0};class Bc extends Error{constructor(t){super(`${t} Please configure the context of the view execution in the executeView method.`),this.info=t,this.name="InvalidViewSimulationContext"}}class Dc extends Error{constructor(t){super(t),this.message=t,this.name="RevealOperationError"}}class jc extends Error{constructor(t){super(t),this.message=t,this.name="OriginationParameterError"}}const Hc=({code:t,init:e,balance:r="0",delegate:i,storage:n,fee:s=Sc.ORIGINATION,gasLimit:o=Ac.ORIGINATION,storageLimit:a=Tc.ORIGINATION,mutez:c=!1})=>yc(void 0,void 0,void 0,(function*(){if(void 0!==n&&void 0!==e)throw new jc("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(t))throw new Mc("Wrong code parameter type, expected an array",t);let h;if(void 0!==n){const e=t.find((t=>"prim"in t&&"storage"===t.prim));if(void 0===(null==e?void 0:e.args))throw new Mc("The storage section is missing from the script",t);h=new dn(e.args[0]).Encode(n)}else{if(void 0===e||"object"!=typeof e)throw new kc("Wrong init parameter type, expected JSON Michelson",e);h=e}const u={code:t,storage:h},f={kind:ut.ORIGINATION,fee:s,gas_limit:o,storage_limit:a,balance:c?r.toString():Rc("tz","mutez",r).toString(),script:u};return i&&(f.delegate=i),f})),Kc=({to:t,amount:e,parameter:r,fee:i=Sc.TRANSFER,gasLimit:n=Ac.TRANSFER,storageLimit:s=Tc.TRANSFER,mutez:o=!1})=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.TRANSACTION,fee:i,gas_limit:n,storage_limit:s,amount:o?e.toString():Rc("tz","mutez",e).toString(),destination:t,parameters:r}})),$c=({delegate:t,source:e,fee:r=Sc.DELEGATION,gasLimit:i=Ac.DELEGATION,storageLimit:n=Tc.DELEGATION})=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.DELEGATION,source:e,fee:r,gas_limit:i,storage_limit:n,delegate:t}})),Gc=({fee:t=Sc.DELEGATION,gasLimit:e=Ac.DELEGATION,storageLimit:r=Tc.DELEGATION},i)=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.DELEGATION,fee:t,gas_limit:e,storage_limit:r,delegate:i}})),Fc=({fee:t=Sc.REVEAL,gasLimit:e=Ac.REVEAL,storageLimit:r=Tc.REVEAL},i,n)=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.REVEAL,fee:t,public_key:n,source:i,gas_limit:e,storage_limit:r}})),Vc=({value:t,source:e,fee:r,gasLimit:i,storageLimit:n})=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.REGISTER_GLOBAL_CONSTANT,value:t,fee:r,gas_limit:i,storage_limit:n,source:e}})),zc=({source:t,fee:e,gasLimit:r,storageLimit:i})=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.TX_ROLLUP_ORIGINATION,fee:e,gas_limit:r,storage_limit:i,source:t,tx_rollup_origination:{}}})),qc=({content:t,rollup:e,source:r,fee:i,gasLimit:n,storageLimit:s})=>yc(void 0,void 0,void 0,(function*(){return{kind:ut.TX_ROLLUP_SUBMIT_BATCH,fee:i,gas_limit:n,storage_limit:s,source:r,content:t,rollup:e}})),Zc=(t,e)=>Object.assign(Object.assign({},t),{kind:e}),Xc=(t,e)=>{if(Array.isArray(t)){const r=t.find((t=>t.kind===e));if(r&&Yc(r,e))return r}},Yc=(t,e)=>t.kind===e,Wc=t=>-1!==["transaction","delegation","origination","reveal","register_global_constant","tx_rollup_origination","tx_rollup_submit_batch"].indexOf(t.kind),Jc=t=>-1!==["transaction","delegation","origination","register_global_constant","tx_rollup_origination","tx_rollup_submit_batch"].indexOf(t.kind),Qc=t=>"metadata"in t,th=t=>Qc(t)&&"operation_result"in t.metadata;class eh extends Error{constructor(t,e){super(),this.errors=t,this.errorDetails=e,this.name="TezosOperationError";const r=t[t.length-1];this.id=r.id,this.kind=r.kind,this.message=`(${this.kind}) ${this.id}`,"with"in r&&(r.with.string?this.message=r.with.string:r.with.int?this.message=r.with.int:this.message=JSON.stringify(r.with))}}class rh extends Error{constructor(t){super("Preapply returned an unexpected result"),this.result=t,this.name="TezosPreapplyFailureError"}}const ih=t=>{const e=Array.isArray(t)?t:[t],r=[];for(let i=0;i<e.length;i++)for(let t=0;t<e[i].contents.length;t++){const n=e[i].contents[t];th(n)&&(r.push(Object.assign({fee:n.fee},n.metadata.operation_result)),Array.isArray(n.metadata.internal_operation_results)&&n.metadata.internal_operation_results.forEach((t=>r.push(t.result))))}return r},nh=(t,e="failed")=>{const r=Array.isArray(t)?t:[t];let i=[];for(let s=0;s<r.length;s++)for(let t=0;t<r[s].contents.length;t++){const o=r[s].contents[t];if(Qc(o)&&(th(o)&&o.metadata.operation_result.status===e&&(i=i.concat(o.metadata.operation_result.errors||[])),Qc(n=o)&&"internal_operation_results"in n.metadata&&Array.isArray(o.metadata.internal_operation_results)))for(const t of o.metadata.internal_operation_results)"result"in t&&t.result.status===e&&(i=i.concat(t.result.errors||[]))}var n;return i};class sh extends Error{constructor(t){super(t),this.message=t,this.name="OriginationOperationError"}}class oh extends Error{constructor(t){super(t),this.message=t,this.name="InvalidConfirmationCountError"}}class ah extends Error{constructor(t){super(t),this.message=t,this.name="ConfirmationUndefinedError"}}class ch extends Error{constructor(t){super(t),this.message=t,this.name="InvalidFilterExpressionError"}}class hh{constructor(t,e,r,i){if(this.hash=t,this.raw=e,this.results=r,this.context=i,this._pollingConfig$=new zt(1),this.currentHead$=this._pollingConfig$.pipe(Le((t=>ie((()=>Ec(this.context.stream.subscribeBlock("head")))).pipe(Ne(1e3*t.timeout,Kt(new Error("Confirmation polling timed out")))))),Be({refCount:!0})),this.confirmed$=this.currentHead$.pipe(le((t=>{for(let e=3;e>=0;e--)t.operations[e].forEach((e=>{e.hash===this.hash&&(this._foundAt=t.header.level)}));if(t.header.level-this._foundAt>=0)return this._foundAt})),De((t=>void 0!==t)),Qe(),Be()),this._foundAt=Number.POSITIVE_INFINITY,X(this.hash)!==C.VALID)throw new P(this.hash);this.confirmed$.pipe(Qe(),tr((()=>Ht(kt)))).subscribe()}get includedInBlock(){return this._foundAt}get revealOperation(){return Array.isArray(this.results)&&this.results.find((t=>"reveal"===t.kind))}get revealStatus(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"}get status(){return this.results.map((t=>th(t)?t.metadata.operation_result.status:"unknown"))[0]||"unknown"}confirmation(t,e){return yc(this,void 0,void 0,(function*(){if(void 0!==t&&t<1)throw new oh("Confirmation count must be at least 1");const{defaultConfirmationCount:r,confirmationPollingTimeoutSecond:i}=this.context.config;this._pollingConfig$.next({timeout:e||i});const n=void 0!==t?t:r;return new Promise(((t,e)=>{this.confirmed$.pipe(Le((()=>this.currentHead$)),De((t=>t.header.level-this._foundAt>=n-1)),Qe()).subscribe((e=>{t(this._foundAt+(n-1))}),e)}))}))}}class uh extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r}sumProp(t,e){return t.reduce(((t,r)=>e in r?Number(r[e])+t:t),0)}get status(){return this.results.filter((t=>-1!==dh.indexOf(t.kind))).map((t=>th(t)?t.metadata.operation_result.status:"unknown"))[0]||"unknown"}get fee(){return this.sumProp(this.params,"fee")}get gasLimit(){return this.sumProp(this.params,"gas_limit")}get storageLimit(){return this.sumProp(this.params,"storage_limit")}get consumedGas(){return String(this.sumProp(ih({contents:this.results}),"consumed_gas"))}get storageDiff(){return String(this.sumProp(ih({contents:this.results}),"paid_storage_size_diff"))}get errors(){return nh({contents:this.results})}}class fh{constructor(t){this.context=t}get rpc(){return this.context.rpc}get signer(){return this.context.signer}isRevealOpNeeded(t,e){return yc(this,void 0,void 0,(function*(){return!(!(yield this.isAccountRevealRequired(e))||!this.isRevealRequiredForOpType(t))}))}isAccountRevealRequired(t){return yc(this,void 0,void 0,(function*(){return!(yield this.context.readProvider.isAccountRevealed(t,"head"))}))}isRevealRequiredForOpType(t){let e=!1;for(const r of t)Jc(r)&&(e=!0);return e}prepareOperation({operation:t,source:e},r){return yc(this,void 0,void 0,(function*(){const i={};let n=[];const s=this.context.readProvider.getBlockHash("head~2"),o=this.context.readProvider.getNextProtocol("head");n=Array.isArray(t)?[...t]:[t];const a=r||(yield this.signer.publicKeyHash());let c=Promise.resolve(void 0);for(let t=0;t<n.length;t++)if(Jc(n[t])||"reveal"===n[t].kind){c=this.context.readProvider.getCounter(a,"head");break}const[h,u,f]=yield Promise.all([s,o,c]),d=parseInt(f||"0",10);(!i[a]||i[a]<d)&&(i[a]=d);const l=t=>({counter:`${++i[a]}`,fee:void 0===t.fee?"0":`${t.fee}`,gas_limit:void 0===t.gas_limit?"0":`${t.gas_limit}`,storage_limit:void 0===t.storage_limit?"0":`${t.storage_limit}`}),p=t=>({source:void 0===t.source?e||a:t.source});return{opOb:{branch:h,contents:n.map((t=>{switch(t.kind){case ut.ACTIVATION:return Object.assign({},t);case ut.ORIGINATION:return Object.assign(Object.assign(Object.assign(Object.assign({},t),{balance:void 0!==t.balance?`${t.balance}`:"0"}),p(t)),l(t));case ut.TRANSACTION:{const e=Object.assign(Object.assign(Object.assign(Object.assign({},t),{amount:void 0!==t.amount?`${t.amount}`:"0"}),p(t)),l(t));if(e.source.toLowerCase().startsWith("kt1"))throw new M(`KT1 addresses are not supported as source since ${Oc.PsBabyM1}`);return e}case ut.REVEAL:case ut.DELEGATION:case ut.REGISTER_GLOBAL_CONSTANT:case ut.TX_ROLLUP_ORIGINATION:case ut.TX_ROLLUP_SUBMIT_BATCH:return Object.assign(Object.assign(Object.assign({},t),p(t)),l(t));default:throw new L(t.kind)}})),protocol:u},counter:d}}))}forge({opOb:{branch:t,contents:e,protocol:r},counter:i}){return yc(this,void 0,void 0,(function*(){return{opbytes:yield this.context.forger.forge({branch:t,contents:e}),opOb:{branch:t,contents:e,protocol:r},counter:i}}))}simulate(t){return yc(this,void 0,void 0,(function*(){return{opResponse:yield this.rpc.runOperation(t),op:t,context:this.context.clone()}}))}estimate(t,e){var{fee:r,gasLimit:i,storageLimit:n}=t,s=mc(t,["fee","gasLimit","storageLimit"]);return yc(this,void 0,void 0,(function*(){let t=r,o=i,a=n;if(void 0===r||void 0===i||void 0===n){const c=yield e(Object.assign({fee:r,gasLimit:i,storageLimit:n},s));void 0===t&&(t=c.suggestedFeeMutez),void 0===o&&(o=c.gasLimit),void 0===a&&(a=c.storageLimit)}return{fee:t,gasLimit:o,storageLimit:a}}))}signAndInject(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.sign(t.opbytes,new Uint8Array([3]));t.opbytes=e.sbytes,t.opOb.signature=e.prefixSig;const r=[],i=yield this.rpc.preapplyOperations([t.opOb]);if(!Array.isArray(i))throw new rh(i);for(let t=0;t<i.length;t++)for(let e=0;e<i[t].contents.length;e++)r.push(i[t].contents[e]);const n=nh(i);if(n.length)throw new eh(n,"Error occurred during validation simulation of operation");return{hash:yield this.context.injector.inject(t.opbytes),forgedBytes:t,opResponse:r,context:this.context.clone()}}))}}const dh=[ut.ACTIVATION,ut.ORIGINATION,ut.TRANSACTION,ut.DELEGATION];class lh extends fh{constructor(t,e){super(t),this.estimator=e,this.operations=[]}withTransfer(t){if(G(t.to)!==C.VALID)throw new T(t.to);return this.operations.push(Object.assign({kind:ut.TRANSACTION},t)),this}withContractCall(t){return this.withTransfer(t.toTransferParams())}withDelegation(t){if(t.source&&G(t.source)!==C.VALID)throw new T(t.source);if(t.delegate&&G(t.delegate)!==C.VALID)throw new T(t.delegate);return this.operations.push(Object.assign({kind:ut.DELEGATION},t)),this}withActivation({pkh:t,secret:e}){if(z(t)!==C.VALID)throw new x(t);return this.operations.push({kind:ut.ACTIVATION,pkh:t,secret:e}),this}withOrigination(t){return this.operations.push(Object.assign({kind:ut.ORIGINATION},t)),this}withRegisterGlobalConstant(t){return this.operations.push(Object.assign({kind:ut.REGISTER_GLOBAL_CONSTANT},t)),this}withTxRollupOrigination(t){return this.operations.push(Object.assign({kind:ut.TX_ROLLUP_ORIGINATION},t)),this}withTxRollupSubmitBatch(t){return this.operations.push(Object.assign({kind:ut.TX_ROLLUP_SUBMIT_BATCH},t)),this}getRPCOp(t){return yc(this,void 0,void 0,(function*(){switch(t.kind){case ut.TRANSACTION:return Kc(Object.assign({},t));case ut.ORIGINATION:return Hc(yield this.context.parser.prepareCodeOrigination(Object.assign({},t)));case ut.DELEGATION:return $c(Object.assign({},t));case ut.ACTIVATION:return Object.assign({},t);case ut.REGISTER_GLOBAL_CONSTANT:return Vc(Object.assign({},t));case ut.TX_ROLLUP_ORIGINATION:return zc(Object.assign({},t));case ut.TX_ROLLUP_SUBMIT_BATCH:return qc(Object.assign({},t));default:throw new L(t.kind)}}))}with(t){for(const e of t)switch(e.kind){case ut.TRANSACTION:this.withTransfer(e);break;case ut.ORIGINATION:this.withOrigination(e);break;case ut.DELEGATION:this.withDelegation(e);break;case ut.ACTIVATION:this.withActivation(e);break;case ut.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant(e);break;case ut.TX_ROLLUP_ORIGINATION:this.withTxRollupOrigination(e);break;case ut.TX_ROLLUP_SUBMIT_BATCH:this.withTxRollupSubmitBatch(e);break;default:throw new L(e.kind)}return this}send(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.publicKeyHash(),r=yield this.signer.publicKey(),i=yield this.estimator.batch(this.operations),n=yield this.isRevealOpNeeded(this.operations,e);let s=n?1:0;const o=[];for(const t of this.operations){if(Wc(t)){const e=yield this.estimate(t,(()=>yc(this,void 0,void 0,(function*(){return i[s]}))));o.push(yield this.getRPCOp(Object.assign(Object.assign({},t),e)))}else o.push(Object.assign({},t));s++}if(n){const t={kind:ut.REVEAL},n=yield this.estimate(t,(()=>yc(this,void 0,void 0,(function*(){return i[0]}))));o.unshift(yield Fc(Object.assign({},n),e,r))}const a=t&&t.source||e,c=yield this.prepareOperation({operation:o,source:a}),h=yield this.forge(c),{hash:u,context:f,forgedBytes:d,opResponse:l}=yield this.signAndInject(h);return new uh(u,o,a,d,l,f)}))}}class ph{constructor(t,e){this.context=t,this.estimator=e}batch(t){const e=new lh(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e}}class bh extends Error{constructor(){super("Taquito missed a block while waiting for operation confirmation and was not able to find the operation"),this.name="MissedBlockDuringConfirmationError"}}class gh{constructor(t,e,r){if(this.opHash=t,this.context=e,this._newHead$=r,this._operationResult=new zt(1),this._includedInBlock=new zt(1),this._included=!1,this.newHead$=this._newHead$.pipe(nr((t=>{if(!this._included&&this.lastHead&&t.header.level-this.lastHead.header.level>1)throw new bh;this.lastHead=t})),Be({bufferSize:1,refCount:!0})),this.confirmed$=this.newHead$.pipe(le((t=>{for(const e of t.operations)for(const r of e)if(r.hash===this.opHash)return this._included=!0,this._includedInBlock.next(t),this._operationResult.next(r.contents),t})),De((t=>void 0!==t)),Qe(),Be({bufferSize:1,refCount:!0})),X(this.opHash)!==C.VALID)throw new P(this.opHash);this.confirmed$.pipe(Qe(),tr((()=>Ht(void 0)))).subscribe()}operationResults(){return yc(this,void 0,void 0,(function*(){return this._operationResult.pipe(Qe()).toPromise()}))}receipt(){return yc(this,void 0,void 0,(function*(){return((t,{ALLOCATION_BURN:e,ORIGINATION_BURN:r}={ALLOCATION_BURN:257,ORIGINATION_BURN:257})=>{const i=ih({contents:t});let n=new d.Z(0),s=new d.Z(0),o=new d.Z(0),a=new d.Z(0),c=new d.Z(0),h=new d.Z(0);return i.forEach((t=>{o=o.plus(t.fee||0),a=a.plus(Array.isArray(t.originated_contracts)?t.originated_contracts.length*r:0),c=c.plus("allocated_destination_contract"in t?e:0),n=n.plus(t.consumed_gas||0),h=h.plus("paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0)})),s=s.plus(c).plus(a).plus(h),{totalFee:o,totalGas:n,totalStorage:s,totalAllocationBurn:c,totalOriginationBurn:a,totalPaidStorageDiff:h,totalStorageBurn:new d.Z(s.multipliedBy(1e3))}})(yield this.operationResults())}))}getCurrentConfirmation(){return yc(this,void 0,void 0,(function*(){return this._included?he([this._includedInBlock,re(this.context.readProvider.getBlock("head"))]).pipe(le((([t,e])=>e.header.level-t.header.level+1)),Qe()).toPromise():0}))}isInCurrentBranch(t="head"){return yc(this,void 0,void 0,(function*(){if(!this._included)return!0;const e=yield this.context.readProvider.getBlockLevel(t),r=yield this._includedInBlock.pipe(Qe()).toPromise(),i=e-r.header.level;if(i<=0)return!0;const n=Math.min(r.header.level+i,r.header.level+60);return new Set(yield this.context.readProvider.getLiveBlocks(n)).has(r.hash)}))}confirmationObservable(t){if(void 0!==t&&t<1)throw new oh("Confirmation count must be at least 1");const{defaultConfirmationCount:e}=this.context.config,r=void 0!==t?t:e;if(void 0===r)throw new ah("Default confirmation count can not be undefined!");return he([this._includedInBlock,this.newHead$]).pipe(ar((([,t],[,e])=>t.hash===e.hash)),le((([t,e])=>({block:e,expectedConfirmation:r,currentConfirmation:e.header.level-t.header.level+1,completed:e.header.level-t.header.level>=r-1,isInCurrentBranch:()=>this.isInCurrentBranch(e.hash)}))),(i=({completed:t})=>!t,void 0===(n=!0)&&(n=!1),function(t){return t.lift(new ur(i,n))}));var i,n}confirmation(t){return this.confirmationObservable(t).toPromise()}}class mh extends gh{constructor(t,e,r){super(t,e,r),this.opHash=t,this.context=e}revealOperation(){return yc(this,void 0,void 0,(function*(){return(yield this.operationResults()).find((t=>t.kind===ut.REVEAL))}))}status(){return yc(this,void 0,void 0,(function*(){if(!this._included)return"pending";return(yield this.operationResults()).filter((t=>-1!==dh.indexOf(t.kind))).map((t=>th(t)?t.metadata.operation_result.status:"unknown"))[0]||"unknown"}))}}class yh extends gh{constructor(t,e,r){super(t,e,r),this.opHash=t,this.context=e}revealOperation(){return yc(this,void 0,void 0,(function*(){return(yield this.operationResults()).find((t=>t.kind===ut.REVEAL))}))}delegationOperation(){return yc(this,void 0,void 0,(function*(){return(yield this.operationResults()).find((t=>t.kind===ut.DELEGATION))}))}status(){return yc(this,void 0,void 0,(function*(){if(!this._included)return"pending";const t=yield this.delegationOperation();return t?t.metadata.operation_result.status:"unknown"}))}}class vh extends gh{constructor(t,e,r){super(t,e,r),this.opHash=t,this.context=e}originationOperation(){return yc(this,void 0,void 0,(function*(){const t=yield this.operationResults();return Xc(t,ut.ORIGINATION)}))}revealOperation(){return yc(this,void 0,void 0,(function*(){const t=yield this.operationResults();return Xc(t,ut.REVEAL)}))}status(){return yc(this,void 0,void 0,(function*(){if(!this._included)return"pending";const t=yield this.originationOperation();return t?t.metadata.operation_result.status:"unknown"}))}contract(){return yc(this,void 0,void 0,(function*(){const t=yield this.originationOperation(),e=((null==t?void 0:t.metadata.operation_result.originated_contracts)||[])[0];return this.context.wallet.at(e)}))}}class _h extends gh{constructor(t,e,r){super(t,e,r),this.opHash=t,this.context=e}revealOperation(){return yc(this,void 0,void 0,(function*(){return(yield this.operationResults()).find((t=>t.kind===ut.REVEAL))}))}transactionOperation(){return yc(this,void 0,void 0,(function*(){return(yield this.operationResults()).find((t=>t.kind===ut.TRANSACTION))}))}status(){return yc(this,void 0,void 0,(function*(){if(!this._included)return"pending";const t=yield this.transactionOperation();return t?t.metadata.operation_result.status:"unknown"}))}}class wh{constructor(t){this.context=t,this.sharedHeadObs=ie((()=>Ec(this.context.stream.subscribeBlock("head"))))}createNewHeadObservable(){return yc(this,void 0,void 0,(function*(){return t=this.sharedHeadObs,e=this.context,t.pipe(Ne(1e3*e.config.confirmationPollingTimeoutSecond,Kt(new Error("Confirmation polling timed out")),r),Be({refCount:!0,scheduler:r}));var t,e,r}))}createPastBlockWalker(t,e=1){return re(this.context.readProvider.getBlock(t)).pipe(Le((t=>1===e?Ht(t):function(t,e,r){return void 0===t&&(t=0),new vt((function(i){void 0===e&&(e=t,t=0);var n=0,s=t;if(r)return r.schedule(de,0,{index:n,count:e,start:t,subscriber:i});for(;;){if(n++>=e){i.complete();break}if(i.next(s++),i.closed)break}}))}(t.header.level,e-1).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ct(r)?(t.pop(),function(e){return Ae(t,e,r)}):function(e){return Ae(t,e)}}(t),dr((t=>yc(this,void 0,void 0,(function*(){return this.context.readProvider.getBlock("number"==typeof t?t:t.header.level)}))))))))}createHeadObservableFromConfig({blockIdentifier:t}){return yc(this,void 0,void 0,(function*(){const e=[];return t&&e.push(this.createPastBlockWalker(t)),e.push(yield this.createNewHeadObservable()),Ae(...e)}))}createOperation(t,e={}){return yc(this,void 0,void 0,(function*(){return new gh(t,this.context.clone(),yield this.createHeadObservableFromConfig(e))}))}createBatchOperation(t,e={}){return yc(this,void 0,void 0,(function*(){return new mh(t,this.context.clone(),yield this.createHeadObservableFromConfig(e))}))}createTransactionOperation(t,e={}){return yc(this,void 0,void 0,(function*(){return new _h(t,this.context.clone(),yield this.createHeadObservableFromConfig(e))}))}createDelegationOperation(t,e={}){return yc(this,void 0,void 0,(function*(){return new yh(t,this.context.clone(),yield this.createHeadObservableFromConfig(e))}))}createOriginationOperation(t,e={}){return yc(this,void 0,void 0,(function*(){return new vh(t,this.context.clone(),yield this.createHeadObservableFromConfig(e))}))}}class Eh extends fh{constructor(t){super(t)}getBalance(t){return yc(this,void 0,void 0,(function*(){if(G(t)!==C.VALID)throw new T(t);return this.context.readProvider.getBalance(t,"head")}))}getDelegate(t){return yc(this,void 0,void 0,(function*(){if(G(t)!==C.VALID)throw new T(t);return this.context.readProvider.getDelegate(t,"head")}))}activate(t,e){return yc(this,void 0,void 0,(function*(){if(z(t)!==C.VALID)throw new x(t);const r={kind:ut.ACTIVATION,pkh:t,secret:e},i=yield this.prepareOperation({operation:[r],source:t}),n=yield this.forge(i),s=`${n.opbytes}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`;return new hh(yield this.rpc.injectOperation(s),Object.assign(Object.assign({},n),{opbytes:s}),[],this.context.clone())}))}}const Ah=100;class Sh{constructor(t,e,r,i,n=100){this._milligasLimit=t,this._storageLimit=e,this.opSize=r,this.minimalFeePerStorageByteMutez=i,this.baseFeeMutez=n}get burnFeeMutez(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))}get storageLimit(){const t=Math.max(Number(this._storageLimit),0);return t>0?t:0}get gasLimit(){return this.roundUp(Number(this._milligasLimit)/1e3+100)}get operationFeeMutez(){return.1*(Number(this._milligasLimit)/1e3+100)+1*Number(this.opSize)}roundUp(t){return Math.ceil(Number(t))}get minimalFeeMutez(){return this.roundUp(Ah+this.operationFeeMutez)}get suggestedFeeMutez(){return this.roundUp(this.operationFeeMutez+200)}get usingBaseFeeMutez(){return Math.max(Number(this.baseFeeMutez),Ah)+this.roundUp(this.operationFeeMutez)}get totalCost(){return this.minimalFeeMutez+this.burnFeeMutez}get consumedMilligas(){return Number(this._milligasLimit)}static createEstimateInstanceFromProperties(t){let e,r=0,i=0,n=0,s=0;return t.forEach((t=>{r+=t.milligasLimit,i+=t.storageLimit,n+=t.opSize,s=Math.max(t.minimalFeePerStorageByteMutez,s),t.baseFeeMutez&&(e=e?e+t.baseFeeMutez:t.baseFeeMutez)})),new Sh(r,i,n,s,e)}static createArrayEstimateInstancesFromProperties(t){return t.map((t=>new Sh(t.milligasLimit,t.storageLimit,t.opSize,t.minimalFeePerStorageByteMutez,t.baseFeeMutez)))}}class Th extends Error{constructor(){super("Unable to estimate the reveal operation, the public key is unknown"),this.name="Reveal Estimate Error"}}const Oh=(t,e)=>({fee:void 0===t.fee?e.fee:t.fee,gasLimit:void 0===t.gasLimit?e.gasLimit:t.gasLimit,storageLimit:void 0===t.storageLimit?e.storageLimit:t.storageLimit});class xh extends fh{constructor(){super(...arguments),this.ALLOCATION_STORAGE=257,this.ORIGINATION_STORAGE=257,this.OP_SIZE_REVEAL=128}getKeys(){return yc(this,void 0,void 0,(function*(){const t=this.context.isAnySignerConfigured();return{publicKeyHash:t?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:t?yield this.signer.publicKey():void 0}}))}getAccountLimits(t,e,r){return yc(this,void 0,void 0,(function*(){const i=yield this.context.readProvider.getBalance(t,"head"),{hard_gas_limit_per_operation:n,hard_gas_limit_per_block:s,hard_storage_limit_per_operation:o,cost_per_byte:a}=e;return{fee:0,gasLimit:r?Math.floor(this.ajustGasForBatchOperation(s,n,r).toNumber()):n.toNumber(),storageLimit:Math.floor(d.Z.min(i.dividedBy(a),o).toNumber())}}))}ajustGasForBatchOperation(t,e,r){return d.Z.min(e,t.div(r+1))}getEstimationPropertiesFromOperationContent(t,e,r,i){const n=ih({contents:[t]});let s=0,o=0,a=0;return n.forEach((t=>{a+="originated_contracts"in t&&void 0!==t.originated_contracts?t.originated_contracts.length*this.ORIGINATION_STORAGE:0,a+="allocated_destination_contract"in t?this.ALLOCATION_STORAGE:0,s+=Number(t.consumed_gas)||0,o+=Number(t.consumed_milligas)||0,a+="paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0,a+="storage_size"in t&&"global_address"in t&&Number(t.storage_size)||0,a+="originated_rollup"in t?i:0})),0!==s&&0===o&&(o=1e3*s),Wc(t)?{milligasLimit:o||0,storageLimit:Number(a||0),opSize:e,minimalFeePerStorageByteMutez:r.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:e,minimalFeePerStorageByteMutez:r.toNumber(),baseFeeMutez:0}}prepareEstimate(t,e,r){return yc(this,void 0,void 0,(function*(){const i=yield this.prepareOperation(t,r),{opbytes:n,opOb:{branch:s,contents:o}}=yield this.forge(i),a={operation:{branch:s,contents:o,signature:"edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg"},chain_id:yield this.context.readProvider.getChainId()},{opResponse:c}=yield this.simulate(a),{cost_per_byte:h,tx_rollup_origination_size:u}=e,f=[...nh(c,"backtracked"),...nh(c)];if(f.length)throw new eh(f,"Error occurred during estimation");let d=1;return Array.isArray(t.operation)&&t.operation.length>1&&(d="reveal"===c.contents[0].kind?t.operation.length-1:t.operation.length),c.contents.map((t=>this.getEstimationPropertiesFromOperationContent(t,"reveal"===t.kind?this.OP_SIZE_REVEAL/2:n.length/2/d,h,null!=u?u:0)))}))}originate(t){var{fee:e,storageLimit:r,gasLimit:i}=t,n=mc(t,["fee","storageLimit","gasLimit"]);return yc(this,void 0,void 0,(function*(){const{publicKeyHash:t}=yield this.getKeys(),s=yield this.context.readProvider.getProtocolConstants("head"),o=yield this.getAccountLimits(t,s),a=yield Hc(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:r,gasLimit:i},o)))),c=yield this.isRevealOpNeeded([a],t),h=c?yield this.addRevealOp([a],t):a,u=yield this.prepareEstimate({operation:h,source:t},s,t);return c&&u.shift(),Sh.createEstimateInstanceFromProperties(u)}))}transfer(t){var{fee:e,storageLimit:r,gasLimit:i}=t,n=mc(t,["fee","storageLimit","gasLimit"]);return yc(this,void 0,void 0,(function*(){if(G(n.to)!==C.VALID)throw new T(n.to);if(n.source&&G(n.source)!==C.VALID)throw new T(n.source);const t=(yield this.getKeys()).publicKeyHash,s=yield this.context.readProvider.getProtocolConstants("head"),o=yield this.getAccountLimits(t,s),a=yield Kc(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:r,gasLimit:i},o))),c=yield this.isRevealOpNeeded([a],t),h=c?yield this.addRevealOp([a],t):a,u=yield this.prepareEstimate({operation:h,source:t},s,t);return c&&u.shift(),Sh.createEstimateInstanceFromProperties(u)}))}setDelegate(t){var{fee:e,gasLimit:r,storageLimit:i}=t,n=mc(t,["fee","gasLimit","storageLimit"]);return yc(this,void 0,void 0,(function*(){if(n.source&&G(n.source)!==C.VALID)throw new T(n.source);if(n.delegate&&G(n.delegate)!==C.VALID)throw new T(n.delegate);const t=(yield this.getKeys()).publicKeyHash,s=n.source||t,o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getAccountLimits(s,o),c=yield $c(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:i,gasLimit:r},a))),h=yield this.isRevealOpNeeded([c],t),u=h?yield this.addRevealOp([c],t):c,f=yield this.prepareEstimate({operation:u,source:t},o,t);return h&&f.shift(),Sh.createEstimateInstanceFromProperties(f)}))}batch(t){return yc(this,void 0,void 0,(function*(){const{publicKeyHash:e}=yield this.getKeys();let r=[];const i=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.getAccountLimits(e,i,t.length);for(const o of t)switch(o.kind){case ut.TRANSACTION:r.push(yield Kc(Object.assign(Object.assign({},o),Oh(o,n))));break;case ut.ORIGINATION:r.push(yield Hc(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},o),Oh(o,n)))));break;case ut.DELEGATION:r.push(yield $c(Object.assign(Object.assign({},o),Oh(o,n))));break;case ut.ACTIVATION:r.push(Object.assign(Object.assign({},o),n));break;case ut.REGISTER_GLOBAL_CONSTANT:r.push(yield Vc(Object.assign(Object.assign({},o),Oh(o,n))));break;case ut.TX_ROLLUP_ORIGINATION:r.push(yield zc(Object.assign(Object.assign({},o),Oh(o,n))));break;case ut.TX_ROLLUP_SUBMIT_BATCH:r.push(yield qc(Object.assign(Object.assign({},o),Oh(o,n))));break;default:throw new L(t.kind)}r=(yield this.isRevealOpNeeded(r,e))?yield this.addRevealOp(r,e):r;const s=yield this.prepareEstimate({operation:r,source:e},i,e);return Sh.createArrayEstimateInstancesFromProperties(s)}))}registerDelegate(t){return yc(this,void 0,void 0,(function*(){const e=(yield this.getKeys()).publicKeyHash,r=yield this.context.readProvider.getProtocolConstants("head"),i=yield this.getAccountLimits(e,r),n=yield Gc(Object.assign(Object.assign({},t),i),e),s=yield this.isRevealOpNeeded([n],e),o=s?yield this.addRevealOp([n],e):n,a=yield this.prepareEstimate({operation:o,source:e},r,e);return s&&a.shift(),Sh.createEstimateInstanceFromProperties(a)}))}reveal(t){return yc(this,void 0,void 0,(function*(){const{publicKeyHash:e,publicKey:r}=yield this.getKeys();if(!r)throw new Th;if(yield this.isAccountRevealRequired(e)){const i=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.getAccountLimits(e,i),s=yield Fc(Object.assign(Object.assign({},t),n),e,r),o=yield this.prepareEstimate({operation:s,source:e},i,e);return Sh.createEstimateInstanceFromProperties(o)}}))}registerGlobalConstant(t){var{fee:e,storageLimit:r,gasLimit:i}=t,n=mc(t,["fee","storageLimit","gasLimit"]);return yc(this,void 0,void 0,(function*(){const t=(yield this.getKeys()).publicKeyHash,s=yield this.context.readProvider.getProtocolConstants("head"),o=yield this.getAccountLimits(t,s),a=yield Vc(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:r,gasLimit:i},o))),c=yield this.isRevealOpNeeded([a],t),h=c?yield this.addRevealOp([a],t):a,u=yield this.prepareEstimate({operation:h,source:t},s,t);return c&&u.shift(),Sh.createEstimateInstanceFromProperties(u)}))}txRollupOriginate(t){return yc(this,void 0,void 0,(function*(){t=t||{};const{fee:e,storageLimit:r,gasLimit:i}=t,n=mc(t,["fee","storageLimit","gasLimit"]),s=(yield this.getKeys()).publicKeyHash,o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getAccountLimits(s,o),c=yield zc(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:r,gasLimit:i},a))),h=yield this.isRevealOpNeeded([c],s),u=h?yield this.addRevealOp([c],s):c,f=yield this.prepareEstimate({operation:u,source:s},o,s);return h&&f.shift(),Sh.createEstimateInstanceFromProperties(f)}))}txRollupSubmitBatch(t){return yc(this,void 0,void 0,(function*(){const{fee:e,storageLimit:r,gasLimit:i}=t,n=mc(t,["fee","storageLimit","gasLimit"]),s=(yield this.getKeys()).publicKeyHash,o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getAccountLimits(s,o),c=yield qc(Object.assign(Object.assign({},n),Oh({fee:e,storageLimit:r,gasLimit:i},a))),h=yield this.isRevealOpNeeded([c],s),u=h?yield this.addRevealOp([c],s):c,f=yield this.prepareEstimate({operation:u,source:s},o,s);return h&&f.shift(),Sh.createEstimateInstanceFromProperties(f)}))}addRevealOp(t,e){return yc(this,void 0,void 0,(function*(){const{publicKey:r}=yield this.getKeys();if(!r)throw new Th;return t.unshift(yield Fc(Object.assign({fee:Sc.REVEAL,gasLimit:Ac.REVEAL,storageLimit:Tc.REVEAL}),e,yield this.signer.publicKey())),t}))}}class Ih extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"delegation"===t.kind)),e=t&&t.metadata&&t.metadata.operation_result;return e||void 0}get status(){const t=this.operationResults;return t?t.status:"unknown"}get delegate(){return this.delegate}get isRegisterOperation(){return this.delegate===this.source}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get consumedGas(){const t=this.operationResults&&this.operationResults.consumed_gas;return t||void 0}get errors(){return this.operationResults&&this.operationResults.errors}}class Rh extends hh{constructor(t,e,r,i,n,s){super(t,r,i,n),this.params=e,this.contractProvider=s;const o=this.operationResults&&this.operationResults.originated_contracts;Array.isArray(o)&&(this.contractAddress=o[0])}get status(){const t=this.operationResults;return t?t.status:"unknown"}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"origination"===t.kind)),e=t&&th(t)&&t.metadata.operation_result;return e||void 0}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get consumedGas(){const t=this.operationResults&&this.operationResults.consumed_gas;return t||void 0}get storageDiff(){const t=this.operationResults&&this.operationResults.paid_storage_size_diff;return t||void 0}get storageSize(){const t=this.operationResults&&this.operationResults.storage_size;return t||void 0}get errors(){return this.operationResults&&this.operationResults.errors}contract(t,e){return yc(this,void 0,void 0,(function*(){if(!this.contractAddress)throw new sh("No contract was originated in this operation");return yield this.confirmation(t,e),this.contractProvider.at(this.contractAddress)}))}}class Ph extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r,this.globalConstantHash=this.operationResults&&this.operationResults.global_address}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"register_global_constant"===t.kind)),e=t&&t.metadata&&t.metadata.operation_result;return e||void 0}get status(){const t=this.operationResults;return t?t.status:"unknown"}get registeredExpression(){return this.params.value}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get errors(){return this.operationResults&&this.operationResults.errors}}class Lh extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"reveal"===t.kind));return t?[t]:[]}get status(){const t=this.operationResults[0];return t?t.metadata.operation_result.status:"unknown"}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get publicKey(){return this.params.public_key}sumProp(t,e){return t.reduce(((t,r)=>e in r?Number(r[e])+t:t),0)}get consumedGas(){return String(this.sumProp(ih({contents:this.operationResults}),"consumed_gas"))}get storageDiff(){return String(this.sumProp(ih({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(ih({contents:this.operationResults}),"storage_size"))}get errors(){return nh({contents:this.operationResults})}}class Mh extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"transaction"===t.kind));return t?[t]:[]}get status(){const t=this.operationResults[0];return t?t.metadata.operation_result.status:"unknown"}get amount(){return new d.Z(this.params.amount)}get destination(){return this.params.destination}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}sumProp(t,e){return t.reduce(((t,r)=>e in r?Number(r[e])+t:t),0)}get consumedGas(){return String(this.sumProp(ih({contents:this.operationResults}),"consumed_gas"))}get storageDiff(){return String(this.sumProp(ih({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(ih({contents:this.operationResults}),"storage_size"))}get errors(){return nh({contents:this.operationResults})}}class kh{constructor(t,e,r,i,n,s=!0,o=!1){this.provider=t,this.address=e,this.parameterSchema=r,this.name=i,this.args=n,this.isMultipleEntrypoint=s,this.isAnonymous=o}validateArgs(t,e,r){const i=e.ExtractSignatures();if(!i.find((e=>e.length===t.length)))throw new Pc(r,i,t)}get schema(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}getSignature(){if(!this.isAnonymous){const t=this.parameterSchema.ExtractSignatures();return 1==t.length?t[0]:t}{const t=this.parameterSchema.ExtractSignatures().find((t=>t[0]===this.name));if(t)return t.shift(),t}}send(t={}){return this.provider instanceof Ch?this.provider.transfer(this.toTransferParams(t)).send():this.provider.transfer(this.toTransferParams(t))}toTransferParams({fee:t,gasLimit:e,storageLimit:r,source:i,amount:n=0,mutez:s=!1}={}){return{to:this.address,amount:n,fee:t,mutez:s,source:i,gasLimit:e,storageLimit:r,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:Hh,value:this.isAnonymous?this.parameterSchema.Encode(this.name,...this.args):this.parameterSchema.Encode(...this.args)}}}}class Nh{constructor(t,e){this.walletProvider=t,this.context=e,this.operations=[]}withTransfer(t){if(G(t.to)!==C.VALID)throw new T(t.to);return this.operations.push(Object.assign({kind:ut.TRANSACTION},t)),this}withContractCall(t){return this.withTransfer(t.toTransferParams())}withDelegation(t){if(t.delegate&&G(t.delegate)!==C.VALID)throw new T(t.delegate);return this.operations.push(Object.assign({kind:ut.DELEGATION},t)),this}withOrigination(t){return this.operations.push(Object.assign({kind:ut.ORIGINATION},t)),this}mapOperation(t){return yc(this,void 0,void 0,(function*(){switch(t.kind){case ut.TRANSACTION:return this.walletProvider.mapTransferParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return t}))));case ut.ORIGINATION:return this.walletProvider.mapOriginateParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return this.context.parser.prepareCodeOrigination(Object.assign({},t))}))));case ut.DELEGATION:return this.walletProvider.mapDelegateParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return t}))));default:throw new L(t.kind)}}))}with(t){for(const e of t)switch(e.kind){case ut.TRANSACTION:this.withTransfer(e);break;case ut.ORIGINATION:this.withOrigination(e);break;case ut.DELEGATION:this.withDelegation(e);break;default:throw new L(e.kind)}return this}send(){return yc(this,void 0,void 0,(function*(){const t=[];for(const r of this.operations)t.push(yield this.mapOperation(r));const e=yield this.walletProvider.sendOperations(t);return this.context.operationFactory.createBatchOperation(e)}))}}class Ch{constructor(t){this.context=t,this.walletCommand=t=>({send:t})}get walletProvider(){return this.context.walletProvider}pkh({forceRefetch:t}={}){return yc(this,void 0,void 0,(function*(){return this._pkh&&!t||(this._pkh=yield this.walletProvider.getPKH()),this._pkh}))}originate(t){return this.walletCommand((()=>yc(this,void 0,void 0,(function*(){const e=yield this.walletProvider.mapOriginateParamsToWalletParams((()=>this.context.parser.prepareCodeOrigination(Object.assign({},t)))),r=yield this.walletProvider.sendOperations([e]);return this.context.operationFactory.createOriginationOperation(r)}))))}setDelegate(t){if(t.delegate&&G(t.delegate)!==C.VALID)throw new T(t.delegate);return this.walletCommand((()=>yc(this,void 0,void 0,(function*(){const e=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return t})))),r=yield this.walletProvider.sendOperations([e]);return this.context.operationFactory.createDelegationOperation(r)}))))}registerDelegate(){return this.walletCommand((()=>yc(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return{delegate:yield this.pkh()}})))),e=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createDelegationOperation(e)}))))}transfer(t){if(G(t.to)!==C.VALID)throw new T(t.to);return this.walletCommand((()=>yc(this,void 0,void 0,(function*(){const e=yield this.walletProvider.mapTransferParamsToWalletParams((()=>yc(this,void 0,void 0,(function*(){return t})))),r=yield this.walletProvider.sendOperations([e]);return this.context.operationFactory.createTransactionOperation(r)}))))}batch(t){const e=new Nh(this.walletProvider,this.context);return Array.isArray(t)&&e.with(t),e}at(t,e=(t=>t)){return yc(this,void 0,void 0,(function*(){if(V(t)!==C.VALID)throw new S(t);const r=this.context.withExtensions().rpc,i=this.context.withExtensions().readProvider,n=yield i.getScript(t,"head"),s=yield i.getEntrypoints(t),o=new $h(t,n,this,this.context.contract,s,r,i);return e(o,this.context)}))}}class Uh{constructor(t){this.context=t}getPKH(){return yc(this,void 0,void 0,(function*(){return this.context.signer.publicKeyHash()}))}mapTransferParamsToWalletParams(t){return yc(this,void 0,void 0,(function*(){return Zc(yield t(),ut.TRANSACTION)}))}mapOriginateParamsToWalletParams(t){return yc(this,void 0,void 0,(function*(){return Zc(yield t(),ut.ORIGINATION)}))}mapDelegateParamsToWalletParams(t){return yc(this,void 0,void 0,(function*(){return Zc(yield t(),ut.DELEGATION)}))}sendOperations(t){return yc(this,void 0,void 0,(function*(){return(yield this.context.batch.batch(t).send()).hash}))}}class Bh{constructor(t,e,r,i,n="unit",s=!0,o=!1){this.provider=t,this.address=e,this.parameterSchema=r,this.name=i,this.args=n,this.isMultipleEntrypoint=s,this.isAnonymous=o}getSignature(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}send(t={}){return this.provider instanceof Ch?this.provider.transfer(this.toTransferParams(t)).send():this.provider.transfer(this.toTransferParams(t))}toTransferParams({fee:t,gasLimit:e,storageLimit:r,source:i,amount:n=0,mutez:s=!1}={}){return{to:this.address,amount:n,fee:t,mutez:s,source:i,gasLimit:e,storageLimit:r,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:Hh,value:this.isAnonymous?this.parameterSchema.EncodeObject({[this.name]:this.args}):this.parameterSchema.EncodeObject(this.args)}}}}class Dh{constructor(t,e,r,i,n,s="Unit"){this._rpc=t,this._readProvider=e,this._contractAddress=r,this._smartContractViewSchema=i,this._contractStorageType=n,this._args=s}getSignature(){return{parameter:this._smartContractViewSchema.extractArgsSchema(),result:this._smartContractViewSchema.extractResultSchema()}}executeView(t){return yc(this,void 0,void 0,(function*(){this.verifyContextExecution(t);const e=(yield this._readProvider.getBalance(this._contractAddress,"head")).toString(),r=yield this._readProvider.getChainId(),i=yield this._readProvider.getStorage(this._contractAddress,"head");return this.executeViewAndDecodeResult(((t,e,r,i,n,s,o,a,c,h="0")=>({script:[{prim:"parameter",args:[{prim:"pair",args:[t,r]}]},{prim:"storage",args:[{prim:"option",args:[e]}]},{prim:"code",args:[[{prim:"CAR"},i,{prim:"SOME"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}],storage:{prim:"None"},input:{prim:"Pair",args:[n,s]},amount:h,balance:o,chain_id:a,source:c}))(this._smartContractViewSchema.viewArgsType,this._smartContractViewSchema.viewReturnType,this._contractStorageType,this.adaptViewCodeToContext(this._smartContractViewSchema.instructions,t.viewCaller,e),this.transformArgsToMichelson(),i,e,r,t.source))}))}verifyContextExecution(t){if(t.source&&G(t.source)!==C.VALID)throw new Bc(`The source account who initialized the view execution is invalid: ${t.source}.`);if(!t.viewCaller||G(t.viewCaller)!==C.VALID)throw new Bc(`The contract which is the caller of view is invalid: ${t.viewCaller}.`)}transformArgsToMichelson(){try{return this._smartContractViewSchema.encodeViewArgs(this._args)}catch(t){throw new Nc(this._smartContractViewSchema.viewName,this.getSignature(),this._args,t)}}adaptViewCodeToContext(t,e,r){const i={BALANCE:[{prim:"PUSH",args:[{prim:"mutez"},{int:r}]}],SENDER:[{prim:"PUSH",args:[{prim:"address"},{string:e}]}],SELF_ADDRESS:[{prim:"PUSH",args:[{prim:"address"},{string:this._contractAddress}]}],AMOUNT:[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]};return t.forEach(((n,s)=>{n.prim in i&&(t[s]=Object(i)[n.prim]),n.args&&0!==n.args.length?this.adaptViewCodeToContext(n.args,e,r):Array.isArray(n)&&this.adaptViewCodeToContext(n,e,r)})),t}executeViewAndDecodeResult(t){return yc(this,void 0,void 0,(function*(){let e;try{e=(yield this._rpc.runCode(t)).storage}catch(r){const t=(t=>{if(Uc(t.body)){const e=JSON.parse(t.body);if(Array.isArray(e)&&"with"in e[e.length-1])return e[e.length-1].with}})(r);throw t?new Cc(`The simulation of the on-chain view named ${this._smartContractViewSchema.viewName} failed with: ${JSON.stringify(t)}`,this._smartContractViewSchema.viewName,t,r):r}if(!e.args)throw new Cc(`View simulation failed with an invalid result: ${e}`,this._smartContractViewSchema.viewName);return this._smartContractViewSchema.decodeViewResult(e.args[0])}))}}class jh{constructor(t,e){this.provider=t,this.contractAddress=e}createContractMethodFlatParams(t,e,r,i=!0,n=!1){return new kh(this.provider,this.contractAddress,t,e,r,i,n)}createContractMethodObjectParam(t,e,r,i=!0,n=!1){return new Bh(this.provider,this.contractAddress,t,e,r,i,n)}createContractViewObjectParam(t,e,r,i,n){return new Dh(t,e,this.contractAddress,r,i,n)}}const Hh="default";class Kh{constructor(t,e,r,i,n,s,o){this.currentContract=t,this.name=e,this.callbackParametersSchema=r,this.parameterSchema=i,this.args=n,this.rpc=s,this.readProvider=o}read(t){return yc(this,void 0,void 0,(function*(){if(V(null!=t?t:"")==C.VALID)throw new M("Since version 12, the lambda view no longer depends on a lambda contract. The read method no longer accepts a contract address as a parameter.");if(t&&F(t)!==C.VALID)throw new O(t);const e=this.parameterSchema.Encode(...this.args),r=yield this.rpc.runView({contract:this.currentContract.address,entrypoint:this.name,input:e,chain_id:t||(yield this.readProvider.getChainId())});return this.callbackParametersSchema.Execute(r.data)}))}}class $h{constructor(t,e,r,i,n,s,o){this.address=t,this.script=e,this.storageProvider=i,this.entrypoints=n,this.rpc=s,this.readProvider=o,this.methods={},this.methodsObject={},this.views={},this.contractViews={},this.contractMethodFactory=new jh(r,t),this.schema=dn.fromRPCResponse({script:this.script}),this.parameterSchema=ln.fromRPCResponse({script:this.script}),this.viewSchema=pn.fromRPCResponse({script:this.script}),0!==this.viewSchema.length&&this._initializeOnChainViews(this,s,this.readProvider,this.viewSchema),this._initializeMethods(this,this.entrypoints.entrypoints,this.rpc,this.readProvider)}_initializeMethods(t,e,r,i){const n=this.parameterSchema,s=Object.keys(e);if(n.isMultipleEntryPoint){s.forEach((n=>{const s=new ln(e[n]);if(this.methods[n]=function(...e){return t.contractMethodFactory.createContractMethodFlatParams(s,n,e)},this.methodsObject[n]=function(e){return t.contractMethodFactory.createContractMethodObjectParam(s,n,e)},(t=>{let e=!1;if("prim"in t&&"pair"===t.prim&&t.args){const r=t.args[t.args.length-1];"prim"in r&&"contract"===r.prim&&(e=!0)}return e})(e[n])){const s=function(...s){const o=e[n].args[0],a=new ln(o),c=e[n].args[1].args[0],h=new ln(c);return((t,e,r)=>{const i=e.ExtractSignatures();if(!i.find((e=>e.length===t.length)))throw new Pc(r,i,t)})(s,a,n),new Kh(t,n,h,a,s,r,i)};this.views[n]=s}}));Object.keys(n.ExtractSchema()).filter((t=>-1===Object.keys(e).indexOf(t))).forEach((e=>{this.methods[e]=function(...r){return t.contractMethodFactory.createContractMethodFlatParams(n,e,r,!1,!0)},this.methodsObject[e]=function(r){return t.contractMethodFactory.createContractMethodObjectParam(n,e,r,!1,!0)}}))}else{const e=this.parameterSchema;this.methods[Hh]=function(...r){return t.contractMethodFactory.createContractMethodFlatParams(e,Hh,r,!1)},this.methodsObject[Hh]=function(r){return t.contractMethodFactory.createContractMethodObjectParam(e,Hh,r,!1)}}}_initializeOnChainViews(t,e,r,i){const n=this.schema.val;i.forEach((i=>{this.contractViews[i.viewName]=function(s){return t.contractMethodFactory.createContractViewObjectParam(e,r,i,n,s)}}))}storage(){return this.storageProvider.getStorage(this.address,this.schema)}bigMap(t){return this.storageProvider.getBigMapKey(this.address,t,this.schema)}}class Gh{constructor(t,e,r){this.id=t,this.schema=e,this.provider=r}get(t,e){return yc(this,void 0,void 0,(function*(){try{return yield this.provider.getBigMapKeyByID(this.id.toString(),t,this.schema,e)}catch(r){if(r instanceof c&&r.status===i.NOT_FOUND)return;throw r}}))}getMultipleValues(t,e,r=5){return yc(this,void 0,void 0,(function*(){return this.provider.getBigMapKeysByID(this.id.toString(),t,this.schema,e,r)}))}toJSON(){return this.id.toString()}toString(){return this.id.toString()}}class Fh{constructor(t,e){this.id=t,this.provider=e}getSaplingDiff(t){return yc(this,void 0,void 0,(function*(){return this.provider.getSaplingDiffByID(this.id.toString(),t)}))}getId(){return this.id.toString()}}const Vh=t=>({big_map:(e,r)=>{if(e&&"int"in e&&void 0!==e.int){const i=new dn(r);return new Gh(new d.Z(e.int),i,t)}return{}},sapling_state:e=>e&&"int"in e&&void 0!==e.int?new Fh(new d.Z(e.int),t):{}});class zh extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r,this.originatedRollup=this.operationResults&&this.operationResults.originated_rollup}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"tx_rollup_origination"===t.kind)),e=t&&t.metadata&&t.metadata.operation_result;return e||void 0}get status(){const t=this.operationResults;return t?t.status:"unknown"}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get errors(){return this.operationResults&&this.operationResults.errors}}class qh extends hh{constructor(t,e,r,i,n,s){super(t,i,n,s),this.params=e,this.source=r}get operationResults(){const t=Array.isArray(this.results)&&this.results.find((t=>"tx_rollup_submit_batch"===t.kind)),e=t&&t.metadata&&t.metadata.operation_result;return e||void 0}get status(){const t=this.operationResults;return t?t.status:"unknown"}get content(){return this.params.content}get fee(){return this.params.fee}get gasLimit(){return this.params.gas_limit}get storageLimit(){return this.params.storage_limit}get errors(){return this.operationResults&&this.operationResults.errors}}class Zh extends fh{constructor(t,e){super(t),this.estimator=e,this.contractProviderTypeSymbol=Symbol.for("taquito--provider-type-symbol")}getStorage(t,e){return yc(this,void 0,void 0,(function*(){if(V(t)!==C.VALID)throw new S(t);const r=yield this.context.readProvider.getScript(t,"head");let i;return e||(e=r),i=dn.isSchema(e)?e:dn.fromRPCResponse({script:e}),i.Execute(r.storage,Vh(this))}))}getBigMapKey(t,e,r){return yc(this,void 0,void 0,(function*(){if(V(t)!==C.VALID)throw new S(t);let i;r||(r=(yield this.rpc.getContract(t)).script),i=dn.isSchema(r)?r:dn.fromRPCResponse({script:r});const n=i.EncodeBigMapKey(e),s=yield this.rpc.getBigMapKey(t,n);return i.ExecuteOnBigMapValue(s)}))}getBigMapKeyByID(t,e,r,i){return yc(this,void 0,void 0,(function*(){const{key:n,type:s}=r.EncodeBigMapKey(e),{packed:o}=yield this.context.packer.packData({data:n,type:s}),a=(c=o,Y(b().blake2b(et(c),void 0,32),y.expr));var c;const h=i?yield this.context.readProvider.getBigMapValue({id:t.toString(),expr:a},i):yield this.context.readProvider.getBigMapValue({id:t.toString(),expr:a},"head");return r.ExecuteOnBigMapValue(h,Vh(this))}))}getBigMapKeysByID(t,e,r,i,n=5){return yc(this,void 0,void 0,(function*(){const s=yield this.getBlockForRequest(e,i),o=new kr;let a=0,c=[];for(;a<e.length;){const i=e.slice(a,a+n).map((e=>this.getBigMapValueOrUndefined(e,t,r,s)));c=[...c,...yield Promise.all(i)],a+=n}for(let t=0;t<c.length;t++)o.set(e[t],c[t]);return o}))}getBlockForRequest(t,e){return yc(this,void 0,void 0,(function*(){return 1===t.length||void 0!==e?e:yield this.context.readProvider.getBlockLevel("head")}))}getBigMapValueOrUndefined(t,e,r,n){return yc(this,void 0,void 0,(function*(){try{return yield this.getBigMapKeyByID(e,t,r,n)}catch(s){if(s instanceof c&&s.status===i.NOT_FOUND)return;throw s}}))}getSaplingDiffByID(t,e){return yc(this,void 0,void 0,(function*(){return e?yield this.context.readProvider.getSaplingDiffById({id:t.toString()},e):yield this.context.readProvider.getSaplingDiffById({id:t.toString()},"head")}))}addRevealOperationIfNeeded(t,e){return yc(this,void 0,void 0,(function*(){if(Jc(t)){const r=[t],i=yield this.signer.publicKey(),n=yield this.estimator.reveal();if(n){const t={kind:ut.REVEAL},s=yield this.estimate(t,(()=>yc(this,void 0,void 0,(function*(){return n}))));return r.unshift(yield Fc(Object.assign({},s),e,i)),r}}return t}))}originate(t){return yc(this,void 0,void 0,(function*(){const e=yield this.estimate(t,this.estimator.originate.bind(this.estimator)),r=yield this.signer.publicKeyHash(),i=yield Hc(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},t),e))),n=yield this.addRevealOperationIfNeeded(i,r),s=yield this.prepareOperation({operation:n,source:r}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new Rh(a,i,h,u,c,this)}))}setDelegate(t){return yc(this,void 0,void 0,(function*(){if(t.source&&G(t.source)!==C.VALID)throw new T(t.source);if(t.delegate&&G(t.delegate)!==C.VALID)throw new T(t.delegate);if(/kt1/i.test(t.source))throw new Lc(t.source);const e=yield this.estimate(t,this.estimator.setDelegate.bind(this.estimator)),r=yield this.signer.publicKeyHash(),i=yield $c(Object.assign(Object.assign({},t),e)),n=t.source||r,s=yield this.addRevealOperationIfNeeded(i,r),o=yield this.prepareOperation({operation:s,source:n}),a=yield this.forge(o),{hash:c,context:h,forgedBytes:u,opResponse:f}=yield this.signAndInject(a);return new Ih(c,i,n,u,f,h)}))}registerDelegate(t){return yc(this,void 0,void 0,(function*(){const e=yield this.estimate(t,this.estimator.registerDelegate.bind(this.estimator)),r=yield this.signer.publicKeyHash(),i=yield Gc(Object.assign(Object.assign({},t),e),r),n=yield this.addRevealOperationIfNeeded(i,r),s=yield this.prepareOperation({operation:n}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new Ih(a,i,r,h,u,c)}))}transfer(t){return yc(this,void 0,void 0,(function*(){if(G(t.to)!==C.VALID)throw new T(t.to);if(t.source&&G(t.source)!==C.VALID)throw new T(t.source);const e=yield this.signer.publicKeyHash(),r=yield this.estimate(t,this.estimator.transfer.bind(this.estimator)),i=yield Kc(Object.assign(Object.assign({},t),r)),n=t.source||e,s=yield this.addRevealOperationIfNeeded(i,e),o=yield this.prepareOperation({operation:s,source:t.source}),a=yield this.forge(o),{hash:c,context:h,forgedBytes:u,opResponse:f}=yield this.signAndInject(a);return new Mh(c,i,n,u,f,h)}))}reveal(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.publicKeyHash(),r=yield this.estimator.reveal(t);if(r){const i=yield this.estimate(t,(()=>yc(this,void 0,void 0,(function*(){return r})))),n=yield Fc(Object.assign({},i),e,yield this.signer.publicKey()),s=yield this.prepareOperation({operation:n,source:e}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new Lh(a,n,e,h,u,c)}throw new Dc(`The publicKeyHash '${e}' has already been revealed.`)}))}registerGlobalConstant(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.publicKeyHash(),r=yield this.estimate(t,this.estimator.registerGlobalConstant.bind(this.estimator)),i=yield Vc(Object.assign(Object.assign({},t),r)),n=yield this.addRevealOperationIfNeeded(i,e),s=yield this.prepareOperation({operation:n,source:e}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new Ph(a,i,e,h,u,c)}))}txRollupOriginate(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.publicKeyHash(),r=yield this.estimate(t||{},this.estimator.txRollupOriginate.bind(this.estimator)),i=yield zc(Object.assign(Object.assign({},t),r)),n=yield this.addRevealOperationIfNeeded(i,e),s=yield this.prepareOperation({operation:n,source:e}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new zh(a,i,e,h,u,c)}))}txRollupSubmitBatch(t){return yc(this,void 0,void 0,(function*(){const e=yield this.signer.publicKeyHash(),r=yield this.estimate(t,this.estimator.txRollupSubmitBatch.bind(this.estimator)),i=yield qc(Object.assign(Object.assign({},t),r)),n=yield this.addRevealOperationIfNeeded(i,e),s=yield this.prepareOperation({operation:n,source:e}),o=yield this.forge(s),{hash:a,context:c,forgedBytes:h,opResponse:u}=yield this.signAndInject(o);return new qh(a,i,e,h,u,c)}))}at(t,e=(t=>t)){return yc(this,void 0,void 0,(function*(){if(V(t)!==C.VALID)throw new S(t);const r=this.context.withExtensions().rpc,i=this.context.withExtensions().readProvider,n=yield i.getScript(t,"head"),s=yield i.getEntrypoints(t),o=new $h(t,n,this,this,s,r,i);return e(o,this.context)}))}batch(t){const e=new lh(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e}}class Xh{constructor(t){this.context=t}getNextProto(){return yc(this,void 0,void 0,(function*(){if(!this.context.proto){const t=yield this.context.readProvider.getNextProtocol("head");this.context.proto=t}return this.context.proto}))}parseScript(t){return yc(this,void 0,void 0,(function*(){return new Jn({protocol:yield this.getNextProto()}).parseScript(t)}))}parseMichelineExpression(t){return yc(this,void 0,void 0,(function*(){return new Jn({protocol:yield this.getNextProto()}).parseMichelineExpression(t)}))}parseJSON(t){return yc(this,void 0,void 0,(function*(){return new Jn({protocol:yield this.getNextProto()}).parseJSON(t)}))}prepareCodeOrigination(t){return yc(this,void 0,void 0,(function*(){const e=t;if(e.code=yield this.formatCodeParam(t.code),t.init)e.init=yield this.formatInitParam(t.init);else if(t.storage){const r=e.code.find((t=>"prim"in t&&"storage"===t.prim));if(!(null==r?void 0:r.args))throw new Mc("The storage section is missing from the script",t.code);const i=new dn(r.args[0]),n=yield this.findGlobalConstantsHashAndValue(i);if(0!==Object.keys(n).length){const i=new Jn({expandGlobalConstant:n}).parseJSON(r.args[0]),s=new dn(i);e.init=s.Encode(t.storage)}else e.init=i.Encode(t.storage);delete e.storage}return e}))}formatCodeParam(t){return yc(this,void 0,void 0,(function*(){let e;if("string"==typeof t){const r=yield this.parseScript(t);if(null===r)throw new Mc("Invalid code parameter",t);e=r}else{const r=yield this.parseJSON(t),i=["parameter","storage","code"];e=r.sort(((t,e)=>i.indexOf(t.prim)-i.indexOf(e.prim)))}return e}))}formatInitParam(t){return yc(this,void 0,void 0,(function*(){let e;if("string"==typeof t){const r=yield this.parseMichelineExpression(t);if(null===r)throw new kc("Invalid init parameter",t);e=r}else e=yield this.parseJSON(t);return e}))}findGlobalConstantsHashAndValue(t){return yc(this,void 0,void 0,(function*(){const e=t.findToken("constant"),r={};if(0!==e.length)for(const t of e){const e=t.tokenVal.args;if(e){const t=e[0];if(t.string){const e=t.string,i=yield this.context.globalConstantsProvider.getGlobalConstantByHash(e);Object.assign(r,{[e]:i})}}}return r}))}}class Yh{constructor(t){this.context=t}packData(t){return yc(this,void 0,void 0,(function*(){return this.context.rpc.packData(t)}))}}class Wh extends Error{constructor(t){super(`Please load the value associated with the constant ${t} using the loadGlobalConstant method of the DefaultGlobalConstantsProvider.`),this.hash=t,this.name="GlobalConstantNotFound"}}class Jh extends Error{constructor(){super("No global constants provider has been configured. Please configure one by calling setGlobalConstantsProvider({globalConstantsProvider}) on your TezosToolkit instance."),this.name="UnconfiguredGlobalConstantsProviderError"}}class Qh{getGlobalConstantByHash(t){return yc(this,void 0,void 0,(function*(){throw new Jh}))}}class tu{constructor(t){this.context=t}getBalance(t,e){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getBalance(t,{block:String(e)})}))}getDelegate(t,e){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getDelegate(t,{block:String(e)})}))}getNextProtocol(t){return yc(this,void 0,void 0,(function*(){return(yield this.context.rpc.getProtocols({block:String(t)})).next_protocol}))}getProtocolConstants(t){return yc(this,void 0,void 0,(function*(){const{time_between_blocks:e,minimal_block_delay:r,hard_gas_limit_per_operation:i,hard_gas_limit_per_block:n,hard_storage_limit_per_operation:s,cost_per_byte:o,tx_rollup_origination_size:a}=yield this.context.rpc.getConstants({block:String(t)});return{time_between_blocks:e,minimal_block_delay:r,hard_gas_limit_per_operation:i,hard_gas_limit_per_block:n,hard_storage_limit_per_operation:s,cost_per_byte:o,tx_rollup_origination_size:a}}))}getScript(t,e){return yc(this,void 0,void 0,(function*(){const{script:r}=yield this.context.rpc.getContract(t,{block:String(e)});return r}))}getStorage(t,e){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getStorage(t,{block:String(e)})}))}getBlockHash(t){return yc(this,void 0,void 0,(function*(){const{hash:e}=yield this.context.rpc.getBlockHeader({block:String(t)});return e}))}getBlockLevel(t){return yc(this,void 0,void 0,(function*(){const{level:e}=yield this.context.rpc.getBlockHeader({block:String(t)});return e}))}getCounter(t,e){return yc(this,void 0,void 0,(function*(){const{counter:r}=yield this.context.rpc.getContract(t,{block:String(e)});return r||"0"}))}getBlockTimestamp(t){return yc(this,void 0,void 0,(function*(){const{timestamp:e}=yield this.context.rpc.getBlockHeader({block:String(t)});return e}))}getBigMapValue(t,e){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getBigMapExpr(t.id,t.expr,{block:String(e)})}))}getSaplingDiffById(t,e){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getSaplingDiffById(t.id,{block:String(e)})}))}getEntrypoints(t){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getEntrypoints(t)}))}getChainId(){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getChainId()}))}isAccountRevealed(t,e){return yc(this,void 0,void 0,(function*(){const r=yield this.context.rpc.getManagerKey(t,{block:String(e)});return r&&"object"==typeof r?!!r.key:!!r}))}getBlock(t){return yc(this,void 0,void 0,(function*(){return this.context.rpc.getBlock({block:String(t)})}))}getLiveBlocks(t){return this.context.rpc.getLiveBlocks({block:String(t)})}}const eu=(t,e)=>"opHash"in e?((t,e)=>t.hash===e.opHash)(t,e):"source"in e?((t,e)=>{switch(t.kind){case"endorsement":return"metadata"in t&&t.metadata.delegate===e.source;case"activate_account":return"metadata"in t&&t.pkh===e.source;default:return"source"in t&&t.source===e.source}})(t,e):"kind"in e?((t,e)=>"kind"in t&&t.kind===e.kind)(t,e):"destination"in e&&((t,e)=>{switch(t.kind){case"delegation":return t.delegate===e.destination;case"origination":if("metadata"in t&&"operation_result"in t.metadata&&"originated_contracts"in t.metadata.operation_result&&Array.isArray(t.metadata.operation_result.originated_contracts))return t.metadata.operation_result.originated_contracts.some((t=>t===e.destination));break;case"transaction":return t.destination===e.destination;default:return!1}})(t,e),ru=(t,e)=>{const r=[];return Array.isArray(e)?r.push(...e):r.push(e),r.every((e=>"and"in e||"or"in e?((t,e)=>{if(Array.isArray(e.and))return e.and.every((e=>ru(t,e)));if(Array.isArray(e.or))return e.or.some((e=>ru(t,e)));throw new ch("Filter expression must contain either and/or property")})(t,e):eu(t,e)))};class iu extends Error{constructor(t){super(t),this.message=t,this.name="UnsupportedEventError"}}class nu{constructor(t,e=!1,r=(0,lr.X)()){var i;this.shouldRetry=e,this.operatorFunction=r,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new Ot,t.pipe((i=this.completed$,function(t){return t.lift(new pr(i))}),nr((t=>{this.call(this.messageListeners,t)}),(t=>{this.call(this.errorListeners,t)}),(()=>{this.call(this.closeListeners)})),this.shouldRetry?r:nr(),tr((()=>Te))).subscribe()}call(t,e){for(const i of t)try{i(e)}catch(r){console.error(r)}}remove(t,e){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}on(t,e){switch(t){case"data":this.messageListeners.push(e);break;case"error":this.errorListeners.push(e);break;case"close":this.closeListeners.push(e);break;default:throw new iu(`Trying to register on an unsupported event: ${t}`)}}off(t,e){switch(t){case"data":this.remove(this.messageListeners,e);break;case"error":this.remove(this.errorListeners,e);break;case"close":this.remove(this.closeListeners,e);break;default:throw new iu(`Trying to unregister on an unsupported event: ${t}`)}}close(){this.completed$.next()}}const su={shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:(0,lr.X)()};class ou{constructor(t,e={}){var r,i,n;this.context=t,this._config$=new Oe(Object.assign(Object.assign({},su),e)),this.timer$=this._config$.pipe(gr("pollingIntervalMilliseconds"),Le((t=>t?Re(0,t):re(this.getConfirmationPollingInterval()).pipe(Le((t=>Re(0,t))))))),this.newBlock$=this.timer$.pipe(Le((()=>(t=>re(t.rpc.getBlock()).pipe(Qe()))(this.context))),(i="hash",ar((function(t,e){return n?n(t[i],e[i]):t[i]===e[i]}))),r?Sr((function(){return new Ot}),r):Sr(new Ot),yr())}get config(){return this._config$.getValue()}getConfirmationPollingInterval(){return yc(this,void 0,void 0,(function*(){if(!this.config.pollingIntervalMilliseconds){const e=5e3,r=1e3;try{const t=yield this.context.readProvider.getProtocolConstants("head"),i=(t.minimal_block_delay?t.minimal_block_delay.multipliedBy(1e3):t.time_between_blocks?t.time_between_blocks[0].multipliedBy(1e3):new d.Z(e)).dividedBy(3);this.config.pollingIntervalMilliseconds=0===i.toNumber()?r:i.toNumber()}catch(t){return e}}return this.config.pollingIntervalMilliseconds}))}subscribeBlock(t){return new nu(this.newBlock$,this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribe(t){return new nu(this.newBlock$.pipe(gr("hash")),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeOperation(t){return new nu(this.newBlock$.pipe((t=>dr((e=>new vt((r=>{for(const i of e.operations)for(const e of i)for(const i of e.contents)ru(Object.assign({hash:e.hash},i),t)&&r.next(Object.assign({hash:e.hash},i));r.complete()})))))(t)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}}class au{constructor(t){this.context=t}getNextProto(){return yc(this,void 0,void 0,(function*(){if(!this.context.proto){const t=yield this.context.readProvider.getNextProtocol("head");this.context.proto=t}return this.context.proto}))}forge({branch:t,contents:e}){return yc(this,void 0,void 0,(function*(){return new gc(yield this.getNextProto()).forge({branch:t,contents:e})}))}}const cu={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180};class hu{constructor(t,e=new wc,r,i=new Oe(Object.assign({},cu)),n,s,o,a,c,h,u,f){this._rpc=t,this._signer=e,this._proto=r,this._config=i,this.providerDecorator=[],this.tz=new Eh(this),this.estimate=new xh(this),this.contract=new Zh(this,this.estimate),this.batch=new ph(this,this.estimate),this.wallet=new Ch(this),this.withExtensions=()=>{let t=this.clone();return this.providerDecorator.forEach((e=>{t=e(t)})),t},"string"==typeof this._rpc?this._rpcClient=new ft(this._rpc):this._rpcClient=this._rpc,this._forger=n||new au(this),this._injector=s||new vc(this),this.operationFactory=new wh(this),this._walletProvider=a||new Uh(this),this._parser=c||new Xh(this),this._packer=o||new Yh(this),this._globalConstantsProvider=h||new Qh,this._readProvider=u||new tu(this),this._stream=f||new ou(this)}get config(){return this._config.getValue()}set config(t){this._config.next(Object.assign({},t))}setPartialConfig(t){this._config.next(Object.assign(Object.assign({},this._config.getValue()),t))}get rpc(){return this._rpcClient}set rpc(t){this._rpcClient=t}get injector(){return this._injector}set injector(t){this._injector=t}get forger(){return this._forger}set forger(t){this._forger=t}get signer(){return this._signer}set signer(t){this._signer=t}get walletProvider(){return this._walletProvider}set walletProvider(t){this._walletProvider=t}set proto(t){this._proto=t}get proto(){return this._proto}get parser(){return this._parser}set parser(t){this._parser=t}get packer(){return this._packer}set packer(t){this._packer=t}get globalConstantsProvider(){return this._globalConstantsProvider}set globalConstantsProvider(t){this._globalConstantsProvider=t}get readProvider(){return this._readProvider}set readProvider(t){this._readProvider=t}get stream(){return this._stream}set stream(t){this._stream=t}isAnyProtocolActive(t=[]){return yc(this,void 0,void 0,(function*(){if(this._proto)return t.includes(this._proto);{const e=yield this.readProvider.getNextProtocol("head");return t.includes(e)}}))}isAnySignerConfigured(){return!(this.signer instanceof wc)}clone(){return new hu(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer,this._walletProvider,this._parser,this._globalConstantsProvider,this._readProvider,this._stream)}registerProviderDecorator(t){this.providerDecorator.push(t)}}const uu={commitHash:"6d90b3d5e616a6e9b9ad9dd8453b5068e7396fff",version:"13.0.1"};class fu extends Error{constructor(t){super("Forging mismatch error"),this.results=t,this.name="ForgingMismatchError"}}class du extends Error{constructor(){super("At least one forger must be specified"),this.name="UnspecifiedForgerError"}}class lu{constructor(t){this._rpc=t,this._options={},this.format=Rc,"string"==typeof this._rpc?this._rpcClient=new ft(this._rpc):this._rpcClient=this._rpc,this._context=new hu(t),this._wallet=new Ch(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}setProvider({rpc:t,stream:e,signer:r,protocol:i,config:n,forger:s,wallet:o,packer:a,globalConstantsProvider:c,readProvider:h}){this.setRpcProvider(t),this.setStreamProvider(e),this.setSignerProvider(r),this.setForgerProvider(s),this.setWalletProvider(o),this.setPackerProvider(a),this.setGlobalConstantsProvider(c),this.setReadProvider(h),this._context.proto=i,n&&this._context.setPartialConfig(n)}setSignerProvider(t){this._options.signer||void 0!==t?void 0!==t&&(this._context.signer=t,this._options.signer=t):(this._context.signer=new wc,this._options.signer=t)}setRpcProvider(t){"string"==typeof t?this._rpcClient=new ft(t):void 0===t||(this._rpcClient=t),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient}setForgerProvider(t){if(void 0!==t)this._options.forger=t,this._context.forger=t;else if(void 0===this._options.forger){const t=this.getFactory(au)();this._options.forger=t,this._context.forger=t}}setStreamProvider(t){if("string"==typeof t){const e=new ou(new hu(new ft(t)));this._options.stream=e,this._context.stream=e}else if(void 0!==t)this._options.stream=t,this._context.stream=t;else if(void 0===this._options.stream){const t=this.getFactory(ou)();this._options.stream=t,this._context.stream=t}}setWalletProvider(t){if(this._options.wallet||void 0!==t)void 0!==t&&(this._options.wallet=t,this._context.walletProvider=t);else{const t=this.getFactory(Uh)();this._options.wallet=t,this._context.walletProvider=t}}setPackerProvider(t){if(this._options.packer||void 0!==t)void 0!==t&&(this._context.packer=t,this._options.packer=t);else{const t=this.getFactory(Yh)();this._context.packer=t,this._options.packer=t}}setGlobalConstantsProvider(t){if(this._options.globalConstantsProvider||void 0!==t)void 0!==t&&(this._context.globalConstantsProvider=t,this._options.globalConstantsProvider=t);else{const t=new Qh;this._context.globalConstantsProvider=t,this._options.globalConstantsProvider=t}}setReadProvider(t){const e=void 0===t?this.getFactory(tu)():t;this._options.readProvider=e,this._context.readProvider=e}get tz(){return this._context.tz}get contract(){return this._context.contract}get wallet(){return this._wallet}get operation(){return this._context.operationFactory}get estimate(){return this._context.estimate}get stream(){return this._context.stream}get rpc(){return this._context.rpc}get signer(){return this._context.signer}get globalConstants(){return this._context.globalConstantsProvider}addExtension(t){Array.isArray(t)?t.forEach((t=>t.configureContext(this._context))):t.configureContext(this._context)}getFactory(t){return(...e)=>new t(this._context,...e)}getVersionInfo(){return uu}}},72217:(t,e,r)=>{"use strict";r.d(e,{ZT:()=>n});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;Object.create},35318:(t,e,r)=>{"use strict";r.d(e,{Zo:()=>u,kt:()=>l});var i=r(27378);function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var c=i.createContext({}),h=function(t){var e=i.useContext(c),r=e;return t&&(r="function"==typeof t?t(e):o(o({},e),t)),r},u=function(t){var e=h(t.components);return i.createElement(c.Provider,{value:e},t.children)},f={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},d=i.forwardRef((function(t,e){var r=t.components,n=t.mdxType,s=t.originalType,c=t.parentName,u=a(t,["components","mdxType","originalType","parentName"]),d=h(r),l=n,p=d["".concat(c,".").concat(l)]||d[l]||f[l]||s;return r?i.createElement(p,o(o({ref:e},u),{},{components:r})):i.createElement(p,o({ref:e},u))}));function l(t,e){var r=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var s=r.length,o=new Array(s);o[0]=d;var a={};for(var c in e)hasOwnProperty.call(e,c)&&(a[c]=e[c]);a.originalType=t,a.mdxType="string"==typeof t?t:n,o[1]=a;for(var h=2;h<s;h++)o[h]=r[h];return i.createElement.apply(null,o)}return i.createElement.apply(null,r)}d.displayName="MDXCreateElement"},78671:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(95286);function n(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function o(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function h(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function u(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function f(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),u(t/4294967296>>>0,e,r),u(t>>>0,e,r+4),e}function l(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),f(t>>>0,e,r),f(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=n,e.writeInt16BE=n,e.writeUint16LE=s,e.writeInt16LE=s,e.readInt32BE=o,e.readUint32BE=a,e.readInt32LE=c,e.readUint32LE=h,e.writeUint32BE=u,e.writeInt32BE=u,e.writeUint32LE=f,e.writeInt32LE=f,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=o(t,e),i=o(t,e+4);return 4294967296*r+i-4294967296*(i>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=h(t,e);return 4294967296*h(t,e+4)+r},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=l,e.writeInt64LE=l,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=t/8+r-1;s>=r;s--)i+=e[s]*n,n*=256;return i},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+t/8;s++)i+=e[s]*n,n*=256;return i},e.writeUintBE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!i.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,o=t/8+n-1;o>=n;o--)r[o]=e/s&255,s*=256;return r},e.writeUintLE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!i.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,o=n;o<n+t/8;o++)r[o]=e/s&255,s*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},9685:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78671),n=r(27455);e.BLOCK_SIZE=128,e.DIGEST_LENGTH=64,e.KEY_LENGTH=64,e.PERSONALIZATION_LENGTH=16,e.SALT_LENGTH=16,e.MAX_LEAF_SIZE=Math.pow(2,32)-1,e.MAX_FANOUT=255,e.MAX_MAX_DEPTH=255;var s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],a=function(){function t(t,r){if(void 0===t&&(t=64),this.digestLength=t,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(s),this._buffer=new Uint8Array(e.BLOCK_SIZE),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),t<1||t>e.DIGEST_LENGTH)throw new Error("blake2b: wrong digest length");r&&this.validateConfig(r);var n=0;r&&r.key&&(n=r.key.length);var o=1,a=1;r&&r.tree&&(o=r.tree.fanout,a=r.tree.maxDepth),this._state[0]^=t|n<<8|o<<16|a<<24,r&&r.tree&&(this._state[1]^=r.tree.leafSize,this._state[2]^=r.tree.nodeOffsetLowBits,this._state[3]^=r.tree.nodeOffsetHighBits,this._state[4]^=r.tree.nodeDepth|r.tree.innerDigestLength<<8,this._lastNode=r.tree.lastNode),r&&r.salt&&(this._state[8]^=i.readUint32LE(r.salt,0),this._state[9]^=i.readUint32LE(r.salt,4),this._state[10]^=i.readUint32LE(r.salt,8),this._state[11]^=i.readUint32LE(r.salt,12)),r&&r.personalization&&(this._state[12]^=i.readUint32LE(r.personalization,0),this._state[13]^=i.readUint32LE(r.personalization,4),this._state[14]^=i.readUint32LE(r.personalization,8),this._state[15]^=i.readUint32LE(r.personalization,12)),this._initialState=new Uint32Array(this._state),r&&r.key&&n>0&&(this._paddedKey=new Uint8Array(e.BLOCK_SIZE),this._paddedKey.set(r.key),this._buffer.set(this._paddedKey),this._bufferLength=e.BLOCK_SIZE)}return t.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=e.BLOCK_SIZE):this._bufferLength=0,n.wipe(this._ctr),n.wipe(this._flag),this._finished=!1,this},t.prototype.validateConfig=function(t){if(t.key&&t.key.length>e.KEY_LENGTH)throw new Error("blake2b: wrong key length");if(t.salt&&t.salt.length!==e.SALT_LENGTH)throw new Error("blake2b: wrong salt length");if(t.personalization&&t.personalization.length!==e.PERSONALIZATION_LENGTH)throw new Error("blake2b: wrong personalization length");if(t.tree){if(t.tree.fanout<0||t.tree.fanout>e.MAX_FANOUT)throw new Error("blake2b: wrong tree fanout");if(t.tree.maxDepth<0||t.tree.maxDepth>e.MAX_MAX_DEPTH)throw new Error("blake2b: wrong tree depth");if(t.tree.leafSize<0||t.tree.leafSize>e.MAX_LEAF_SIZE)throw new Error("blake2b: wrong leaf size");if(t.tree.innerDigestLength<0||t.tree.innerDigestLength>e.DIGEST_LENGTH)throw new Error("blake2b: wrong tree inner digest length")}},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var i=e.BLOCK_SIZE-this._bufferLength,n=0;if(0===r)return this;if(r>i){for(var s=0;s<i;s++)this._buffer[this._bufferLength+s]=t[n+s];this._processBlock(e.BLOCK_SIZE),n+=i,r-=i,this._bufferLength=0}for(;r>e.BLOCK_SIZE;){for(s=0;s<e.BLOCK_SIZE;s++)this._buffer[s]=t[n+s];this._processBlock(e.BLOCK_SIZE),n+=e.BLOCK_SIZE,r-=e.BLOCK_SIZE,this._bufferLength=0}for(s=0;s<r;s++)this._buffer[this._bufferLength+s]=t[n+s];return this._bufferLength+=r,this},t.prototype.finish=function(t){if(!this._finished){for(var r=this._bufferLength;r<e.BLOCK_SIZE;r++)this._buffer[r]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var n=this._buffer.subarray(0,64);for(r=0;r<16;r++)i.writeUint32LE(this._state[r],n,4*r);return t.set(n.subarray(0,t.length)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.clean=function(){n.wipe(this._vtmp),n.wipe(this._mtmp),n.wipe(this._state),n.wipe(this._buffer),n.wipe(this._initialState),this._paddedKey&&n.wipe(this._paddedKey),this._bufferLength=0,n.wipe(this._ctr),n.wipe(this._flag),this._lastNode=!1,this._finished=!1},t.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._buffer.set(t.buffer),this._bufferLength=t.bufferLength,this._ctr.set(t.ctr),this._flag.set(t.flag),this._lastNode=t.lastNode,this._paddedKey&&n.wipe(this._paddedKey),this._paddedKey=t.paddedKey?new Uint8Array(t.paddedKey):void 0,this._initialState.set(t.initialState),this},t.prototype.cleanSavedState=function(t){n.wipe(t.state),n.wipe(t.buffer),n.wipe(t.initialState),t.paddedKey&&n.wipe(t.paddedKey),t.bufferLength=0,n.wipe(t.ctr),n.wipe(t.flag),t.lastNode=!1},t.prototype._G=function(t,e,r,i,n,s,o,a,c,h,u,f,d){var l=t[e],p=t[s],b=t[r],g=t[o],m=t[i],y=t[a],v=t[n],_=t[c],w=65535&l,E=l>>>16,A=65535&p,S=p>>>16;E+=b>>>16,A+=65535&g,S+=g>>>16,A+=(E+=(w+=65535&b)>>>16)>>>16,w=65535&(l=65535&w|E<<16),E=l>>>16,A=65535&(p=65535&A|(S+=A>>>16)<<16),S=p>>>16,E+=h>>>16,A+=65535&u,S+=u>>>16,l=65535&(w+=65535&h)|(E+=w>>>16)<<16,w=_^=p=65535&(A+=E>>>16)|(S+=A>>>16)<<16,_=v^=l,v=w,w=65535&m,E=m>>>16,A=65535&y,S=y>>>16,E+=v>>>16,A+=65535&_,S+=_>>>16,w=(b^=m=65535&(w+=65535&v)|(E+=w>>>16)<<16)<<8|(g^=y=65535&(A+=E>>>16)|(S+=A>>>16)<<16)>>>24,b=g<<8|b>>>24,g=w,w=65535&l,E=l>>>16,A=65535&p,S=p>>>16,E+=b>>>16,A+=65535&g,S+=g>>>16,A+=(E+=(w+=65535&b)>>>16)>>>16,w=65535&(l=65535&w|E<<16),E=l>>>16,A=65535&(p=65535&A|(S+=A>>>16)<<16),S=p>>>16,E+=f>>>16,A+=65535&d,S+=d>>>16,w=(v^=l=65535&(w+=65535&f)|(E+=w>>>16)<<16)<<16|(_^=p=65535&(A+=E>>>16)|(S+=A>>>16)<<16)>>>16,v=_<<16|v>>>16,_=w,w=65535&m,E=m>>>16,A=65535&y,S=y>>>16,E+=v>>>16,A+=65535&_,S+=_>>>16,w=(g^=y=65535&(A+=(E+=(w+=65535&v)>>>16)>>>16)|(S+=A>>>16)<<16)<<1|(b^=m=65535&w|E<<16)>>>31,b=b<<1|g>>>31,g=w,t[e]=l,t[s]=p,t[r]=b,t[o]=g,t[i]=m,t[a]=y,t[n]=v,t[c]=_},t.prototype._incrementCounter=function(t){for(var e=0;e<3;e++){var r=this._ctr[e]+t;if(this._ctr[e]=r>>>0,this._ctr[e]===r)return;t=1}},t.prototype._processBlock=function(t){this._incrementCounter(t);var e=this._vtmp;e.set(this._state),e.set(s,16),e[24]^=this._ctr[0],e[25]^=this._ctr[1],e[26]^=this._ctr[2],e[27]^=this._ctr[3],e[28]^=this._flag[0],e[29]^=this._flag[1],e[30]^=this._flag[2],e[31]^=this._flag[3];for(var r=this._mtmp,n=0;n<32;n++)r[n]=i.readUint32LE(this._buffer,4*n);for(var a=0;a<12;a++)this._G(e,0,8,16,24,1,9,17,25,r[o[a][0]],r[o[a][0]+1],r[o[a][1]],r[o[a][1]+1]),this._G(e,2,10,18,26,3,11,19,27,r[o[a][2]],r[o[a][2]+1],r[o[a][3]],r[o[a][3]+1]),this._G(e,4,12,20,28,5,13,21,29,r[o[a][4]],r[o[a][4]+1],r[o[a][5]],r[o[a][5]+1]),this._G(e,6,14,22,30,7,15,23,31,r[o[a][6]],r[o[a][6]+1],r[o[a][7]],r[o[a][7]+1]),this._G(e,0,10,20,30,1,11,21,31,r[o[a][8]],r[o[a][8]+1],r[o[a][9]],r[o[a][9]+1]),this._G(e,2,12,22,24,3,13,23,25,r[o[a][10]],r[o[a][10]+1],r[o[a][11]],r[o[a][11]+1]),this._G(e,4,14,16,26,5,15,17,27,r[o[a][12]],r[o[a][12]+1],r[o[a][13]],r[o[a][13]+1]),this._G(e,6,8,18,28,7,9,19,29,r[o[a][14]],r[o[a][14]+1],r[o[a][15]],r[o[a][15]+1]);for(n=0;n<16;n++)this._state[n]^=e[n]^e[n+16]},t}();e.BLAKE2b=a,e.hash=function(t,r,i){void 0===r&&(r=e.DIGEST_LENGTH);var n=new a(r,i);n.update(t);var s=n.digest();return n.clean(),s}},28695:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},40603:(t,e,r)=>{"use strict";e.zh=e.SH=e.Xx=e._w=e.aP=e.KS=e.jQ=void 0;const i=r(35530),n=r(86135),s=r(27455);function o(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.jQ=64,e.KS=64,e.aP=32;new Uint8Array(32)[0]=9;const a=o(),c=o([1]),h=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function b(t){let e=1;for(let r=0;r<16;r++){let i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-65536*e}t[0]+=e-1+37*(e-1)}function g(t,e,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(t[n]^e[n]);t[n]^=r,e[n]^=r}}function m(t,e){const r=o(),i=o();for(let n=0;n<16;n++)i[n]=e[n];b(i),b(i),b(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let e=1;e<15;e++)r[e]=i[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,g(i,r,1-t)}for(let n=0;n<16;n++)t[2*n]=255&i[n],t[2*n+1]=i[n]>>8}function y(t,e){let r=0;for(let i=0;i<32;i++)r|=t[i]^e[i];return(1&r-1>>>8)-1}function v(t,e){const r=new Uint8Array(32),i=new Uint8Array(32);return m(r,t),m(i,e),y(r,i)}function _(t){const e=new Uint8Array(32);return m(e,t),1&e[0]}function w(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]+r[i]}function E(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]-r[i]}function A(t,e,r){let i,n,s=0,o=0,a=0,c=0,h=0,u=0,f=0,d=0,l=0,p=0,b=0,g=0,m=0,y=0,v=0,_=0,w=0,E=0,A=0,S=0,T=0,O=0,x=0,I=0,R=0,P=0,L=0,M=0,k=0,N=0,C=0,U=r[0],B=r[1],D=r[2],j=r[3],H=r[4],K=r[5],$=r[6],G=r[7],F=r[8],V=r[9],z=r[10],q=r[11],Z=r[12],X=r[13],Y=r[14],W=r[15];i=e[0],s+=i*U,o+=i*B,a+=i*D,c+=i*j,h+=i*H,u+=i*K,f+=i*$,d+=i*G,l+=i*F,p+=i*V,b+=i*z,g+=i*q,m+=i*Z,y+=i*X,v+=i*Y,_+=i*W,i=e[1],o+=i*U,a+=i*B,c+=i*D,h+=i*j,u+=i*H,f+=i*K,d+=i*$,l+=i*G,p+=i*F,b+=i*V,g+=i*z,m+=i*q,y+=i*Z,v+=i*X,_+=i*Y,w+=i*W,i=e[2],a+=i*U,c+=i*B,h+=i*D,u+=i*j,f+=i*H,d+=i*K,l+=i*$,p+=i*G,b+=i*F,g+=i*V,m+=i*z,y+=i*q,v+=i*Z,_+=i*X,w+=i*Y,E+=i*W,i=e[3],c+=i*U,h+=i*B,u+=i*D,f+=i*j,d+=i*H,l+=i*K,p+=i*$,b+=i*G,g+=i*F,m+=i*V,y+=i*z,v+=i*q,_+=i*Z,w+=i*X,E+=i*Y,A+=i*W,i=e[4],h+=i*U,u+=i*B,f+=i*D,d+=i*j,l+=i*H,p+=i*K,b+=i*$,g+=i*G,m+=i*F,y+=i*V,v+=i*z,_+=i*q,w+=i*Z,E+=i*X,A+=i*Y,S+=i*W,i=e[5],u+=i*U,f+=i*B,d+=i*D,l+=i*j,p+=i*H,b+=i*K,g+=i*$,m+=i*G,y+=i*F,v+=i*V,_+=i*z,w+=i*q,E+=i*Z,A+=i*X,S+=i*Y,T+=i*W,i=e[6],f+=i*U,d+=i*B,l+=i*D,p+=i*j,b+=i*H,g+=i*K,m+=i*$,y+=i*G,v+=i*F,_+=i*V,w+=i*z,E+=i*q,A+=i*Z,S+=i*X,T+=i*Y,O+=i*W,i=e[7],d+=i*U,l+=i*B,p+=i*D,b+=i*j,g+=i*H,m+=i*K,y+=i*$,v+=i*G,_+=i*F,w+=i*V,E+=i*z,A+=i*q,S+=i*Z,T+=i*X,O+=i*Y,x+=i*W,i=e[8],l+=i*U,p+=i*B,b+=i*D,g+=i*j,m+=i*H,y+=i*K,v+=i*$,_+=i*G,w+=i*F,E+=i*V,A+=i*z,S+=i*q,T+=i*Z,O+=i*X,x+=i*Y,I+=i*W,i=e[9],p+=i*U,b+=i*B,g+=i*D,m+=i*j,y+=i*H,v+=i*K,_+=i*$,w+=i*G,E+=i*F,A+=i*V,S+=i*z,T+=i*q,O+=i*Z,x+=i*X,I+=i*Y,R+=i*W,i=e[10],b+=i*U,g+=i*B,m+=i*D,y+=i*j,v+=i*H,_+=i*K,w+=i*$,E+=i*G,A+=i*F,S+=i*V,T+=i*z,O+=i*q,x+=i*Z,I+=i*X,R+=i*Y,P+=i*W,i=e[11],g+=i*U,m+=i*B,y+=i*D,v+=i*j,_+=i*H,w+=i*K,E+=i*$,A+=i*G,S+=i*F,T+=i*V,O+=i*z,x+=i*q,I+=i*Z,R+=i*X,P+=i*Y,L+=i*W,i=e[12],m+=i*U,y+=i*B,v+=i*D,_+=i*j,w+=i*H,E+=i*K,A+=i*$,S+=i*G,T+=i*F,O+=i*V,x+=i*z,I+=i*q,R+=i*Z,P+=i*X,L+=i*Y,M+=i*W,i=e[13],y+=i*U,v+=i*B,_+=i*D,w+=i*j,E+=i*H,A+=i*K,S+=i*$,T+=i*G,O+=i*F,x+=i*V,I+=i*z,R+=i*q,P+=i*Z,L+=i*X,M+=i*Y,k+=i*W,i=e[14],v+=i*U,_+=i*B,w+=i*D,E+=i*j,A+=i*H,S+=i*K,T+=i*$,O+=i*G,x+=i*F,I+=i*V,R+=i*z,P+=i*q,L+=i*Z,M+=i*X,k+=i*Y,N+=i*W,i=e[15],_+=i*U,w+=i*B,E+=i*D,A+=i*j,S+=i*H,T+=i*K,O+=i*$,x+=i*G,I+=i*F,R+=i*V,P+=i*z,L+=i*q,M+=i*Z,k+=i*X,N+=i*Y,C+=i*W,s+=38*w,o+=38*E,a+=38*A,c+=38*S,h+=38*T,u+=38*O,f+=38*x,d+=38*I,l+=38*R,p+=38*P,b+=38*L,g+=38*M,m+=38*k,y+=38*N,v+=38*C,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=_+n+65535,n=Math.floor(i/65536),_=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=_+n+65535,n=Math.floor(i/65536),_=i-65536*n,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=h,t[5]=u,t[6]=f,t[7]=d,t[8]=l,t[9]=p,t[10]=b,t[11]=g,t[12]=m,t[13]=y,t[14]=v,t[15]=_}function S(t,e){A(t,e,e)}function T(t,e){const r=o();let i;for(i=0;i<16;i++)r[i]=e[i];for(i=253;i>=0;i--)S(r,r),2!==i&&4!==i&&A(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function O(t,e){const r=o(),i=o(),n=o(),s=o(),a=o(),c=o(),h=o(),f=o(),d=o();E(r,t[1],t[0]),E(d,e[1],e[0]),A(r,r,d),w(i,t[0],t[1]),w(d,e[0],e[1]),A(i,i,d),A(n,t[3],e[3]),A(n,n,u),A(s,t[2],e[2]),w(s,s,s),E(a,i,r),E(c,s,n),w(h,s,n),w(f,i,r),A(t[0],a,c),A(t[1],f,h),A(t[2],h,c),A(t[3],a,f)}function x(t,e,r){for(let i=0;i<4;i++)g(t[i],e[i],r)}function I(t,e){const r=o(),i=o(),n=o();T(n,e[2]),A(r,e[0],n),A(i,e[1],n),m(t,i),t[31]^=_(r)<<7}function R(t,e,r){p(t[0],a),p(t[1],c),p(t[2],c),p(t[3],a);for(let i=255;i>=0;--i){const n=r[i/8|0]>>(7&i)&1;x(t,e,n),O(e,t),O(t,t),x(t,e,n)}}function P(t,e){const r=[o(),o(),o(),o()];p(r[0],f),p(r[1],d),p(r[2],c),A(r[3],f,d),R(t,r,e)}function L(t){if(t.length!==e.aP)throw new Error(`ed25519: seed must be ${e.aP} bytes`);const r=(0,n.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];P(s,r),I(i,s);const a=new Uint8Array(64);return a.set(t),a.set(i,32),{publicKey:i,secretKey:a}}e._w=L;const M=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(t,e){let r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*M[n-(i-32)],r=Math.floor((e[n]+128)/256),e[n]-=256*r;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*M[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*M[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=255&e[i]}function N(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;k(t,e)}function C(t,e){const r=o(),i=o(),n=o(),s=o(),u=o(),f=o(),d=o();return p(t[2],c),function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),S(n,t[1]),A(s,n,h),E(n,n,t[2]),w(s,t[2],s),S(u,s),S(f,u),A(d,f,u),A(r,d,n),A(r,r,s),function(t,e){const r=o();let i;for(i=0;i<16;i++)r[i]=e[i];for(i=250;i>=0;i--)S(r,r),1!==i&&A(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}(r,r),A(r,r,n),A(r,r,s),A(r,r,s),A(t[0],r,s),S(i,t[0]),A(i,i,s),v(i,n)&&A(t[0],t[0],l),S(i,t[0]),A(i,i,s),v(i,n)?-1:(_(t[0])===e[31]>>7&&E(t[0],a,t[0]),A(t[3],t[0],t[1]),0)}e.Xx=function(t,e){const r=new Float64Array(64),i=[o(),o(),o(),o()],s=(0,n.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const c=new n.SHA512;c.update(a.subarray(32)),c.update(e);const h=c.digest();c.clean(),N(h),P(i,h),I(a,i),c.reset(),c.update(a.subarray(0,32)),c.update(t.subarray(32)),c.update(e);const u=c.digest();N(u);for(let n=0;n<32;n++)r[n]=h[n];for(let n=0;n<32;n++)for(let t=0;t<32;t++)r[n+t]+=u[n]*s[t];return k(a.subarray(32),r),a},e.SH=function(t){let e=[o(),o(),o(),o()];if(C(e,t))throw new Error("Ed25519: invalid public key");let r=o(),i=o(),n=e[1];w(r,c,n),E(i,c,n),T(i,i),A(r,r,i);let s=new Uint8Array(32);return m(s,r),s},e.zh=function(t){const e=(0,n.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;const r=new Uint8Array(e.subarray(0,32));return(0,s.wipe)(e),r}},95286:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,i=65535&e;return r*i+((t>>>16&65535)*i+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},84755:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openBox=e.box=e.precomputeSharedKey=e.generateKeyPair=void 0;const i=r(7635),n=r(5796),s=r(67149),o=r(27455);var a=r(7635);Object.defineProperty(e,"generateKeyPair",{enumerable:!0,get:function(){return a.generateKeyPair}});const c=new Uint8Array(16);function h(t,e){const r=(0,i.scalarMult)(e,t);return(0,n.hsalsa)(r,c,r),r}e.precomputeSharedKey=h,e.box=function(t,e,r,i){const n=h(t,e),a=(0,s.secretBox)(n,r,i);return(0,o.wipe)(n),a},e.openBox=function(t,e,r,i){const n=h(t,e),a=(0,s.openSecretBox)(n,r,i);return(0,o.wipe)(n),a}},92367:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(84755),e),n(r(67149),e)},67149:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateKey=e.openSecretBox=e.secretBox=void 0;const i=r(5796),n=r(15223),s=r(27455),o=r(35530);e.secretBox=function(t,e,r){if(24!==e.length)throw new Error("secretBox nonce must be 24 bytes");const o=new Uint8Array(64),a=new Uint8Array(32);a.set(e),(0,i.stream)(t,a,o,8);const c=new Uint8Array(16+r.length);for(let i=0;i<32&&i<r.length;i++)c[16+i]=r[i]^o[32+i];r.length>32&&(0,i.streamXOR)(t,a,r.subarray(32),c.subarray(48),8);const h=(0,n.oneTimeAuth)(o.subarray(0,32),c.subarray(16));for(let i=0;i<h.length;i++)c[i]=h[i];return(0,s.wipe)(h),(0,s.wipe)(o),(0,s.wipe)(a),c},e.openSecretBox=function(t,e,r){if(24!==e.length)throw new Error("secretBox nonce must be 24 bytes");if(r.length<16)throw new Error("secretBox data must be at least 16 bytes");const o=new Uint8Array(64),a=new Uint8Array(32);a.set(e),(0,i.stream)(t,a,o,8);const c=(0,n.oneTimeAuth)(o.subarray(0,32),r.subarray(16));if(!(0,n.equal)(c,r.subarray(0,16)))return null;const h=r.subarray(16),u=new Uint8Array(h.length);for(let i=0;i<32&&i<h.length;i++)u[i]=h[i]^o[32+i];return h.length>32&&(0,i.streamXOR)(t,a,h.subarray(32),u.subarray(32),8),(0,s.wipe)(c),(0,s.wipe)(o),(0,s.wipe)(a),u},e.generateKey=function(t){return(0,o.randomBytes)(32,t)}},15223:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(28695),n=r(27455);e.DIGEST_LENGTH=16;var s=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var i=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|i<<3);var n=t[4]|t[5]<<8;this._r[2]=7939&(i>>>10|n<<6);var s=t[6]|t[7]<<8;this._r[3]=8191&(n>>>7|s<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var h=t[14]|t[15]<<8;this._r[8]=8191&(c>>>8|h<<8),this._r[9]=h>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var i=this._fin?0:2048,n=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],h=this._h[5],u=this._h[6],f=this._h[7],d=this._h[8],l=this._h[9],p=this._r[0],b=this._r[1],g=this._r[2],m=this._r[3],y=this._r[4],v=this._r[5],_=this._r[6],w=this._r[7],E=this._r[8],A=this._r[9];r>=16;){var S=t[e+0]|t[e+1]<<8;n+=8191&S;var T=t[e+2]|t[e+3]<<8;s+=8191&(S>>>13|T<<3);var O=t[e+4]|t[e+5]<<8;o+=8191&(T>>>10|O<<6);var x=t[e+6]|t[e+7]<<8;a+=8191&(O>>>7|x<<9);var I=t[e+8]|t[e+9]<<8;c+=8191&(x>>>4|I<<12),h+=I>>>1&8191;var R=t[e+10]|t[e+11]<<8;u+=8191&(I>>>14|R<<2);var P=t[e+12]|t[e+13]<<8;f+=8191&(R>>>11|P<<5);var L=t[e+14]|t[e+15]<<8,M=0,k=M;k+=n*p,k+=s*(5*A),k+=o*(5*E),k+=a*(5*w),M=(k+=c*(5*_))>>>13,k&=8191,k+=h*(5*v),k+=u*(5*y),k+=f*(5*m),k+=(d+=8191&(P>>>8|L<<8))*(5*g);var N=M+=(k+=(l+=L>>>5|i)*(5*b))>>>13;N+=n*b,N+=s*p,N+=o*(5*A),N+=a*(5*E),M=(N+=c*(5*w))>>>13,N&=8191,N+=h*(5*_),N+=u*(5*v),N+=f*(5*y),N+=d*(5*m),M+=(N+=l*(5*g))>>>13,N&=8191;var C=M;C+=n*g,C+=s*b,C+=o*p,C+=a*(5*A),M=(C+=c*(5*E))>>>13,C&=8191,C+=h*(5*w),C+=u*(5*_),C+=f*(5*v),C+=d*(5*y);var U=M+=(C+=l*(5*m))>>>13;U+=n*m,U+=s*g,U+=o*b,U+=a*p,M=(U+=c*(5*A))>>>13,U&=8191,U+=h*(5*E),U+=u*(5*w),U+=f*(5*_),U+=d*(5*v);var B=M+=(U+=l*(5*y))>>>13;B+=n*y,B+=s*m,B+=o*g,B+=a*b,M=(B+=c*p)>>>13,B&=8191,B+=h*(5*A),B+=u*(5*E),B+=f*(5*w),B+=d*(5*_);var D=M+=(B+=l*(5*v))>>>13;D+=n*v,D+=s*y,D+=o*m,D+=a*g,M=(D+=c*b)>>>13,D&=8191,D+=h*p,D+=u*(5*A),D+=f*(5*E),D+=d*(5*w);var j=M+=(D+=l*(5*_))>>>13;j+=n*_,j+=s*v,j+=o*y,j+=a*m,M=(j+=c*g)>>>13,j&=8191,j+=h*b,j+=u*p,j+=f*(5*A),j+=d*(5*E);var H=M+=(j+=l*(5*w))>>>13;H+=n*w,H+=s*_,H+=o*v,H+=a*y,M=(H+=c*m)>>>13,H&=8191,H+=h*g,H+=u*b,H+=f*p,H+=d*(5*A);var K=M+=(H+=l*(5*E))>>>13;K+=n*E,K+=s*w,K+=o*_,K+=a*v,M=(K+=c*y)>>>13,K&=8191,K+=h*m,K+=u*g,K+=f*b,K+=d*p;var $=M+=(K+=l*(5*A))>>>13;$+=n*A,$+=s*E,$+=o*w,$+=a*_,M=($+=c*v)>>>13,$&=8191,$+=h*y,$+=u*m,$+=f*g,$+=d*b,n=k=8191&(M=(M=((M+=($+=l*p)>>>13)<<2)+M|0)+(k&=8191)|0),s=N+=M>>>=13,o=C&=8191,a=U&=8191,c=B&=8191,h=D&=8191,u=j&=8191,f=H&=8191,d=K&=8191,l=$&=8191,e+=16,r-=16}this._h[0]=n,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=h,this._h[6]=u,this._h[7]=f,this._h[8]=d,this._h[9]=l},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,i,n,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(i=~i,s=0;s<10;s++)this._h[s]=this._h[s]&i|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),n=this._h[0]+this._pad[0],this._h[0]=65535&n,s=1;s<8;s++)n=(this._h[s]+this._pad[s]|0)+(n>>>16)|0,this._h[s]=65535&n;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,i=t.length;if(this._leftover){(e=16-this._leftover)>i&&(e=i);for(var n=0;n<e;n++)this._buffer[this._leftover+n]=t[r+n];if(i-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(e=i-i%16,this._blocks(t,r,e),r+=e,i-=e),i){for(n=0;n<i;n++)this._buffer[this._leftover+n]=t[r+n];this._leftover+=i}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=s,e.oneTimeAuth=function(t,e){var r=new s(t);r.update(e);var i=r.digest();return r.clean(),i},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&i.equal(t,r)}},35530:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const i=r(18998),n=r(78671),s=r(27455);function o(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new i.SystemRandomSource,e.randomBytes=o,e.randomUint32=function(t=e.defaultRandomSource){const r=o(4,t),i=(0,n.readUint32LE)(r);return(0,s.wipe)(r),i};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(t,r=a,i=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let n="";const c=r.length,h=256-256%c;for(;t>0;){const e=o(Math.ceil(256*t/h),i);for(let i=0;i<e.length&&t>0;i++){const s=e[i];s<h&&(n+=r.charAt(s%c),t--)}(0,s.wipe)(e)}return n}e.randomString=c,e.randomStringForEntropy=function(t,r=a,i=e.defaultRandomSource){return c(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,i)}},12354:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let r=0;r<e.length;r+=65536)this._crypto.getRandomValues(e.subarray(r,r+Math.min(e.length-r,65536)));return e}}},46915:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const i=r(27455);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(91586);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let i=0;i<r.length;i++)r[i]=e[i];return(0,i.wipe)(e),r}}},18998:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const i=r(12354),n=r(46915);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new i.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},83026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78671),n=r(27455);function s(t,e,r){for(var n,s=1634760805,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],a=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],u=857760878,f=e[3]<<24|e[2]<<16|e[1]<<8|e[0],d=e[7]<<24|e[6]<<16|e[5]<<8|e[4],l=e[11]<<24|e[10]<<16|e[9]<<8|e[8],p=e[15]<<24|e[14]<<16|e[13]<<8|e[12],b=2036477234,g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],m=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],v=r[31]<<24|r[30]<<16|r[29]<<8|r[28],_=1797285236,w=s,E=o,A=a,S=c,T=h,O=u,x=f,I=d,R=l,P=p,L=b,M=g,k=m,N=y,C=v,U=_,B=0;B<20;B+=2)w^=(n=(k^=(n=(R^=(n=(T^=(n=w+k|0)<<7|n>>>25)+w|0)<<9|n>>>23)+T|0)<<13|n>>>19)+R|0)<<18|n>>>14,O^=(n=(E^=(n=(N^=(n=(P^=(n=O+E|0)<<7|n>>>25)+O|0)<<9|n>>>23)+P|0)<<13|n>>>19)+N|0)<<18|n>>>14,L^=(n=(x^=(n=(A^=(n=(C^=(n=L+x|0)<<7|n>>>25)+L|0)<<9|n>>>23)+C|0)<<13|n>>>19)+A|0)<<18|n>>>14,U^=(n=(M^=(n=(I^=(n=(S^=(n=U+M|0)<<7|n>>>25)+U|0)<<9|n>>>23)+S|0)<<13|n>>>19)+I|0)<<18|n>>>14,w^=(n=(S^=(n=(A^=(n=(E^=(n=w+S|0)<<7|n>>>25)+w|0)<<9|n>>>23)+E|0)<<13|n>>>19)+A|0)<<18|n>>>14,O^=(n=(T^=(n=(I^=(n=(x^=(n=O+T|0)<<7|n>>>25)+O|0)<<9|n>>>23)+x|0)<<13|n>>>19)+I|0)<<18|n>>>14,L^=(n=(P^=(n=(R^=(n=(M^=(n=L+P|0)<<7|n>>>25)+L|0)<<9|n>>>23)+M|0)<<13|n>>>19)+R|0)<<18|n>>>14,U^=(n=(C^=(n=(N^=(n=(k^=(n=U+C|0)<<7|n>>>25)+U|0)<<9|n>>>23)+k|0)<<13|n>>>19)+N|0)<<18|n>>>14;i.writeUint32LE(w+s|0,t,0),i.writeUint32LE(E+o|0,t,4),i.writeUint32LE(A+a|0,t,8),i.writeUint32LE(S+c|0,t,12),i.writeUint32LE(T+h|0,t,16),i.writeUint32LE(O+u|0,t,20),i.writeUint32LE(x+f|0,t,24),i.writeUint32LE(I+d|0,t,28),i.writeUint32LE(R+l|0,t,32),i.writeUint32LE(P+p|0,t,36),i.writeUint32LE(L+b|0,t,40),i.writeUint32LE(M+g|0,t,44),i.writeUint32LE(k+m|0,t,48),i.writeUint32LE(N+y|0,t,52),i.writeUint32LE(C+v|0,t,56),i.writeUint32LE(U+_|0,t,60)}function o(t,e,r,i,o){if(void 0===o&&(o=0),32!==t.length)throw new Error("Salsa20: key size must be 32 bytes");if(i.length<r.length)throw new Error("Salsa20: destination is shorter than source");var c,h;if(0===o){if(8!==e.length)throw new Error("Salsa20 nonce must be 8 bytes");(c=new Uint8Array(16)).set(e),h=e.length}else{if(16!==e.length)throw new Error("Salsa20 nonce with counter must be 16 bytes");c=e,h=16-o}for(var u=new Uint8Array(64),f=0;f<r.length;f+=64){s(u,c,t);for(var d=f;d<f+64&&d<r.length;d++)i[d]=r[d]^u[d-f];a(c,h,c.length-h)}return n.wipe(u),0===o&&n.wipe(c),i}function a(t,e,r){for(var i=1;r--;)i=i+(255&t[e])|0,t[e]=255&i,i>>>=8,e++;if(i>0)throw new Error("Salsa20: counter overflow")}e.streamXOR=o,e.stream=function(t,e,r,i){return void 0===i&&(i=0),n.wipe(r),o(t,e,r,r,i)}},86135:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78671),n=r(27455);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var s=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[i++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(i=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,i,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[i++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,n=e/536870912|0,s=e<<3,o=e%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;i.writeUint32BE(n,this._buffer,o-8),i.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/8;c++)i.writeUint32BE(this._stateHi[c],t,8*c),i.writeUint32BE(this._stateLo[c],t,8*c+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){n.wipe(t.stateHi),n.wipe(t.stateLo),t.buffer&&n.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,n,s,a,c){for(var h,u,f,d,l,p,b,g,m=r[0],y=r[1],v=r[2],_=r[3],w=r[4],E=r[5],A=r[6],S=r[7],T=n[0],O=n[1],x=n[2],I=n[3],R=n[4],P=n[5],L=n[6],M=n[7];c>=128;){for(var k=0;k<16;k++){var N=8*k+a;t[k]=i.readUint32BE(s,N),e[k]=i.readUint32BE(s,N+4)}for(k=0;k<80;k++){var C,U,B=m,D=y,j=v,H=_,K=w,$=E,G=A,F=T,V=O,z=x,q=I,Z=R,X=P,Y=L;if(l=65535&(u=M),p=u>>>16,b=65535&(h=S),g=h>>>16,l+=65535&(u=(R>>>14|w<<18)^(R>>>18|w<<14)^(w>>>9|R<<23)),p+=u>>>16,b+=65535&(h=(w>>>14|R<<18)^(w>>>18|R<<14)^(R>>>9|w<<23)),g+=h>>>16,l+=65535&(u=R&P^~R&L),p+=u>>>16,b+=65535&(h=w&E^~w&A),g+=h>>>16,h=o[2*k],l+=65535&(u=o[2*k+1]),p+=u>>>16,b+=65535&h,g+=h>>>16,h=t[k%16],p+=(u=e[k%16])>>>16,b+=65535&h,g+=h>>>16,b+=(p+=(l+=65535&u)>>>16)>>>16,l=65535&(u=d=65535&l|p<<16),p=u>>>16,b=65535&(h=f=65535&b|(g+=b>>>16)<<16),g=h>>>16,l+=65535&(u=(T>>>28|m<<4)^(m>>>2|T<<30)^(m>>>7|T<<25)),p+=u>>>16,b+=65535&(h=(m>>>28|T<<4)^(T>>>2|m<<30)^(T>>>7|m<<25)),g+=h>>>16,p+=(u=T&O^T&x^O&x)>>>16,b+=65535&(h=m&y^m&v^y&v),g+=h>>>16,C=65535&(b+=(p+=(l+=65535&u)>>>16)>>>16)|(g+=b>>>16)<<16,U=65535&l|p<<16,l=65535&(u=q),p=u>>>16,b=65535&(h=H),g=h>>>16,p+=(u=d)>>>16,b+=65535&(h=f),g+=h>>>16,y=B,v=D,_=j,w=H=65535&(b+=(p+=(l+=65535&u)>>>16)>>>16)|(g+=b>>>16)<<16,E=K,A=$,S=G,m=C,O=F,x=V,I=z,R=q=65535&l|p<<16,P=Z,L=X,M=Y,T=U,k%16==15)for(N=0;N<16;N++)h=t[N],l=65535&(u=e[N]),p=u>>>16,b=65535&h,g=h>>>16,h=t[(N+9)%16],l+=65535&(u=e[(N+9)%16]),p+=u>>>16,b+=65535&h,g+=h>>>16,f=t[(N+1)%16],l+=65535&(u=((d=e[(N+1)%16])>>>1|f<<31)^(d>>>8|f<<24)^(d>>>7|f<<25)),p+=u>>>16,b+=65535&(h=(f>>>1|d<<31)^(f>>>8|d<<24)^f>>>7),g+=h>>>16,f=t[(N+14)%16],p+=(u=((d=e[(N+14)%16])>>>19|f<<13)^(f>>>29|d<<3)^(d>>>6|f<<26))>>>16,b+=65535&(h=(f>>>19|d<<13)^(d>>>29|f<<3)^f>>>6),g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,t[N]=65535&b|g<<16,e[N]=65535&l|p<<16}l=65535&(u=T),p=u>>>16,b=65535&(h=m),g=h>>>16,h=r[0],p+=(u=n[0])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[0]=m=65535&b|g<<16,n[0]=T=65535&l|p<<16,l=65535&(u=O),p=u>>>16,b=65535&(h=y),g=h>>>16,h=r[1],p+=(u=n[1])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[1]=y=65535&b|g<<16,n[1]=O=65535&l|p<<16,l=65535&(u=x),p=u>>>16,b=65535&(h=v),g=h>>>16,h=r[2],p+=(u=n[2])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[2]=v=65535&b|g<<16,n[2]=x=65535&l|p<<16,l=65535&(u=I),p=u>>>16,b=65535&(h=_),g=h>>>16,h=r[3],p+=(u=n[3])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[3]=_=65535&b|g<<16,n[3]=I=65535&l|p<<16,l=65535&(u=R),p=u>>>16,b=65535&(h=w),g=h>>>16,h=r[4],p+=(u=n[4])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[4]=w=65535&b|g<<16,n[4]=R=65535&l|p<<16,l=65535&(u=P),p=u>>>16,b=65535&(h=E),g=h>>>16,h=r[5],p+=(u=n[5])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[5]=E=65535&b|g<<16,n[5]=P=65535&l|p<<16,l=65535&(u=L),p=u>>>16,b=65535&(h=A),g=h>>>16,h=r[6],p+=(u=n[6])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[6]=A=65535&b|g<<16,n[6]=L=65535&l|p<<16,l=65535&(u=M),p=u>>>16,b=65535&(h=S),g=h>>>16,h=r[7],p+=(u=n[7])>>>16,b+=65535&h,g+=h>>>16,g+=(b+=(p+=(l+=65535&u)>>>16)>>>16)>>>16,r[7]=S=65535&b|g<<16,n[7]=M=65535&l|p<<16,a+=128,c-=128}return a}e.hash=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},27455:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},7635:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const i=r(35530),n=r(27455);function s(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function c(t){let e=1;for(let r=0;r<16;r++){let i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-65536*e}t[0]+=e-1+37*(e-1)}function h(t,e,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(t[n]^e[n]);t[n]^=r,e[n]^=r}}function u(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]+r[i]}function f(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]-r[i]}function d(t,e,r){let i,n,s=0,o=0,a=0,c=0,h=0,u=0,f=0,d=0,l=0,p=0,b=0,g=0,m=0,y=0,v=0,_=0,w=0,E=0,A=0,S=0,T=0,O=0,x=0,I=0,R=0,P=0,L=0,M=0,k=0,N=0,C=0,U=r[0],B=r[1],D=r[2],j=r[3],H=r[4],K=r[5],$=r[6],G=r[7],F=r[8],V=r[9],z=r[10],q=r[11],Z=r[12],X=r[13],Y=r[14],W=r[15];i=e[0],s+=i*U,o+=i*B,a+=i*D,c+=i*j,h+=i*H,u+=i*K,f+=i*$,d+=i*G,l+=i*F,p+=i*V,b+=i*z,g+=i*q,m+=i*Z,y+=i*X,v+=i*Y,_+=i*W,i=e[1],o+=i*U,a+=i*B,c+=i*D,h+=i*j,u+=i*H,f+=i*K,d+=i*$,l+=i*G,p+=i*F,b+=i*V,g+=i*z,m+=i*q,y+=i*Z,v+=i*X,_+=i*Y,w+=i*W,i=e[2],a+=i*U,c+=i*B,h+=i*D,u+=i*j,f+=i*H,d+=i*K,l+=i*$,p+=i*G,b+=i*F,g+=i*V,m+=i*z,y+=i*q,v+=i*Z,_+=i*X,w+=i*Y,E+=i*W,i=e[3],c+=i*U,h+=i*B,u+=i*D,f+=i*j,d+=i*H,l+=i*K,p+=i*$,b+=i*G,g+=i*F,m+=i*V,y+=i*z,v+=i*q,_+=i*Z,w+=i*X,E+=i*Y,A+=i*W,i=e[4],h+=i*U,u+=i*B,f+=i*D,d+=i*j,l+=i*H,p+=i*K,b+=i*$,g+=i*G,m+=i*F,y+=i*V,v+=i*z,_+=i*q,w+=i*Z,E+=i*X,A+=i*Y,S+=i*W,i=e[5],u+=i*U,f+=i*B,d+=i*D,l+=i*j,p+=i*H,b+=i*K,g+=i*$,m+=i*G,y+=i*F,v+=i*V,_+=i*z,w+=i*q,E+=i*Z,A+=i*X,S+=i*Y,T+=i*W,i=e[6],f+=i*U,d+=i*B,l+=i*D,p+=i*j,b+=i*H,g+=i*K,m+=i*$,y+=i*G,v+=i*F,_+=i*V,w+=i*z,E+=i*q,A+=i*Z,S+=i*X,T+=i*Y,O+=i*W,i=e[7],d+=i*U,l+=i*B,p+=i*D,b+=i*j,g+=i*H,m+=i*K,y+=i*$,v+=i*G,_+=i*F,w+=i*V,E+=i*z,A+=i*q,S+=i*Z,T+=i*X,O+=i*Y,x+=i*W,i=e[8],l+=i*U,p+=i*B,b+=i*D,g+=i*j,m+=i*H,y+=i*K,v+=i*$,_+=i*G,w+=i*F,E+=i*V,A+=i*z,S+=i*q,T+=i*Z,O+=i*X,x+=i*Y,I+=i*W,i=e[9],p+=i*U,b+=i*B,g+=i*D,m+=i*j,y+=i*H,v+=i*K,_+=i*$,w+=i*G,E+=i*F,A+=i*V,S+=i*z,T+=i*q,O+=i*Z,x+=i*X,I+=i*Y,R+=i*W,i=e[10],b+=i*U,g+=i*B,m+=i*D,y+=i*j,v+=i*H,_+=i*K,w+=i*$,E+=i*G,A+=i*F,S+=i*V,T+=i*z,O+=i*q,x+=i*Z,I+=i*X,R+=i*Y,P+=i*W,i=e[11],g+=i*U,m+=i*B,y+=i*D,v+=i*j,_+=i*H,w+=i*K,E+=i*$,A+=i*G,S+=i*F,T+=i*V,O+=i*z,x+=i*q,I+=i*Z,R+=i*X,P+=i*Y,L+=i*W,i=e[12],m+=i*U,y+=i*B,v+=i*D,_+=i*j,w+=i*H,E+=i*K,A+=i*$,S+=i*G,T+=i*F,O+=i*V,x+=i*z,I+=i*q,R+=i*Z,P+=i*X,L+=i*Y,M+=i*W,i=e[13],y+=i*U,v+=i*B,_+=i*D,w+=i*j,E+=i*H,A+=i*K,S+=i*$,T+=i*G,O+=i*F,x+=i*V,I+=i*z,R+=i*q,P+=i*Z,L+=i*X,M+=i*Y,k+=i*W,i=e[14],v+=i*U,_+=i*B,w+=i*D,E+=i*j,A+=i*H,S+=i*K,T+=i*$,O+=i*G,x+=i*F,I+=i*V,R+=i*z,P+=i*q,L+=i*Z,M+=i*X,k+=i*Y,N+=i*W,i=e[15],_+=i*U,w+=i*B,E+=i*D,A+=i*j,S+=i*H,T+=i*K,O+=i*$,x+=i*G,I+=i*F,R+=i*V,P+=i*z,L+=i*q,M+=i*Z,k+=i*X,N+=i*Y,C+=i*W,s+=38*w,o+=38*E,a+=38*A,c+=38*S,h+=38*T,u+=38*O,f+=38*x,d+=38*I,l+=38*R,p+=38*P,b+=38*L,g+=38*M,m+=38*k,y+=38*N,v+=38*C,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=_+n+65535,n=Math.floor(i/65536),_=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=_+n+65535,n=Math.floor(i/65536),_=i-65536*n,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=h,t[5]=u,t[6]=f,t[7]=d,t[8]=l,t[9]=p,t[10]=b,t[11]=g,t[12]=m,t[13]=y,t[14]=v,t[15]=_}function l(t,e){d(t,e,e)}function p(t,e){const r=new Uint8Array(32),i=new Float64Array(80),n=s(),o=s(),p=s(),b=s(),g=s(),m=s();for(let s=0;s<31;s++)r[s]=t[s];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(i,e);for(let s=0;s<16;s++)o[s]=i[s];n[0]=b[0]=1;for(let s=254;s>=0;--s){const t=r[s>>>3]>>>(7&s)&1;h(n,o,t),h(p,b,t),u(g,n,p),f(n,n,p),u(p,o,b),f(o,o,b),l(b,g),l(m,n),d(n,p,n),d(p,o,g),u(g,n,p),f(n,n,p),l(o,n),f(p,b,m),d(n,p,a),u(n,n,b),d(p,p,n),d(n,b,m),d(b,o,i),l(o,g),h(n,o,t),h(p,b,t)}for(let s=0;s<16;s++)i[s+16]=n[s],i[s+32]=p[s],i[s+48]=o[s],i[s+64]=b[s];const y=i.subarray(32),v=i.subarray(16);!function(t,e){const r=s();for(let i=0;i<16;i++)r[i]=e[i];for(let i=253;i>=0;i--)l(r,r),2!==i&&4!==i&&d(r,r,e);for(let i=0;i<16;i++)t[i]=r[i]}(y,y),d(v,v,y);const _=new Uint8Array(32);return function(t,e){const r=s(),i=s();for(let n=0;n<16;n++)i[n]=e[n];c(i),c(i),c(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let e=1;e<15;e++)r[e]=i[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,h(i,r,1-t)}for(let n=0;n<16;n++)t[2*n]=255&i[n],t[2*n+1]=i[n]>>8}(_,v),_}function b(t){return p(t,o)}function g(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const r=new Uint8Array(t);return{publicKey:b(r),secretKey:r}}e.scalarMult=p,e.scalarMultBase=b,e.generateKeyPairFromSeed=g,e.generateKeyPair=function(t){const e=(0,i.randomBytes)(32,t),r=g(e);return(0,n.wipe)(e),r},e.sharedKey=function(t,r,i=!1){if(t.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(r.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const n=p(t,r);if(i){let t=0;for(let e=0;e<n.length;e++)t|=n[e];if(0===t)throw new Error("X25519: invalid shared key")}return n}},5796:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(78671),n=r(83026),s=r(27455);function o(t,e,r,i,o){if(void 0===o&&(o=0),0===o){if(24!==e.length)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(32!==e.length)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var c=a(t,e.subarray(0,16),new Uint8Array(32)),h=n.streamXOR(c,e.subarray(16),r,i,o);return s.wipe(c),h}e.streamXOR=o,e.stream=function(t,e,r,i){return void 0===i&&(i=0),s.wipe(r),o(t,e,r,r,i)};function a(t,e,r){for(var n,s=1634760805,o=t[3]<<24|t[2]<<16|t[1]<<8|t[0],a=t[7]<<24|t[6]<<16|t[5]<<8|t[4],c=t[11]<<24|t[10]<<16|t[9]<<8|t[8],h=t[15]<<24|t[14]<<16|t[13]<<8|t[12],u=857760878,f=e[3]<<24|e[2]<<16|e[1]<<8|e[0],d=e[7]<<24|e[6]<<16|e[5]<<8|e[4],l=e[11]<<24|e[10]<<16|e[9]<<8|e[8],p=e[15]<<24|e[14]<<16|e[13]<<8|e[12],b=2036477234,g=t[19]<<24|t[18]<<16|t[17]<<8|t[16],m=t[23]<<24|t[22]<<16|t[21]<<8|t[20],y=t[27]<<24|t[26]<<16|t[25]<<8|t[24],v=t[31]<<24|t[30]<<16|t[29]<<8|t[28],_=1797285236,w=0;w<20;w+=2)s^=(n=(m^=(n=(l^=(n=(h^=(n=s+m|0)<<7|n>>>25)+s|0)<<9|n>>>23)+h|0)<<13|n>>>19)+l|0)<<18|n>>>14,u^=(n=(o^=(n=(y^=(n=(p^=(n=u+o|0)<<7|n>>>25)+u|0)<<9|n>>>23)+p|0)<<13|n>>>19)+y|0)<<18|n>>>14,b^=(n=(f^=(n=(a^=(n=(v^=(n=b+f|0)<<7|n>>>25)+b|0)<<9|n>>>23)+v|0)<<13|n>>>19)+a|0)<<18|n>>>14,_^=(n=(g^=(n=(d^=(n=(c^=(n=_+g|0)<<7|n>>>25)+_|0)<<9|n>>>23)+c|0)<<13|n>>>19)+d|0)<<18|n>>>14,s^=(n=(c^=(n=(a^=(n=(o^=(n=s+c|0)<<7|n>>>25)+s|0)<<9|n>>>23)+o|0)<<13|n>>>19)+a|0)<<18|n>>>14,u^=(n=(h^=(n=(d^=(n=(f^=(n=u+h|0)<<7|n>>>25)+u|0)<<9|n>>>23)+f|0)<<13|n>>>19)+d|0)<<18|n>>>14,b^=(n=(p^=(n=(l^=(n=(g^=(n=b+p|0)<<7|n>>>25)+b|0)<<9|n>>>23)+g|0)<<13|n>>>19)+l|0)<<18|n>>>14,_^=(n=(v^=(n=(y^=(n=(m^=(n=_+v|0)<<7|n>>>25)+_|0)<<9|n>>>23)+m|0)<<13|n>>>19)+y|0)<<18|n>>>14;return i.writeUint32LE(s,r,0),i.writeUint32LE(u,r,4),i.writeUint32LE(b,r,8),i.writeUint32LE(_,r,12),i.writeUint32LE(f,r,16),i.writeUint32LE(d,r,20),i.writeUint32LE(l,r,24),i.writeUint32LE(p,r,28),r}e.hsalsa=a},80472:(t,e,r)=>{"use strict";r.d(e,{iv:()=>w});var i=r(92367),n=r(9685),s=r(13015),o=r(4792),a=r.n(o),c=r(40603),h=r(29749),u=r.n(h),f=r(50041),d=r(30816).Buffer;function l(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}class p{constructor(t,e,r){this.key=t;const i=t.substr(0,e?5:4);if(!(0,s.bA)(i))throw new s.E2(t,"Key contains invalid prefix");if(this._key=r((0,s.sA)(this.key,s.O4[i])),this._publicKey=this._key.slice(32),!this._key)throw new s.E2(t,"Unable to decode");this.isInit=this.init()}init(){return l(this,void 0,void 0,(function*(){if(64!==this._key.length){const{publicKey:t,secretKey:e}=(0,c._w)(new Uint8Array(this._key));this._publicKey=t,this._key=e}return!0}))}sign(t,e){return l(this,void 0,void 0,(function*(){yield this.isInit;const r=(0,c.Xx)(new Uint8Array(this._key),new Uint8Array(e)),i=a()(r),n=t+(0,s.Cw)(i);return{bytes:t,sig:(0,s.kM)(r,s.O4.sig),prefixSig:(0,s.kM)(r,s.O4.edsig),sbytes:n}}))}publicKey(){return l(this,void 0,void 0,(function*(){return yield this.isInit,(0,s.kM)(this._publicKey,s.O4.edpk)}))}publicKeyHash(){return l(this,void 0,void 0,(function*(){return yield this.isInit,(0,s.kM)((0,n.hash)(new Uint8Array(this._publicKey),20),s.O4.tz1)}))}secretKey(){return l(this,void 0,void 0,(function*(){yield this.isInit;let t=this._key;const{secretKey:e}=(0,c._w)(new Uint8Array(t).slice(0,32));return t=a()(e),(0,s.kM)(t,s.O4.edsk)}))}}const b={p256:{pk:s.O4.p2pk,sk:s.O4.p2sk,pkh:s.O4.tz3,sig:s.O4.p2sig},secp256k1:{pk:s.O4.sppk,sk:s.O4.spsk,pkh:s.O4.tz2,sig:s.O4.spsig}};class g{constructor(t,e,r,i){this.curve=t,this.key=e;const n=e.substr(0,r?5:4);if(!(0,s.bA)(n))throw new s.E2(e,"Key contains invalid prefix");this._key=i((0,s.sA)(this.key,s.O4[n]));const o=new(u().ec)(this.curve).keyFromPrivate(this._key),c=o.getPublic().getY().toArray(),h=(c.length<32?c[c.length-1]:c[31])%2?3:2,f=new Array(32).fill(0);this._publicKey=a()(new Uint8Array([h].concat(f.concat(o.getPublic().getX().toArray()).slice(-32))))}sign(t,e){return l(this,void 0,void 0,(function*(){const r=new(u().ec)(this.curve).keyFromPrivate(this._key).sign(e,{canonical:!0}),i=r.r.toString("hex",64)+r.s.toString("hex",64),n=t+i;return{bytes:t,sig:(0,s.kM)(i,s.O4.sig),prefixSig:(0,s.kM)(i,b[this.curve].sig),sbytes:n}}))}publicKey(){return l(this,void 0,void 0,(function*(){return(0,s.kM)(this._publicKey,b[this.curve].pk)}))}publicKeyHash(){return l(this,void 0,void 0,(function*(){return(0,s.kM)((0,n.hash)(new Uint8Array(this._publicKey),20),b[this.curve].pkh)}))}secretKey(){return l(this,void 0,void 0,(function*(){const t=this._key;return(0,s.kM)(t,b[this.curve].sk)}))}}const m=g.bind(null,"p256"),y=g.bind(null,"secp256k1");function v(t){return(t||"").normalize("NFKD")}class _ extends Error{constructor(t){super(t),this.message=t,this.name="InvalidPassphraseError"}}class w{constructor(t,e){const r="e"===t.substring(2,3);let n=t=>t;if(r){if(!e)throw new _("Encrypted key provided without a passphrase.");n=t=>{const r=a()(t.slice(0,8)),n=t.slice(8),s=f.pbkdf2Sync(e,r,32768,32,"sha512");return(0,i.openSecretBox)(new Uint8Array(s),new Uint8Array(24),new Uint8Array(n))}}switch(t.substr(0,4)){case"edes":case"edsk":this._key=new p(t,r,n);break;case"spsk":case"spes":this._key=new y(t,r,n);break;case"p2sk":case"p2es":this._key=new m(t,r,n);break;default:throw new s.E2(t,"Unsupported key type")}}static fromFundraiser(t,e,r){const i=function(t,e){const r=d.from(v(t),"utf8"),i=d.from(function(t){return"mnemonic"+(t||"")}(v(e)),"utf8");return f.pbkdf2Sync(r,i,2048,64,"sha512")}(r,`${t}${e}`),n=(0,s.kM)(i.slice(0,32),s.O4.edsk2);return new w(n)}static fromSecretKey(t,e){return l(this,void 0,void 0,(function*(){return new w(t,e)}))}sign(t,e){return l(this,void 0,void 0,(function*(){let r=(0,s.Yu)(t);void 0!==e&&(r=(0,s.dd)(e,r));const i=(0,n.hash)(r,32);return this._key.sign(t,i)}))}publicKey(){return l(this,void 0,void 0,(function*(){return this._key.publicKey()}))}publicKeyHash(){return l(this,void 0,void 0,(function*(){return this._key.publicKeyHash()}))}secretKey(){return l(this,void 0,void 0,(function*(){return this._key.secretKey()}))}}},13015:(t,e,r)=>{"use strict";r.d(e,{$$:()=>f,CX:()=>V,Cw:()=>J,E2:()=>u,IJ:()=>q,JH:()=>p,MT:()=>Q,O4:()=>c,VN:()=>C,W0:()=>z,WU:()=>K,Wo:()=>m,YN:()=>N,Yu:()=>Y,aP:()=>X,aZ:()=>F,bA:()=>x,bS:()=>b,dd:()=>W,kM:()=>$,lM:()=>j,nd:()=>O,oT:()=>i,p:()=>w,pB:()=>B,r9:()=>h,sA:()=>G,vO:()=>U,z:()=>Z,z8:()=>D});var i,n=r(30816),s=(r(40603),r(9685),r(87483),r(80429)),o=r.n(s),a=r(23961);r(29749),r(4792);!function(t){t.TZ1="tz1",t.TZ2="tz2",t.TZ3="tz3",t.TZ4="tz4",t.KT="KT",t.KT1="KT1",t.EDSK2="edsk2",t.SPSK="spsk",t.P2SK="p2sk",t.EDPK="edpk",t.SPPK="sppk",t.P2PK="p2pk",t.BLPK="BLpk",t.EDESK="edesk",t.SPESK="spesk",t.P2ESK="p2esk",t.EDSK="edsk",t.EDSIG="edsig",t.SPSIG="spsig",t.P2SIG="p2sig",t.SIG="sig",t.NET="Net",t.NCE="nce",t.B="B",t.O="o",t.LO="Lo",t.LLO="LLo",t.P="P",t.CO="Co",t.ID="id",t.EXPR="expr",t.TZ="TZ",t.VH="vh",t.SASK="sask",t.ZET1="zet1",t.TXR1="txr1",t.TXI="txi",t.TXM="txm",t.TXC="txc",t.TXMR="txmr",t.TXRL="txM",t.TXW="txw"}(i||(i={}));const c={[i.TZ1]:new Uint8Array([6,161,159]),[i.TZ2]:new Uint8Array([6,161,161]),[i.TZ3]:new Uint8Array([6,161,164]),[i.TZ4]:new Uint8Array([6,161,166]),[i.KT]:new Uint8Array([2,90,121]),[i.KT1]:new Uint8Array([2,90,121]),[i.EDSK]:new Uint8Array([43,246,78,7]),[i.EDSK2]:new Uint8Array([13,15,58,7]),[i.SPSK]:new Uint8Array([17,162,224,201]),[i.P2SK]:new Uint8Array([16,81,238,189]),[i.EDPK]:new Uint8Array([13,15,37,217]),[i.SPPK]:new Uint8Array([3,254,226,86]),[i.P2PK]:new Uint8Array([3,178,139,127]),[i.BLPK]:new Uint8Array([6,149,135,204]),[i.EDESK]:new Uint8Array([7,90,60,179,41]),[i.SPESK]:new Uint8Array([9,237,241,174,150]),[i.P2ESK]:new Uint8Array([9,48,57,115,171]),[i.EDSIG]:new Uint8Array([9,245,205,134,18]),[i.SPSIG]:new Uint8Array([13,115,101,19,63]),[i.P2SIG]:new Uint8Array([54,240,44,52]),[i.SIG]:new Uint8Array([4,130,43]),[i.NET]:new Uint8Array([87,82,0]),[i.NCE]:new Uint8Array([69,220,169]),[i.B]:new Uint8Array([1,52]),[i.O]:new Uint8Array([5,116]),[i.LO]:new Uint8Array([133,233]),[i.LLO]:new Uint8Array([29,159,109]),[i.P]:new Uint8Array([2,170]),[i.CO]:new Uint8Array([79,179]),[i.ID]:new Uint8Array([153,103]),[i.EXPR]:new Uint8Array([13,44,64,27]),[i.TZ]:new Uint8Array([2,90,121]),[i.VH]:new Uint8Array([1,106,242]),[i.SASK]:new Uint8Array([11,237,20,92]),[i.ZET1]:new Uint8Array([18,71,40,223]),[i.TXR1]:new Uint8Array([1,128,120,31]),[i.TXI]:new Uint8Array([79,148,196]),[i.TXM]:new Uint8Array([79,149,30]),[i.TXC]:new Uint8Array([79,148,17]),[i.TXMR]:new Uint8Array([18,7,206,87]),[i.TXRL]:new Uint8Array([79,146,82]),[i.TXW]:new Uint8Array([79,150,72])},h={[i.TZ1]:20,[i.TZ2]:20,[i.TZ3]:20,[i.TZ4]:20,[i.KT]:20,[i.KT1]:20,[i.EDPK]:32,[i.SPPK]:33,[i.P2PK]:33,[i.BLPK]:48,[i.EDSIG]:64,[i.SPSIG]:64,[i.P2SIG]:64,[i.SIG]:64,[i.NET]:4,[i.B]:32,[i.P]:32,[i.O]:32,[i.VH]:32,[i.SASK]:169,[i.ZET1]:43,[i.TXR1]:20,[i.TXI]:32,[i.TXM]:32,[i.TXC]:32,[i.TXMR]:32,[i.TXRL]:32,[i.TXW]:32};class u extends Error{constructor(t,e){super(),this.key=t,this.errorDetail=e,this.name="InvalidKeyError";const r=`The key ${t} is invalid.`;this.message=e?`${r} ${e}`:r}}class f extends Error{constructor(t,e){super(),this.publicKey=t,this.name="InvalidPublicKeyError";const r=`The public key '${t}' is invalid.`;this.message=e?`${r} ${e}`:r}}class d extends Error{constructor(t,e){super(),this.signature=t,this.name="InvalidSignatureError";const r=`The signature '${t}' is invalid.`;this.message=e?`${r} ${e}`:r}}class l extends Error{constructor(t,e){super(),this.msg=t,this.errorDetail=e,this.name="InvalidMessageError";const r=`The message '${t}' is invalid.`;this.message=e?`${r} ${e}`:r}}class p extends Error{constructor(t){super(`The contract address '${t}' is invalid`),this.contractAddress=t,this.name="InvalidContractAddressError"}}class b extends Error{constructor(t,e){super(),this.address=t,this.name="InvalidAddressError";const r=`The address '${t}' is invalid.`;this.message=e?`${r} ${e}`:r}}class g extends Error{constructor(t){super(`The chain id '${t}' is invalid`),this.chainId=t,this.name="InvalidChainIdError"}}class m extends Error{constructor(t){super(`The public key hash '${t}' is invalid`),this.keyHash=t,this.name="InvalidKeyHashError"}}class y extends Error{constructor(t){super(`The block hash '${t}' is invalid`),this.blockHash=t,this.name="InvalidBlockHashError"}}class v extends Error{constructor(t){super(`The protocol hash '${t}' is invalid`),this.protocolHash=t,this.name="InvalidProtocolHashError"}}class _ extends Error{constructor(t){super(`The operation hash '${t}' is invalid`),this.operationHash=t,this.name="InvalidOperationHashError"}}class w extends Error{constructor(t){super(`The operation kind '${t}' is unsupported`),this.operationKind=t,this.name="InvalidOperationKindError"}}class E extends Error{constructor(t){super(t),this.message=t,this.name="DeprecationError"}}class A extends Error{constructor(t){super(t),this.message=t,this.name="ProhibitedActionError"}}class S extends Error{constructor(t,e){super(`Unable to convert ${t} to a ${e}`),this.value=t,this.desiredType=e,this.name="ValueConversionError"}}class T extends Error{constructor(t){super(t),this.message=t,this.name="InvalidHexStringError"}}var O;function x(t){return"string"==typeof t&&t in c}function I(t,e){const r=new RegExp(`^(${e.join("|")})`).exec(t);if(!r||0===r.length)return O.NO_PREFIX_MATCHED;const i=r[0];if(!x(i))return O.NO_PREFIX_MATCHED;const n=/^(KT1\w{33})(%(.*))?/.exec(t);n&&(t=n[1]);let s=o().decodeUnsafe(t);return s?(s=s.slice(c[i].length),s.length!==h[i]?O.INVALID_LENGTH:O.VALID):O.INVALID_CHECKSUM}!function(t){t[t.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",t[t.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",t[t.INVALID_LENGTH=2]="INVALID_LENGTH",t[t.VALID=3]="VALID"}(O||(O={}));const R=[i.TZ1,i.TZ2,i.TZ3,i.TZ4],P=[i.KT1,i.TXR1],L=[i.EDSIG,i.P2SIG,i.SPSIG,i.SIG],M=[i.EDPK,i.SPPK,i.P2PK,i.BLPK],k=(i.O,i.P,[i.B]);function N(t){return I(t,[...R,...P])}function C(t){return I(t,[i.NET])}function U(t){return I(t,R)}function B(t){return I(t,L)}function D(t){return I(t,M)}function j(t){return I(t,k)}function H(t){switch(t){case"tz":return 6;case"mtz":return 3;default:return 0}}function K(t="mutez",e="mutez",r){const i=new a.Z(r);return i.isNaN()?r:i.multipliedBy(Math.pow(10,H(t))).dividedBy(Math.pow(10,H(e)))}function $(t,e){const r="string"==typeof t?Uint8Array.from(n.Buffer.from(t,"hex")):t,i=new Uint8Array(e.length+r.length);return i.set(e),i.set(r,e.length),o().encode(n.Buffer.from(i.buffer))}const G=(t,e)=>o().decode(t).slice(e.length);function F(t){const e=o().decode(t),r={[c.tz1.toString()]:"0000",[c.tz2.toString()]:"0001",[c.tz3.toString()]:"0002"},i={[c.txr1.toString()]:"02"},n=r[new Uint8Array(e.slice(0,3)).toString()],s=i[new Uint8Array(e.slice(0,4)).toString()];if(n){return n+J(e.slice(3))}if(s){return s+J(e.slice(4))+"00"}return"01"+J(e.slice(3,42))+"00"}function V(t){const e=o().decode(t);return J(e.slice(3,42))}function z(t){if("00"===t.substring(0,2)){const e={"0000":c.tz1,"0001":c.tz2,"0002":c.tz3};return $(t.substring(4),e[t.substring(0,4)])}return"02"===t.substring(0,2)?$(t.substring(2,t.length-2),c.txr1):$(t.substring(2,42),c.KT)}function q(t){return $(t,c.tz4)}function Z(t){if("0"===t[0]){const e={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return $(t.substring(2),e[t.substring(0,2)])}}function X(t){if("0"===t[0]){const e={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return $(t.substring(2),e[t.substring(0,2)])}}const Y=t=>{const e=t.match(/[\da-f]{2}/gi);if(e)return new Uint8Array(e.map((t=>parseInt(t,16))));throw new S(t,"Uint8Array")},W=(t,e)=>{const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r},J=t=>{const e=new Uint8Array(t),r=[];return e.forEach((t=>{const e=`00${t.toString(16)}`.slice(-2);r.push(e)})),r.join("")};function Q(t){return t.startsWith("0x")?t.slice(2):t}},77330:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeCheck=e.encodeCheck=e.decode=e.encode=e.validator=e.ChecksumError=e.PrefixError=void 0;const i=r(27832),n=r(64769),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";class o extends Error{name="PrefixError"}e.PrefixError=o;class a extends Error{name="ChecksumError"}function c(t){if(0==t.length)return"";let e=0n;for(const i of t)e=BigInt(i)+(e<<8n);let r="";for(let i=e;i>0n;i/=58n){const t=Number(i%58n);r=s[t]+r}for(let i=0;0==t[i];++i)r=s[0]+r;return r}function h(t){if(!e.validator.test(t))throw new SyntaxError("Invalid Base58 string");let r=0n;for(const e of t){const t=s.indexOf(e);r=58n*r+BigInt(t)}const i=[];for(let e=r;e>0n;e/=256n)i.push(Number(e%256n));for(let e=0;t[e]==s[0];++e)i.push(0);return new Uint8Array(i.reverse())}e.ChecksumError=a,e.validator=/^[1-9A-HJ-NP-Za-km-z]*$/,e.encode=c,e.decode=h,e.encodeCheck=function(t,e=new Uint8Array){const r=(0,n.concat)(e,t),s=i.Sha256.digest(i.Sha256.digest(r)).slice(0,4);return c((0,n.concat)(r,s))},e.decodeCheck=function(t,e=new Uint8Array){const r=h(t),s=r.slice(0,-4),c=i.Sha256.digest(i.Sha256.digest(s)).slice(0,4);if(!(0,n.compare)(c,r.slice(-4)))throw new a("Base58 checksum does not match");if(!(0,n.compare)(s.slice(0,e.length),e))throw new o("Prefix bytes do not match");return s.slice(e.length)}},94096:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blake2b=void 0;const r=[0x6a09e667f3bcc908n,0xbb67ae8584caa73bn,0x3c6ef372fe94f82bn,0xa54ff53a5f1d36f1n,0x510e527fade682d1n,0x9b05688c2b3e6c1fn,0x1f83d9abfb41bd6bn,0x5be0cd19137e2179n],i=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],[11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4],[7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8],[9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13],[2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9],[12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11],[13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10],[6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5],[10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]],n=[[0,4,8,12],[1,5,9,13],[2,6,10,14],[3,7,11,15],[0,5,10,15],[1,6,11,12],[2,7,8,13],[3,4,9,14]];class s{state=new ArrayBuffer(64);buffer=new ArrayBuffer(128);offset=0n;final=!1;counter=0;digestLength;get finalized(){return this.final}constructor(t=new Uint8Array,e=32){if(t.length>64)throw new RangeError("Key must be less than 64 bytes");if(e<0)throw new RangeError("Digest length must be a positive value");if(e>64)throw new RangeError("Digest length must be less than 64 bytes");this.digestLength=e,this.init(t)}init(t){const e=new DataView(this.state);for(let n=0;n<8;++n)e.setBigUint64(8*n,r[n],!0);const i=0x01010000n^e.getBigUint64(0,!0)^BigInt(t.length<<8^this.digestLength);e.setBigUint64(0,i,!0),t.length&&(this.update(t),this.counter=128)}update(t){if(this.final)throw new Error("Cannot update finalized hash function.");const e=new Uint8Array(this.buffer);for(let r=0;r<t.length;++r)128==this.counter&&(this.counter=0,this.offset+=128n,this.compress()),e[this.counter++]=t[r];return this}compress(t=!1){const e=new DataView(this.state),s=new DataView(this.buffer),o=new BigUint64Array(16);for(let r=0;r<8;++r)o[r]=e.getBigUint64(8*r,!0);o.set(r,8),o[12]^=this.offset,o[13]^=this.offset>>64n,t&&(o[14]=~o[14]);const a=(t,e)=>t>>e|t<<64n-e;for(let r=0;r<12;++r){const t=i[r%10];for(let e=0;e<8;++e){const r=s.getBigUint64(8*t[2*e],!0),i=s.getBigUint64(8*t[2*e+1],!0),[c,h,u,f]=n[e];o[c]+=o[h]+r,o[f]=a(o[f]^o[c],32n),o[u]+=o[f],o[h]=a(o[h]^o[u],24n),o[c]+=o[h]+i,o[f]=a(o[f]^o[c],16n),o[u]+=o[f],o[h]=a(o[h]^o[u],63n)}}for(let r=0;r<8;++r){const t=e.getBigUint64(8*r,!0)^o[r]^o[r+8];e.setBigUint64(8*r,t,!0)}}digest(){if(this.final)throw new Error("Cannot re-finalize hash function.");this.offset+=BigInt(this.counter);const t=new Uint8Array(this.buffer);for(;this.counter<128;)t[this.counter++]=0;return this.compress(!0),this.final=!0,new Uint8Array(this.state).slice(0,this.digestLength)}static digest(t,e,r){return new s(e,r).update(t).digest()}}e.Blake2b=s},64769:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat=e.compare=void 0,e.compare=function(t,e){if(t.length!=e.length)return!1;for(const r in t)if(t[r]!=e[r])return!1;return!0},e.concat=function(...t){let e=0;for(const n of t)e+=n instanceof Uint8Array?n.length:1;const r=new Uint8Array(e);let i=0;for(const n of t)n instanceof Uint8Array?(r.set(n,i),i+=n.length):(r[i]=n,i++);return r}},89709:(t,e)=>{"use strict";e.sC=void 0,e.sC=/^[0-9a-fA-F]+$/},44119:(t,e,r)=>{"use strict";e.Base58=void 0,r(89709),e.Base58=r(77330);var i=r(94096);var n=r(27832);var s=r(64769)},27832:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sha256=void 0;const r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];class n{state=new ArrayBuffer(32);buffer=new ArrayBuffer(64);final=!1;counter=0;size=0n;get finalized(){return this.final}constructor(){const t=new DataView(this.state);for(let e=0;e<8;++e)t.setUint32(4*e,r[e],!1)}update(t){if(this.final)throw new Error("Cannot update finalized hash function.");const e=new Uint8Array(this.buffer);this.size+=BigInt(8*t.length);for(let r=0;r<t.length;++r)e[this.counter++]=t[r],64==this.counter&&(this.compress(),this.counter=0);return this}compress(){const t=new DataView(this.state),e=new DataView(this.buffer),r=(t,e)=>t>>>e|t<<32-e,n=(t,e,r)=>t&e^~t&r,s=(t,e,r)=>t&e^t&r^e&r,o=t=>r(t,2)^r(t,13)^r(t,22),a=t=>r(t,6)^r(t,11)^r(t,25),c=t=>r(t,7)^r(t,18)^t>>>3,h=new Uint32Array(64);for(let i=0;i<16;++i)h[i]=e.getUint32(4*i,!1);for(let i=16;i<64;++i)h[i]=(u=h[i-2],(r(u,17)^r(u,19)^u>>>10)+h[i-7]+c(h[i-15])+h[i-16]);var u;const f=new Uint32Array(8);for(let i=0;i<8;++i)f[i]=t.getUint32(4*i,!1);for(let d=0;d<64;++d){const t=f[7]+a(f[4])+n(f[4],f[5],f[6])+i[d]+h[d],e=o(f[0])+s(f[0],f[1],f[2]);f[7]=f[6],f[6]=f[5],f[5]=f[4],f[4]=f[3]+t,f[3]=f[2],f[2]=f[1],f[1]=f[0],f[0]=t+e}for(let i=0;i<8;++i){const e=t.getUint32(4*i,!1)+f[i];t.setUint32(4*i,e,!1)}}digest(){const t=new Uint8Array(this.state);if(this.final)return t;const e=new DataView(this.buffer);if(e.setUint8(this.counter++,128),this.counter>56){for(;this.counter<64;)e.setUint8(this.counter++,0);this.compress(),this.counter=0}for(;this.counter<56;)e.setUint8(this.counter++,0);return e.setBigUint64(56,this.size,!1),this.compress(),this.final=!0,t}static digest(t){return(new n).update(t).digest()}}e.Sha256=n},14206:(t,e,r)=>{t.exports=r(8057)},14387:(t,e,r)=>{"use strict";var i=r(67485),n=r(94570),s=r(12940),o=r(60581),a=r(30574),c=r(53845),h=r(38338),u=r(68524),f=r(74832),d=r(37132);t.exports=function(t){return new Promise((function(e,r){var l,p=t.data,b=t.headers,g=t.responseType;function m(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}i.isFormData(p)&&delete b["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";b.Authorization="Basic "+btoa(v+":"+_)}var w=a(t.baseURL,t.url);function E(){if(y){var i="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,s={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:i,config:t,request:y};n((function(t){e(t),m()}),(function(t){r(t),m()}),s),y=null}}if(y.open(t.method.toUpperCase(),o(w,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(r(u("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(u("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||f;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(u(e,t,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var A=(t.withCredentials||h(w))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;A&&(b[t.xsrfHeaderName]=A)}"setRequestHeader"in y&&i.forEach(b,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete b[e]:y.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(t){y&&(r(!t||t&&t.type?new d("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),p||(p=null),y.send(p)}))}},8057:(t,e,r)=>{"use strict";var i=r(67485),n=r(875),s=r(25029),o=r(44941);var a=function t(e){var r=new s(e),a=n(s.prototype.request,r);return i.extend(a,s.prototype,r),i.extend(a,r),a.create=function(r){return t(o(e,r))},a}(r(98396));a.Axios=s,a.Cancel=r(37132),a.CancelToken=r(34603),a.isCancel=r(21475),a.VERSION=r(73345).version,a.all=function(t){return Promise.all(t)},a.spread=r(35739),a.isAxiosError=r(35835),t.exports=a,t.exports.default=a},37132:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},34603:(t,e,r)=>{"use strict";var i=r(37132);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,i=r._listeners.length;for(e=0;e<i;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,i=new Promise((function(t){r.subscribe(t),e=t})).then(t);return i.cancel=function(){r.unsubscribe(e)},i},t((function(t){r.reason||(r.reason=new i(t),e(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},n.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},21475:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},25029:(t,e,r)=>{"use strict";var i=r(67485),n=r(60581),s=r(68096),o=r(55009),a=r(44941),c=r(36144),h=c.validators;function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:h.transitional(h.boolean),forcedJSONParsing:h.transitional(h.boolean),clarifyTimeoutError:h.transitional(h.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!n){var f=[o,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(u),s=Promise.resolve(e);f.length;)s=s.then(f.shift(),f.shift());return s}for(var d=e;i.length;){var l=i.shift(),p=i.shift();try{d=l(d)}catch(b){p(b);break}}try{s=o(d)}catch(b){return Promise.reject(b)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},u.prototype.getUri=function(t){return t=a(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,r,i){return this.request(a(i||{},{method:t,url:e,data:r}))}})),t.exports=u},68096:(t,e,r)=>{"use strict";var i=r(67485);function n(){this.handlers=[]}n.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},30574:(t,e,r)=>{"use strict";var i=r(32642),n=r(72288);t.exports=function(t,e){return t&&!i(e)?n(t,e):e}},68524:(t,e,r)=>{"use strict";var i=r(69953);t.exports=function(t,e,r,n,s){var o=new Error(t);return i(o,e,r,n,s)}},55009:(t,e,r)=>{"use strict";var i=r(67485),n=r(9212),s=r(21475),o=r(98396),a=r(37132);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return c(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(c(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},69953:t=>{"use strict";t.exports=function(t,e,r,i,n){return t.config=e,r&&(t.code=r),t.request=i,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},44941:(t,e,r)=>{"use strict";var i=r(67485);t.exports=function(t,e){e=e||{};var r={};function n(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function s(r){return i.isUndefined(e[r])?i.isUndefined(t[r])?void 0:n(void 0,t[r]):n(t[r],e[r])}function o(t){if(!i.isUndefined(e[t]))return n(void 0,e[t])}function a(r){return i.isUndefined(e[r])?i.isUndefined(t[r])?void 0:n(void 0,t[r]):n(void 0,e[r])}function c(r){return r in e?n(t[r],e[r]):r in t?n(void 0,t[r]):void 0}var h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return i.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=h[t]||s,n=e(t);i.isUndefined(n)&&e!==c||(r[t]=n)})),r}},94570:(t,e,r)=>{"use strict";var i=r(68524);t.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(i("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},9212:(t,e,r)=>{"use strict";var i=r(67485),n=r(98396);t.exports=function(t,e,r){var s=this||n;return i.forEach(r,(function(r){t=r.call(s,t,e)})),t}},98396:(t,e,r)=>{"use strict";var i=r(67485),n=r(51446),s=r(69953),o=r(74832),a={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var h,u={transitional:o,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=r(14387)),h),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(c(e,"application/json"),function(t,e,r){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(a)})),t.exports=u},74832:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},73345:t=>{t.exports={version:"0.26.1"}},875:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(e,r)}}},60581:(t,e,r)=>{"use strict";var i=r(67485);function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(i.isURLSearchParams(e))s=e.toString();else{var o=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},72288:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},12940:(t,e,r)=>{"use strict";var i=r(67485);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,r,n,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},35835:(t,e,r)=>{"use strict";var i=r(67485);t.exports=function(t){return i.isObject(t)&&!0===t.isAxiosError}},38338:(t,e,r)=>{"use strict";var i=r(67485);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var i=t;return e&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=i.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},51446:(t,e,r)=>{"use strict";var i=r(67485);t.exports=function(t,e){i.forEach(t,(function(r,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[i])}))}},53845:(t,e,r)=>{"use strict";var i=r(67485),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,s,o={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),r=i.trim(t.substr(s+1)),e){if(o[e]&&n.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},35739:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},36144:(t,e,r)=>{"use strict";var i=r(73345).version,n={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){n[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var s={};n.transitional=function(t,e,r){function n(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,i,o){if(!1===t)throw new Error(n(i," has been removed"+(e?" in "+e:"")));return e&&!s[i]&&(s[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),n=i.length;n-- >0;){var s=i[n],o=e[s];if(o){var a=t[s],c=void 0===a||o(a,s,t);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:n}},67485:(t,e,r)=>{"use strict";var i=r(875),n=Object.prototype.toString;function s(t){return Array.isArray(t)}function o(t){return void 0===t}function a(t){return"[object ArrayBuffer]"===n.call(t)}function c(t){return null!==t&&"object"==typeof t}function h(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===n.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:s,isArrayBuffer:a,isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===n.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&a(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:h,isUndefined:o,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:u,isStream:function(t){return c(t)&&u(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===n.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function t(){var e={};function r(r,i){h(e[i])&&h(r)?e[i]=t(e[i],r):h(r)?e[i]=t({},r):s(r)?e[i]=r.slice():e[i]=r}for(var i=0,n=arguments.length;i<n;i++)f(arguments[i],r);return e},extend:function(t,e,r){return f(e,(function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},92062:(t,e,r)=>{"use strict";var i=r(27172).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=n}var a=t.length,c=t.charAt(0),h=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return i.alloc(0);for(var r=0,n=0,s=0;t[r]===c;)n++,r++;for(var o=(t.length-r)*h+1>>>0,u=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var d=0,l=o-1;(0!==f||d<s)&&-1!==l;l--,d++)f+=a*u[l]>>>0,u[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=d,r++}for(var p=o-s;p!==o&&0===u[p];)p++;var b=i.allocUnsafe(n+(o-p));b.fill(0,0,n);for(var g=n;p!==o;)b[g++]=u[p++];return b}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,n=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*u+1>>>0,f=new Uint8Array(h);s!==o;){for(var d=e[s],l=0,p=h-1;(0!==d||l<n)&&-1!==p;p--,l++)d+=256*f[p]>>>0,f[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=l,s++}for(var b=h-n;b!==h&&0===f[b];)b++;for(var g=c.repeat(r);b<h;++b)g+=t.charAt(f[b]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},24782:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){var e,r,s=c(t),o=s[0],a=s[1],h=new n(function(t,e,r){return 3*(e+r)/4-r}(0,o,a)),u=0,f=a>0?o-4:o;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[u++]=255&e);1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e);return h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=16383,a=0,c=i-n;a<c;a+=o)s.push(h(t,a,a+o>c?c:a+o));1===n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},56395:(t,e,r)=>{const i=r(13973);function n(t,e,r){const i=t[e]+t[r];let n=t[e+1]+t[r+1];i>=4294967296&&n++,t[e]=i,t[e+1]=n}function s(t,e,r,i){let n=t[e]+r;r<0&&(n+=4294967296);let s=t[e+1]+i;n>=4294967296&&s++,t[e]=n,t[e+1]=s}function o(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,i,o,a){const c=f[o],h=f[o+1],d=f[a],l=f[a+1];n(u,t,e),s(u,t,c,h);let p=u[i]^u[t],b=u[i+1]^u[t+1];u[i]=b,u[i+1]=p,n(u,r,i),p=u[e]^u[r],b=u[e+1]^u[r+1],u[e]=p>>>24^b<<8,u[e+1]=b>>>24^p<<8,n(u,t,e),s(u,t,d,l),p=u[i]^u[t],b=u[i+1]^u[t+1],u[i]=p>>>16^b<<16,u[i+1]=b>>>16^p<<16,n(u,r,i),p=u[e]^u[r],b=u[e+1]^u[r+1],u[e]=b>>>31^p<<1,u[e+1]=p>>>31^b<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),u=new Uint32Array(32),f=new Uint32Array(32);function d(t,e){let r=0;for(r=0;r<16;r++)u[r]=t.h[r],u[r+16]=c[r];for(u[24]=u[24]^t.t,u[25]=u[25]^t.t/4294967296,e&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)f[r]=o(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,h[16*r+0],h[16*r+1]),a(2,10,18,26,h[16*r+2],h[16*r+3]),a(4,12,20,28,h[16*r+4],h[16*r+5]),a(6,14,22,30,h[16*r+6],h[16*r+7]),a(0,10,20,30,h[16*r+8],h[16*r+9]),a(2,12,22,24,h[16*r+10],h[16*r+11]),a(4,14,16,26,h[16*r+12],h[16*r+13]),a(6,8,18,28,h[16*r+14],h[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^u[r]^u[r+16]}const l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(t,e,r,i){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(i&&16!==i.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};l.fill(0),l[0]=t,e&&(l[1]=e.length),l[2]=1,l[3]=1,r&&l.set(r,32),i&&l.set(i,48);for(let s=0;s<16;s++)n.h[s]=c[s]^o(l,4*s);return e&&(b(n,e),n.c=128),n}function b(t,e){for(let r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,d(t,!1),t.c=0),t.b[t.c++]=e[r]}function g(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;d(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function m(t,e,r,n,s){r=r||64,t=i.normalizeInput(t),n&&(n=i.normalizeInput(n)),s&&(s=i.normalizeInput(s));const o=p(r,e,n,s);return b(o,t),g(o)}t.exports={blake2b:m,blake2bHex:function(t,e,r,n,s){const o=m(t,e,r,n,s);return i.toHex(o)},blake2bInit:p,blake2bUpdate:b,blake2bFinal:g}},16009:(t,e,r)=>{const i=r(13973);function n(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function s(t,e,r,i,n,s){h[t]=h[t]+h[e]+n,h[i]=o(h[i]^h[t],16),h[r]=h[r]+h[i],h[e]=o(h[e]^h[r],12),h[t]=h[t]+h[e]+s,h[i]=o(h[i]^h[t],8),h[r]=h[r]+h[i],h[e]=o(h[e]^h[r],7)}function o(t,e){return t>>>e^t<<32-e}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),h=new Uint32Array(16),u=new Uint32Array(16);function f(t,e){let r=0;for(r=0;r<8;r++)h[r]=t.h[r],h[r+8]=a[r];for(h[12]^=t.t,h[13]^=t.t/4294967296,e&&(h[14]=~h[14]),r=0;r<16;r++)u[r]=n(t.b,4*r);for(r=0;r<10;r++)s(0,4,8,12,u[c[16*r+0]],u[c[16*r+1]]),s(1,5,9,13,u[c[16*r+2]],u[c[16*r+3]]),s(2,6,10,14,u[c[16*r+4]],u[c[16*r+5]]),s(3,7,11,15,u[c[16*r+6]],u[c[16*r+7]]),s(0,5,10,15,u[c[16*r+8]],u[c[16*r+9]]),s(1,6,11,12,u[c[16*r+10]],u[c[16*r+11]]),s(2,7,8,13,u[c[16*r+12]],u[c[16*r+13]]),s(3,4,9,14,u[c[16*r+14]],u[c[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=h[r]^h[r+8]}function d(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const i={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:t};return i.h[0]^=16842752^r<<8^t,r>0&&(l(i,e),i.c=64),i}function l(t,e){for(let r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,f(t,!1),t.c=0),t.b[t.c++]=e[r]}function p(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;f(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function b(t,e,r){r=r||32,t=i.normalizeInput(t);const n=d(r,e);return l(n,t),p(n)}t.exports={blake2s:b,blake2sHex:function(t,e,r){const n=b(t,e,r);return i.toHex(n)},blake2sInit:d,blake2sUpdate:l,blake2sFinal:p}},87483:(t,e,r)=>{const i=r(56395),n=r(16009);t.exports={blake2b:i.blake2b,blake2bHex:i.blake2bHex,blake2bInit:i.blake2bInit,blake2bUpdate:i.blake2bUpdate,blake2bFinal:i.blake2bFinal,blake2s:n.blake2s,blake2sHex:n.blake2sHex,blake2sInit:n.blake2sInit,blake2sUpdate:n.blake2sUpdate,blake2sFinal:n.blake2sFinal}},13973:t=>{function e(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){let e;if(t instanceof Uint8Array)e=t;else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");e=(new TextEncoder).encode(t)}return e},toHex:function(t){return Array.prototype.map.call(t,(function(t){return(t<16?"0":"")+t.toString(16)})).join("")},debugPrint:function(t,r,i){let n="\n"+t+" = ";for(let s=0;s<r.length;s+=2){if(32===i)n+=e(r[s]).toUpperCase(),n+=" ",n+=e(r[s+1]).toUpperCase();else{if(64!==i)throw new Error("Invalid size "+i);n+=e(r[s+1]).toUpperCase(),n+=e(r[s]).toUpperCase()}s%6==4?n+="\n"+new Array(t.length+4).join(" "):s<r.length-2&&(n+=" ")}console.log(n)},testSpeed:function(t,e,r){let i=(new Date).getTime();const n=new Uint8Array(e);for(let o=0;o<e;o++)n[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-i)+"ms"),i=s;for(let o=0;o<r;o++){const r=t(n),s=(new Date).getTime(),o=s-i;i=s,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},63785:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(45545).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=c(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=c(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=i)c=h(t,u,u+i,e),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=h(t,u,t.length,e),u=0;u<o;u++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var u=c>>>26,f=67108863&c,d=Math.min(h,e.length-1),l=Math.max(0,h-t.length+1);l<=d;l++){var p=h-l|0;u+=(o=(n=0|t.words[p])*(s=0|e.words[l])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,c=0|u}return 0!==c?r.words[h]=0|c:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<n|s)).toString(16);r=0!==(s=a>>>24-n&16777215)||o!==this.length-1?u[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(t);r=(p=p.idivn(l)).isZero()?b+r:u[h-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===e,h=new t(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,c=r.words,h=0,u=0|o[0],f=8191&u,d=u>>>13,l=0|o[1],p=8191&l,b=l>>>13,g=0|o[2],m=8191&g,y=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,E=0|o[4],A=8191&E,S=E>>>13,T=0|o[5],O=8191&T,x=T>>>13,I=0|o[6],R=8191&I,P=I>>>13,L=0|o[7],M=8191&L,k=L>>>13,N=0|o[8],C=8191&N,U=N>>>13,B=0|o[9],D=8191&B,j=B>>>13,H=0|a[0],K=8191&H,$=H>>>13,G=0|a[1],F=8191&G,V=G>>>13,z=0|a[2],q=8191&z,Z=z>>>13,X=0|a[3],Y=8191&X,W=X>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ct=8191&at,ht=at>>>13,ut=0|a[8],ft=8191&ut,dt=ut>>>13,lt=0|a[9],pt=8191&lt,bt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,K))|0)+((8191&(n=(n=Math.imul(f,$))+Math.imul(d,K)|0))<<13)|0;h=((s=Math.imul(d,$))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,K),n=(n=Math.imul(p,$))+Math.imul(b,K)|0,s=Math.imul(b,$);var mt=(h+(i=i+Math.imul(f,F)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(d,F)|0))<<13)|0;h=((s=s+Math.imul(d,V)|0)+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(m,K),n=(n=Math.imul(m,$))+Math.imul(y,K)|0,s=Math.imul(y,$),i=i+Math.imul(p,F)|0,n=(n=n+Math.imul(p,V)|0)+Math.imul(b,F)|0,s=s+Math.imul(b,V)|0;var yt=(h+(i=i+Math.imul(f,q)|0)|0)+((8191&(n=(n=n+Math.imul(f,Z)|0)+Math.imul(d,q)|0))<<13)|0;h=((s=s+Math.imul(d,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(_,K),n=(n=Math.imul(_,$))+Math.imul(w,K)|0,s=Math.imul(w,$),i=i+Math.imul(m,F)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(y,F)|0,s=s+Math.imul(y,V)|0,i=i+Math.imul(p,q)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,Z)|0;var vt=(h+(i=i+Math.imul(f,Y)|0)|0)+((8191&(n=(n=n+Math.imul(f,W)|0)+Math.imul(d,Y)|0))<<13)|0;h=((s=s+Math.imul(d,W)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,K),n=(n=Math.imul(A,$))+Math.imul(S,K)|0,s=Math.imul(S,$),i=i+Math.imul(_,F)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(w,F)|0,s=s+Math.imul(w,V)|0,i=i+Math.imul(m,q)|0,n=(n=n+Math.imul(m,Z)|0)+Math.imul(y,q)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(b,Y)|0,s=s+Math.imul(b,W)|0;var _t=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(d,Q)|0))<<13)|0;h=((s=s+Math.imul(d,tt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(O,K),n=(n=Math.imul(O,$))+Math.imul(x,K)|0,s=Math.imul(x,$),i=i+Math.imul(A,F)|0,n=(n=n+Math.imul(A,V)|0)+Math.imul(S,F)|0,s=s+Math.imul(S,V)|0,i=i+Math.imul(_,q)|0,n=(n=n+Math.imul(_,Z)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,Z)|0,i=i+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,W)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0;var wt=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(d,rt)|0))<<13)|0;h=((s=s+Math.imul(d,it)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(R,K),n=(n=Math.imul(R,$))+Math.imul(P,K)|0,s=Math.imul(P,$),i=i+Math.imul(O,F)|0,n=(n=n+Math.imul(O,V)|0)+Math.imul(x,F)|0,s=s+Math.imul(x,V)|0,i=i+Math.imul(A,q)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(_,Y)|0,n=(n=n+Math.imul(_,W)|0)+Math.imul(w,Y)|0,s=s+Math.imul(w,W)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0;var Et=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(d,st)|0))<<13)|0;h=((s=s+Math.imul(d,ot)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(M,K),n=(n=Math.imul(M,$))+Math.imul(k,K)|0,s=Math.imul(k,$),i=i+Math.imul(R,F)|0,n=(n=n+Math.imul(R,V)|0)+Math.imul(P,F)|0,s=s+Math.imul(P,V)|0,i=i+Math.imul(O,q)|0,n=(n=n+Math.imul(O,Z)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,Z)|0,i=i+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,W)|0)+Math.imul(S,Y)|0,s=s+Math.imul(S,W)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0;var At=(h+(i=i+Math.imul(f,ct)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(d,ct)|0))<<13)|0;h=((s=s+Math.imul(d,ht)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(C,K),n=(n=Math.imul(C,$))+Math.imul(U,K)|0,s=Math.imul(U,$),i=i+Math.imul(M,F)|0,n=(n=n+Math.imul(M,V)|0)+Math.imul(k,F)|0,s=s+Math.imul(k,V)|0,i=i+Math.imul(R,q)|0,n=(n=n+Math.imul(R,Z)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,Z)|0,i=i+Math.imul(O,Y)|0,n=(n=n+Math.imul(O,W)|0)+Math.imul(x,Y)|0,s=s+Math.imul(x,W)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,it)|0,i=i+Math.imul(m,st)|0,n=(n=n+Math.imul(m,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(b,ct)|0,s=s+Math.imul(b,ht)|0;var St=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,dt)|0)+Math.imul(d,ft)|0))<<13)|0;h=((s=s+Math.imul(d,dt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,K),n=(n=Math.imul(D,$))+Math.imul(j,K)|0,s=Math.imul(j,$),i=i+Math.imul(C,F)|0,n=(n=n+Math.imul(C,V)|0)+Math.imul(U,F)|0,s=s+Math.imul(U,V)|0,i=i+Math.imul(M,q)|0,n=(n=n+Math.imul(M,Z)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,Z)|0,i=i+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,W)|0,i=i+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(A,rt)|0,n=(n=n+Math.imul(A,it)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(_,st)|0,n=(n=n+Math.imul(_,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,i=i+Math.imul(m,ct)|0,n=(n=n+Math.imul(m,ht)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,dt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,dt)|0;var Tt=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,bt)|0)+Math.imul(d,pt)|0))<<13)|0;h=((s=s+Math.imul(d,bt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,F),n=(n=Math.imul(D,V))+Math.imul(j,F)|0,s=Math.imul(j,V),i=i+Math.imul(C,q)|0,n=(n=n+Math.imul(C,Z)|0)+Math.imul(U,q)|0,s=s+Math.imul(U,Z)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Y)|0,s=s+Math.imul(k,W)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,tt)|0,i=i+Math.imul(O,rt)|0,n=(n=n+Math.imul(O,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(A,st)|0,n=(n=n+Math.imul(A,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(_,ct)|0,n=(n=n+Math.imul(_,ht)|0)+Math.imul(w,ct)|0,s=s+Math.imul(w,ht)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,dt)|0)+Math.imul(y,ft)|0,s=s+Math.imul(y,dt)|0;var Ot=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,bt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,q),n=(n=Math.imul(D,Z))+Math.imul(j,q)|0,s=Math.imul(j,Z),i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(U,Y)|0,s=s+Math.imul(U,W)|0,i=i+Math.imul(M,Q)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,i=i+Math.imul(R,rt)|0,n=(n=n+Math.imul(R,it)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,it)|0,i=i+Math.imul(O,st)|0,n=(n=n+Math.imul(O,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(A,ct)|0,n=(n=n+Math.imul(A,ht)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,ht)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,dt)|0)+Math.imul(w,ft)|0,s=s+Math.imul(w,dt)|0;var xt=(h+(i=i+Math.imul(m,pt)|0)|0)+((8191&(n=(n=n+Math.imul(m,bt)|0)+Math.imul(y,pt)|0))<<13)|0;h=((s=s+Math.imul(y,bt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,Y),n=(n=Math.imul(D,W))+Math.imul(j,Y)|0,s=Math.imul(j,W),i=i+Math.imul(C,Q)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,it)|0,i=i+Math.imul(R,st)|0,n=(n=n+Math.imul(R,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,i=i+Math.imul(O,ct)|0,n=(n=n+Math.imul(O,ht)|0)+Math.imul(x,ct)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(A,ft)|0,n=(n=n+Math.imul(A,dt)|0)+Math.imul(S,ft)|0,s=s+Math.imul(S,dt)|0;var It=(h+(i=i+Math.imul(_,pt)|0)|0)+((8191&(n=(n=n+Math.imul(_,bt)|0)+Math.imul(w,pt)|0))<<13)|0;h=((s=s+Math.imul(w,bt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(j,Q)|0,s=Math.imul(j,tt),i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,it)|0,i=i+Math.imul(M,st)|0,n=(n=n+Math.imul(M,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,i=i+Math.imul(R,ct)|0,n=(n=n+Math.imul(R,ht)|0)+Math.imul(P,ct)|0,s=s+Math.imul(P,ht)|0,i=i+Math.imul(O,ft)|0,n=(n=n+Math.imul(O,dt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,dt)|0;var Rt=(h+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,bt)|0)+Math.imul(S,pt)|0))<<13)|0;h=((s=s+Math.imul(S,bt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(j,rt)|0,s=Math.imul(j,it),i=i+Math.imul(C,st)|0,n=(n=n+Math.imul(C,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,ht)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,ht)|0,i=i+Math.imul(R,ft)|0,n=(n=n+Math.imul(R,dt)|0)+Math.imul(P,ft)|0,s=s+Math.imul(P,dt)|0;var Pt=(h+(i=i+Math.imul(O,pt)|0)|0)+((8191&(n=(n=n+Math.imul(O,bt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,bt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(D,st),n=(n=Math.imul(D,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,ht)|0)+Math.imul(U,ct)|0,s=s+Math.imul(U,ht)|0,i=i+Math.imul(M,ft)|0,n=(n=n+Math.imul(M,dt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,dt)|0;var Lt=(h+(i=i+Math.imul(R,pt)|0)|0)+((8191&(n=(n=n+Math.imul(R,bt)|0)+Math.imul(P,pt)|0))<<13)|0;h=((s=s+Math.imul(P,bt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(D,ct),n=(n=Math.imul(D,ht))+Math.imul(j,ct)|0,s=Math.imul(j,ht),i=i+Math.imul(C,ft)|0,n=(n=n+Math.imul(C,dt)|0)+Math.imul(U,ft)|0,s=s+Math.imul(U,dt)|0;var Mt=(h+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,bt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,bt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,dt))+Math.imul(j,ft)|0,s=Math.imul(j,dt);var kt=(h+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,bt)|0)+Math.imul(U,pt)|0))<<13)|0;h=((s=s+Math.imul(U,bt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Nt=(h+(i=Math.imul(D,pt))|0)+((8191&(n=(n=Math.imul(D,bt))+Math.imul(j,pt)|0))<<13)|0;return h=((s=Math.imul(j,bt))+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=gt,c[1]=mt,c[2]=yt,c[3]=vt,c[4]=_t,c[5]=wt,c[6]=Et,c[7]=At,c[8]=St,c[9]=Tt,c[10]=Ot,c[11]=xt,c[12]=It,c[13]=Rt,c[14]=Pt,c[15]=Lt,c[16]=Mt,c[17]=kt,c[18]=Nt,0!==h&&(c[19]=h,r.length++),r};function b(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=l),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?l(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,c=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=c;h++){var u=s-h,f=(0|t.words[u])*(0|e.words[h]),d=67108863&f;a=67108863&(d=d+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):b(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var f=c,d=h,l=0;l<o;l++){var p=r[u+l],b=i[u+l],g=r[u+l+o],m=i[u+l+o],y=f*g-d*m;m=f*m+d*g,g=y,r[u+l]=p+g,i[u+l]=b+m,r[u+l+o]=p-g,i[u+l+o]=b-m,l!==a&&(y=c*f-h*d,d=c*d+h*f,f=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),c=new Array(i),h=new Array(i),u=new Array(i),f=new Array(i),d=r.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,c,i,n),this.transform(h,s,u,f,i,n);for(var l=0;l<i;l++){var p=a[l]*u[l]-c[l]*f[l];c[l]=a[l]*f[l]+c[l]*u[l],a[l]=p}return this.conjugate(a,c,i),this.transform(a,c,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),b(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<r;this.words[e]=c|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(n-=o,n=Math.max(0,n),c){for(var h=0;h<o;h++)c.words[h]=this.words[h];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var u=0;for(h=this.length-1;h>=0&&(0!==u||h>=n);h--){var f=0|this.words[h];this.words[h]=u<<26-s|f>>>s,u=f&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r)&&!!(this.words[r]&n)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var c=(0|t.words[n])*e;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==e){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(n,d,f);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),c=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var u=r.clone(),f=e.clone();!e.isZero();){for(var d=0,l=1;0==(e.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(f)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(c)):(r.isub(e),a.isub(n),c.isub(o))}return{a:a,b:c,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,u=1;0==(e.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(w,y),n(E,y),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new _;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return m[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),c=a.redNeg(),h=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,h).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,n),d=this.pow(t,n.addn(1).iushrn(1)),l=this.pow(t,n),p=o;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();i(g<p);var m=this.pow(f,new s(1).iushln(p-g-1));d=d.redMul(m),f=m.redSqr(),l=l.redMul(f),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],u=c-1;u>=0;u--){var f=h>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}c=26}return n},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},n(S,A),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},59154:(t,e,r)=>{var i;function n(t){this.rand=t}if(t.exports=function(t){return i||(i=new n(null)),i.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(46047);if("function"!=typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return s.randomBytes(t)}}catch(o){}},37209:(t,e,r)=>{var i=r(92062);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},37320:(t,e,r)=>{"use strict";var i=r(37209),n=r(27172).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),i=e.slice(-4),n=t(r);if(!(i[0]^n[0]|i[1]^n[1]|i[2]^n[2]|i[3]^n[3]))return r}return{encode:function(e){var r=t(e);return i.encode(n.concat([e,r],e.length+4))},decode:function(t){var r=e(i.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=i.decodeUnsafe(t);if(r)return e(r)}}}},80429:(t,e,r)=>{"use strict";var i=r(57266),n=r(37320);t.exports=n((function(t){var e=i("sha256").update(t).digest();return i("sha256").update(e).digest()}))},30816:(t,e,r)=>{"use strict";const i=r(24782),n=r(78898),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|b(t,e);let i=a(r);const n=i.write(t,e);n!==r&&(i=i.slice(0,n));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return l(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return l(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return c.from(i,e,r);const n=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return u(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let i=0;i<e;i+=1)r[i]=255&t[i];return r}function l(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,c.prototype),i}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function b(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(n)return i?-1:z(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function y(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:v(t,e,r,i,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,i,n){let s,o=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let i=-1;for(s=r;s<a;s++)if(h(t,s)===h(e,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===c)return i*o}else-1!==i&&(s-=s-i),i=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let i=0;i<c;i++)if(h(t,s+i)!==h(e,i)){r=!1;break}if(r)return s}return-1}function _(t,e,r,i){r=Number(r)||0;const n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;const s=e.length;let o;for(i>s/2&&(i=s/2),o=0;o<i;++o){const i=parseInt(e.substr(2*o,2),16);if(Y(i))return o;t[r+o]=i}return o}function w(t,e,r,i){return Z(z(e,t.length-r),t,r,i)}function E(t,e,r,i){return Z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function A(t,e,r,i){return Z(q(e),t,r,i)}function S(t,e,r,i){return Z(function(t,e){let r,i,n;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}(e,t.length-r),t,r,i)}function T(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);const i=[];let n=e;for(;n<r;){const e=t[n];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=r){let r,i,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[n+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(s=c));break;case 3:r=t[n+1],i=t[n+2],128==(192&r)&&128==(192&i)&&(c=(15&e)<<12|(63&r)<<6|63&i,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=t[n+1],i=t[n+2],a=t[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&i)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=x));return r}(i)}e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const i=c.allocUnsafe(e);let n=0;for(r=0;r<t.length;++r){let e=t[r];if(X(e,Uint8Array))n+e.length>i.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(i,n)):Uint8Array.prototype.set.call(i,e,n);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,n)}n+=e.length}return i},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,i,n){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),h=this.slice(i,n),u=t.slice(e,r);for(let c=0;c<a;++c)if(h[c]!==u[c]){s=h[c],o=u[c];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function I(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function R(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function P(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let s=e;s<r;++s)n+=W[t[s]];return n}function L(t,e,r){const i=t.slice(e,r);let n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,i,n,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function N(t,e,r,i,n){$(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,i,n){$(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function U(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,i,s){return e=+e,r>>>=0,s||U(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function D(t,e,r,i,s){return e=+e,r>>>=0,s||U(t,0,r,8),n.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let i=this[t+--e],n=1;for(;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||F(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||F(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let i=e,n=1,s=this[t+--i];for(;i>0&&(n*=256);)s+=this[t+--i]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||F(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||F(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){k(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=1,s=0;for(this[e]=255&t;++s<r&&(n*=256);)this[e+s]=t/n&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){k(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=r-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=J((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}let n=0,s=1,o=0;for(this[e]=255&t;++n<r&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=J((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);const n=i-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),n},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let n;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{const s=c.isBuffer(t)?t:c.from(t,i),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=s[n%o]}return this};const j={};function H(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function K(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,i,n,s){if(t>r||t<e){const i="bigint"==typeof e?"n":"";let n;throw n=s>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(s+1)}${i}`:`>= -(2${i} ** ${8*(s+1)-1}${i}) and < 2 ** ${8*(s+1)-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new j.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,r){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||F(e,t.length-(r+1))}(i,n,s)}function G(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function F(t,e,r){if(Math.floor(t)!==t)throw G(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=K(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=K(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function z(t,e){let r;e=e||1/0;const i=t.length;let n=null;const s=[];for(let o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function q(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const W=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},73081:(t,e,r)=>{var i=r(27172).Buffer,n=r(83424).Transform,s=r(34361).s;function o(t){n.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(70087)(o,n),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=i.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i},t.exports=o},60042:(t,e)=>{var r;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var s=typeof r;if("string"===s||"number"===s)t.push(r);else if(Array.isArray(r)){if(r.length){var o=n.apply(null,r);o&&t.push(o)}}else if("object"===s){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)}()},57266:(t,e,r)=>{"use strict";var i=r(70087),n=r(79500),s=r(86558),o=r(54458),a=r(73081);function c(t){a.call(this,"digest"),this._hash=t}i(c,a),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new n:"rmd160"===t||"ripemd160"===t?new s:new c(o(t))}},37401:(t,e,r)=>{var i=r(79500);t.exports=function(t){return(new i).update(t).digest()}},29749:(t,e,r)=>{"use strict";var i=e;i.version=r(80312).i8,i.utils=r(53369),i.rand=r(59154),i.curve=r(41530),i.curves=r(61044),i.ec=r(17354),i.eddsa=r(11680)},50763:(t,e,r)=>{"use strict";var i=r(63785),n=r(53369),s=n.getNAF,o=n.getJSF,a=n.assert;function c(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),i=s(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var o,c,h=[];for(o=0;o<i.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+i[u];h.push(c)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=n;l>0;l--){for(o=0;o<h.length;o++)(c=h[o])===l?d=d.mixedAdd(r.points[o]):c===-l&&(d=d.mixedAdd(r.points[o].neg()));f=f.add(d)}return f.toP()},c.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=s(e,r,this._bitLength),c=this.jpoint(null,null,null),h=o.length-1;h>=0;h--){for(var u=0;h>=0&&0===o[h];h--)u++;if(h>=0&&u++,c=c.dblp(u),h<0)break;var f=o[h];a(0!==f),c="affine"===t.type?f>0?c.mixedAdd(n[f-1>>1]):c.mixedAdd(n[-f-1>>1].neg()):f>0?c.add(n[f-1>>1]):c.add(n[-f-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,r,i,n){var a,c,h,u=this._wnafT1,f=this._wnafT2,d=this._wnafT3,l=0;for(a=0;a<i;a++){var p=(h=e[a])._getNAFPoints(t);u[a]=p.wnd,f[a]=p.points}for(a=i-1;a>=1;a-=2){var b=a-1,g=a;if(1===u[b]&&1===u[g]){var m=[e[b],null,null,e[g]];0===e[b].y.cmp(e[g].y)?(m[1]=e[b].add(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg())):0===e[b].y.cmp(e[g].y.redNeg())?(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].add(e[g].neg())):(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[b],r[g]);for(l=Math.max(v[0].length,l),d[b]=new Array(l),d[g]=new Array(l),c=0;c<l;c++){var _=0|v[0][c],w=0|v[1][c];d[b][c]=y[3*(_+1)+(w+1)],d[g][c]=0,f[b]=m}}else d[b]=s(r[b],u[b],this._bitLength),d[g]=s(r[g],u[g],this._bitLength),l=Math.max(d[b].length,l),l=Math.max(d[g].length,l)}var E=this.jpoint(null,null,null),A=this._wnafT4;for(a=l;a>=0;a--){for(var S=0;a>=0;){var T=!0;for(c=0;c<i;c++)A[c]=0|d[c][a],0!==A[c]&&(T=!1);if(!T)break;S++,a--}if(a>=0&&S++,E=E.dblp(S),a<0)break;for(c=0;c<i;c++){var O=A[c];0!==O&&(O>0?h=f[c][O-1>>1]:O<0&&(h=f[c][-O-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(a=0;a<i;a++)f[a]=null;return n?E:E.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(t){return this.encode(t,!0)},h.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},h.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},h.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},h.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},h.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},h.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},74239:(t,e,r)=>{"use strict";var i=r(53369),n=r(63785),s=r(70087),o=r(50763),a=i.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new n(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,r,i,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(e,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},c.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(e&&!c||!e&&c)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(n)},s(h,o.BasePoint),c.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},c.prototype.point=function(t,e,r,i){return new h(this,t,e,r,i)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),o=s.redSub(r),a=i.redSub(e),c=n.redMul(o),h=s.redMul(a),u=n.redMul(a),f=o.redMul(s);return this.curve.point(c,h,f,u)},h.prototype._projDbl=function(){var t,e,r,i,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var h=(i=this.curve._mulA(a)).redAdd(c);this.zOne?(t=o.redSub(a).redSub(c).redMul(h.redSub(this.curve.two)),e=h.redMul(i.redSub(c)),r=h.redSqr().redSub(h).redSub(h)):(n=this.z.redSqr(),s=h.redSub(n).redISub(n),t=o.redSub(a).redISub(c).redMul(s),e=h.redMul(i.redSub(c)),r=h.redMul(s))}else i=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),t=this.curve._mulC(o.redISub(i)).redMul(s),e=this.curve._mulC(i).redMul(a.redISub(c)),r=i.redMul(s);return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=n.redSub(i),a=n.redAdd(i),c=r.redAdd(e),h=s.redMul(o),u=a.redMul(c),f=s.redMul(c),d=o.redMul(a);return this.curve.point(h,u,d,f)},h.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),n=i.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),c=n.redSub(a),h=n.redAdd(a),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),f=i.redMul(c).redMul(u);return this.curve.twisted?(e=i.redMul(h).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(h)):(e=i.redMul(h).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(h)),this.curve.point(f,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},41530:(t,e,r)=>{"use strict";var i=e;i.base=r(50763),i.short=r(94560),i.mont=r(25974),i.edwards=r(74239)},25974:(t,e,r)=>{"use strict";var i=r(63785),n=r(70087),s=r(50763),o=r(53369);function a(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},n(c,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new c(this,t,e)},a.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),i=t.redMul(e),n=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=n.redMul(i),a=e.z.redMul(s.redAdd(o).redSqr()),c=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},94560:(t,e,r)=>{"use strict";var i=r(53369),n=r(63785),s=r(70087),o=r(50763),a=i.assert;function c(t){o.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(t,e,r,i){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(e,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(t,e,r,i){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(e,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new n(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new n(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new n(t.a,16),b:new n(t.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:n.mont(t),r=new n(2).toRed(e).redInvm(),i=r.redNeg(),s=new n(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,i,s,o,a,c,h,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,l=this.n.clone(),p=new n(1),b=new n(0),g=new n(0),m=new n(1),y=0;0!==d.cmpn(0);){var v=l.div(d);h=l.sub(v.mul(d)),u=g.sub(v.mul(p));var _=m.sub(v.mul(b));if(!i&&h.cmp(f)<0)e=c.neg(),r=p,i=h.neg(),s=u;else if(i&&2==++y)break;c=h,l=d,d=h,g=p,p=u,m=b,b=_}o=h.neg(),a=u;var w=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=r),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),c=n.mul(r.b),h=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:c.add(h).neg()}},c.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(e&&!s||!e&&s)&&(i=i.redNeg()),this.point(t,i)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*s]=a,i[2*s+1]=c,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return h},s(h,o.BasePoint),c.prototype.point=function(t,e,r){return new h(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return h.fromJSON(this,t,e)},h.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},h.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(t){return t=new n(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},h.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},h.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},h.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(t,e,r){return new u(this,t,e,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),u=h.redMul(a),f=i.redMul(h),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),l=c.redMul(f.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,l,p)},u.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),h=c.redMul(o),u=r.redMul(c),f=a.redSqr().redIAdd(h).redISub(u).redISub(u),d=a.redMul(u.redISub(f)).redISub(n.redMul(h)),l=this.z.redMul(o);return this.curve.jpoint(f,d,l)},u.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var u=s.redSqr(),f=h.redSqr(),d=f.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=s.redMul(f),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),m=l.redMul(g);m=m.redIAdd(m).redISub(d);var y=h.redMul(a);e+1<t&&(c=c.redMul(d)),s=b,a=y,h=m}return this.curve.jpoint(s,h.redMul(n),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=c,e=a.redMul(o.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),l=this.x.redAdd(f).redSqr().redISub(u).redISub(d);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=b.redISub(l).redISub(l),e=p.redMul(l.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},u.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);t=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=l.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},u.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),c=e.redAdd(e),h=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(h.redAdd(h)),f=h.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(f).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,l,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=e.redMul(h);u=(u=u.redIAdd(u)).redIAdd(u);var f=this.x.redMul(a).redISub(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(h.redMul(c.redISub(h)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,d,l)},u.prototype.mul=function(t,e){return t=new n(t,e),this.curve._wnafMul(this,t)},u.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},61044:(t,e,r)=>{"use strict";var i,n=e,s=r(35294),o=r(41530),a=r(53369).assert;function c(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new c(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(18719)}catch(u){i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},17354:(t,e,r)=>{"use strict";var i=r(63785),n=r(76513),s=r(53369),o=r(61044),a=r(59154),c=s.assert,h=r(84093),u=r(69758);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(c(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new h(this,t)},f.prototype.keyFromPrivate=function(t,e){return h.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return h.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new n({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},f.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new i(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),c=t.toArray("be",o),h=new n({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new i(1)),d=0;;d++){var l=s.k?s.k(d):new i(h.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(f)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),g=b.umod(this.n);if(0!==g.cmpn(0)){var m=l.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(g)?2:0);return s.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new u({r:g,s:m,recoveryParam:y})}}}}}},f.prototype.verify=function(t,e,r,n){t=this._truncateToN(new i(t,16)),r=this.keyFromPublic(r,n);var s=(e=new u(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),h=c.mul(t).umod(this.n),f=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(h,r.getPublic(),f)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(h,r.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},f.prototype.recoverPubKey=function(t,e,r,n){c((3&r)===r,"The recovery param is more than two bits"),e=new u(e,n);var s=this.n,o=new i(t),a=e.r,h=e.s,f=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var l=e.r.invm(s),p=s.sub(o).mul(l).umod(s),b=h.mul(l).umod(s);return this.g.mulAdd(p,a,b)},f.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new u(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(t){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},84093:(t,e,r)=>{"use strict";var i=r(63785),n=r(53369).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?n(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||n(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},69758:(t,e,r)=>{"use strict";var i=r(63785),n=r(53369),s=n.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function c(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function h(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=n.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=c(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=c(t,r);if(!1===o)return!1;var h=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var u=c(t,r);if(!1===u)return!1;if(t.length!==u+r.place)return!1;var f=t.slice(r.place,u+r.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new i(h),this.s=new i(f),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=h(e),r=h(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];u(i,e.length),(i=i.concat(e)).push(2),u(i,r.length);var s=i.concat(r),o=[48];return u(o,s.length),o=o.concat(s),n.encode(o,t)}},11680:(t,e,r)=>{"use strict";var i=r(35294),n=r(61044),s=r(53369),o=s.assert,a=s.parseBytes,c=r(36699),h=r(4396);function u(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=n[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=u,u.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),i=this.hashInt(r.messagePrefix(),t),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:s})},u.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var i=this.keyFromPublic(r),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(i.pub().mul(n)).eq(s)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof h?t:new h(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return s.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}},36699:(t,e,r)=>{"use strict";var i=r(53369),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a},4396:(t,e,r)=>{"use strict";var i=r(63785),n=r(53369),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},18719:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},53369:(t,e,r)=>{"use strict";var i=e,n=r(63785),s=r(77859),o=r(2910);i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,c=s.andln(n-1);s.isOdd()?(a=c>(n>>1)-1?(n>>1)-c:c,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},i.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,c=t.andln(3)+n&3,h=e.andln(3)+s&3;3===c&&(c=-1),3===h&&(h=-1),o=0==(1&c)?0:3!==(i=t.andln(7)+n&7)&&5!==i||2!==h?c:-c,r[0].push(o),a=0==(1&h)?0:3!==(i=e.andln(7)+s&7)&&5!==i||2!==c?h:-h,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},i.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new n(t,"hex","le")}},50343:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,s),i(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}b(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&b(t,"error",e,r)}(t,n,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,i){var n,s,o,h;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=c(t))>0&&o.length>n&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,h=u,console&&console.warn&&console.warn(h)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=u.bind(i);return n.listener=r,i.wrapFn=n,n}function d(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function l(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function b(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(s){i.once&&t.removeEventListener(e,n),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var h=c.length,u=p(c,h);for(r=0;r<h;++r)i(u[r],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,s,o;if(a(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):l.call(t,e)},s.prototype.listenerCount=l,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},56440:t=>{"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,i="boolean"==typeof e.cycles&&e.cycles,n=e.cmp&&(r=e.cmp,function(t){return function(e,i){var n={key:e,value:t[e]},s={key:i,value:t[i]};return r(n,s)}}),s=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,o;if(Array.isArray(e)){for(o="[",r=0;r<e.length;r++)r&&(o+=","),o+=t(e[r])||"null";return o+"]"}if(null===e)return"null";if(-1!==s.indexOf(e)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=s.push(e)-1,c=Object.keys(e).sort(n&&n(e));for(o="",r=0;r<c.length;r++){var h=c[r],u=t(e[h]);u&&(o&&(o+=","),o+=JSON.stringify(h)+":"+u)}return s.splice(a,1),"{"+o+"}"}}(t)}},6883:(t,e,r)=>{"use strict";var i=r(27172).Buffer,n=r(38310).Transform;function s(t){n.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(70087)(s,n),s.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},35294:(t,e,r)=>{var i=e;i.utils=r(88626),i.common=r(38717),i.sha=r(92589),i.ripemd=r(28494),i.hmac=r(82750),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},38717:(t,e,r)=>{"use strict";var i=r(88626),n=r(77859);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),n(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i}},82750:(t,e,r)=>{"use strict";var i=r(88626),n=r(77859);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),n(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},28494:(t,e,r)=>{"use strict";var i=r(88626),n=r(38717),s=i.rotl32,o=i.sum32,a=i.sum32_3,c=i.sum32_4,h=n.BlockHash;function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(u,h),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],h=this.h[3],u=this.h[4],y=r,v=i,_=n,w=h,E=u,A=0;A<80;A++){var S=o(s(c(r,f(A,i,n,h),t[p[A]+e],d(A)),g[A]),u);r=u,u=h,h=s(n,10),n=i,i=S,S=o(s(c(y,f(79-A,v,_,w),t[b[A]+e],l(A)),m[A]),E),y=E,E=w,w=s(_,10),_=v,v=S}S=a(this.h[1],n,w),this.h[1]=a(this.h[2],h,E),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],i,_),this.h[0]=S},u.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},92589:(t,e,r)=>{"use strict";e.sha1=r(39330),e.sha224=r(45168),e.sha256=r(10375),e.sha384=r(28899),e.sha512=r(10790)},39330:(t,e,r)=>{"use strict";var i=r(88626),n=r(38717),s=r(98156),o=i.rotl32,a=i.sum32,c=i.sum32_5,h=s.ft_1,u=n.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,u),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],u=this.h[2],d=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),b=c(o(n,5),h(p,s,u,d),l,r[i],f[p]);l=d,d=u,u=o(s,30),s=n,n=b}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},45168:(t,e,r)=>{"use strict";var i=r(88626),n=r(10375);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},10375:(t,e,r)=>{"use strict";var i=r(88626),n=r(38717),s=r(98156),o=r(77859),a=i.sum32,c=i.sum32_4,h=i.sum32_5,u=s.ch32,f=s.maj32,d=s.s0_256,l=s.s1_256,p=s.g0_256,b=s.g1_256,g=n.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}i.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=c(b(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var E=h(w,l(y),u(y,v,_),this.k[i],r[i]),A=a(d(n),f(n,s,g));w=_,_=v,v=y,y=a(m,E),m=g,g=s,s=n,n=a(E,A)}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},y.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},28899:(t,e,r)=>{"use strict";var i=r(88626),n=r(10790);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},10790:(t,e,r)=>{"use strict";var i=r(88626),n=r(38717),s=r(77859),o=i.rotr64_hi,a=i.rotr64_lo,c=i.shr64_hi,h=i.shr64_lo,u=i.sum64,f=i.sum64_hi,d=i.sum64_lo,l=i.sum64_4_hi,p=i.sum64_4_lo,b=i.sum64_5_hi,g=i.sum64_5_lo,m=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function _(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function w(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function E(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function A(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function S(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=o(t,e,14)^o(t,e,18)^o(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function I(t,e){var r=o(t,e,1)^o(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function R(t,e){var r=a(t,e,1)^a(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=o(t,e,19)^o(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}function L(t,e){var r=a(t,e,19)^a(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}i.inherits(v,m),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=P(r[i-4],r[i-3]),s=L(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],c=I(r[i-30],r[i-29]),h=R(r[i-30],r[i-29]),u=r[i-32],f=r[i-31];r[i]=l(n,s,o,a,c,h,u,f),r[i+1]=p(n,s,o,a,c,h,u,f)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],h=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],I=this.h[11],R=this.h[12],P=this.h[13],L=this.h[14],M=this.h[15];s(this.k.length===r.length);for(var k=0;k<r.length;k+=2){var N=L,C=M,U=O(m,y),B=x(m,y),D=_(m,y,v,I,R),j=w(m,y,v,I,R,P),H=this.k[k],K=this.k[k+1],$=r[k],G=r[k+1],F=b(N,C,U,B,D,j,H,K,$,G),V=g(N,C,U,B,D,j,H,K,$,G);N=S(i,n),C=T(i,n),U=E(i,n,o,a,c),B=A(i,n,o,a,c,h);var z=f(N,C,U,B),q=d(N,C,U,B);L=R,M=P,R=v,P=I,v=m,I=y,m=f(l,p,F,V),y=d(p,p,F,V),l=c,p=h,c=o,h=a,o=i,a=n,i=f(F,V,z,q),n=d(F,V,z,q)}u(this.h,0,i,n),u(this.h,2,o,a),u(this.h,4,c,h),u(this.h,6,l,p),u(this.h,8,m,y),u(this.h,10,v,I),u(this.h,12,R,P),u(this.h,14,L,M)},v.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},98156:(t,e,r)=>{"use strict";var i=r(88626).rotr32;function n(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,i){return 0===t?n(e,r,i):1===t||3===t?o(e,r,i):2===t?s(e,r,i):void 0},e.ch32=n,e.maj32=s,e.p32=o,e.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},e.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},e.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},e.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},88626:(t,e,r)=>{"use strict";var i=r(77859),n=r(70087);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=n,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=63&o|128):s(t,n)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=63&o|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=o(n)),r+=c(n.toString(16))}return r},e.zero2=a,e.zero8=c,e.join32=function(t,e,r,n){var s=r-e;i(s%4==0);for(var o=new Array(s/4),a=0,c=e;a<o.length;a++,c+=4){var h;h="big"===n?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],o[a]=h>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},e.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},e.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,i){return e+i>>>0},e.sum64_4_hi=function(t,e,r,i,n,s,o,a){var c=0,h=e;return c+=(h=h+i>>>0)<e?1:0,c+=(h=h+s>>>0)<s?1:0,t+r+n+o+(c+=(h=h+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},e.sum64_5_hi=function(t,e,r,i,n,s,o,a,c,h){var u=0,f=e;return u+=(f=f+i>>>0)<e?1:0,u+=(f=f+s>>>0)<s?1:0,u+=(f=f+a>>>0)<a?1:0,t+r+n+o+c+(u+=(f=f+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(t,e,r,i,n,s,o,a,c,h){return e+i+s+a+h>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},76513:(t,e,r)=>{"use strict";var i=r(35294),n=r(2910),s=r(77859);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=n.toArray(t.entropy,t.entropyEnc||"hex"),r=n.toArray(t.nonce,t.nonceEnc||"hex"),i=n.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}t.exports=o,o.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=n.toArray(t,e),r=n.toArray(r,i),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,n.encode(o,e)}},78898:(t,e)=>{e.read=function(t,e,r,i,n){var s,o,a=8*n-i-1,c=(1<<a)-1,h=c>>1,u=-7,f=r?n-1:0,d=r?-1:1,l=t[e+f];for(f+=d,s=l&(1<<-u)-1,l>>=-u,u+=a;u>0;s=256*s+t[e+f],f+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=256*o+t[e+f],f+=d,u-=8);if(0===s)s=1-h;else{if(s===c)return o?NaN:1/0*(l?-1:1);o+=Math.pow(2,i),s-=h}return(l?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,r,i,n,s){var o,a,c,h=8*s-n-1,u=(1<<h)-1,f=u>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:s-1,p=i?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*c-1)*Math.pow(2,n),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,n),o=0));n>=8;t[r+l]=255&a,l+=p,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[r+l]=255&o,l+=p,o/=256,h-=8);t[r+l-p]|=128*b}},70087:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},79500:(t,e,r)=>{"use strict";var i=r(70087),n=r(6883),s=r(27172).Buffer,o=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function h(t,e,r,i,n,s,o){return c(t+(e&r|~e&i)+n+s|0,o)+e|0}function u(t,e,r,i,n,s,o){return c(t+(e&i|r&~i)+n+s|0,o)+e|0}function f(t,e,r,i,n,s,o){return c(t+(e^r^i)+n+s|0,o)+e|0}function d(t,e,r,i,n,s,o){return c(t+(r^(e|~i))+n+s|0,o)+e|0}i(a,n),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,i=this._b,n=this._c,s=this._d;r=h(r,i,n,s,t[0],3614090360,7),s=h(s,r,i,n,t[1],3905402710,12),n=h(n,s,r,i,t[2],606105819,17),i=h(i,n,s,r,t[3],3250441966,22),r=h(r,i,n,s,t[4],4118548399,7),s=h(s,r,i,n,t[5],1200080426,12),n=h(n,s,r,i,t[6],2821735955,17),i=h(i,n,s,r,t[7],4249261313,22),r=h(r,i,n,s,t[8],1770035416,7),s=h(s,r,i,n,t[9],2336552879,12),n=h(n,s,r,i,t[10],4294925233,17),i=h(i,n,s,r,t[11],2304563134,22),r=h(r,i,n,s,t[12],1804603682,7),s=h(s,r,i,n,t[13],4254626195,12),n=h(n,s,r,i,t[14],2792965006,17),r=u(r,i=h(i,n,s,r,t[15],1236535329,22),n,s,t[1],4129170786,5),s=u(s,r,i,n,t[6],3225465664,9),n=u(n,s,r,i,t[11],643717713,14),i=u(i,n,s,r,t[0],3921069994,20),r=u(r,i,n,s,t[5],3593408605,5),s=u(s,r,i,n,t[10],38016083,9),n=u(n,s,r,i,t[15],3634488961,14),i=u(i,n,s,r,t[4],3889429448,20),r=u(r,i,n,s,t[9],568446438,5),s=u(s,r,i,n,t[14],3275163606,9),n=u(n,s,r,i,t[3],4107603335,14),i=u(i,n,s,r,t[8],1163531501,20),r=u(r,i,n,s,t[13],2850285829,5),s=u(s,r,i,n,t[2],4243563512,9),n=u(n,s,r,i,t[7],1735328473,14),r=f(r,i=u(i,n,s,r,t[12],2368359562,20),n,s,t[5],4294588738,4),s=f(s,r,i,n,t[8],2272392833,11),n=f(n,s,r,i,t[11],1839030562,16),i=f(i,n,s,r,t[14],4259657740,23),r=f(r,i,n,s,t[1],2763975236,4),s=f(s,r,i,n,t[4],1272893353,11),n=f(n,s,r,i,t[7],4139469664,16),i=f(i,n,s,r,t[10],3200236656,23),r=f(r,i,n,s,t[13],681279174,4),s=f(s,r,i,n,t[0],3936430074,11),n=f(n,s,r,i,t[3],3572445317,16),i=f(i,n,s,r,t[6],76029189,23),r=f(r,i,n,s,t[9],3654602809,4),s=f(s,r,i,n,t[12],3873151461,11),n=f(n,s,r,i,t[15],530742520,16),r=d(r,i=f(i,n,s,r,t[2],3299628645,23),n,s,t[0],4096336452,6),s=d(s,r,i,n,t[7],1126891415,10),n=d(n,s,r,i,t[14],2878612391,15),i=d(i,n,s,r,t[5],4237533241,21),r=d(r,i,n,s,t[12],1700485571,6),s=d(s,r,i,n,t[3],2399980690,10),n=d(n,s,r,i,t[10],4293915773,15),i=d(i,n,s,r,t[1],2240044497,21),r=d(r,i,n,s,t[8],1873313359,6),s=d(s,r,i,n,t[15],4264355552,10),n=d(n,s,r,i,t[6],2734768916,15),i=d(i,n,s,r,t[13],1309151649,21),r=d(r,i,n,s,t[4],4149444226,6),s=d(s,r,i,n,t[11],3174756917,10),n=d(n,s,r,i,t[2],718787259,15),i=d(i,n,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},77859:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},2910:(t,e)=>{"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}},50041:(t,e,r)=>{e.pbkdf2=r(96394),e.pbkdf2Sync=r(54355)},96394:(t,e,r)=>{var i,n,s=r(27172).Buffer,o=r(72642),a=r(82703),c=r(54355),h=r(53819),u=r.g.crypto&&r.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function l(){return n||(n=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(t,e,r,i,n){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},t,i<<3)})).then((function(t){return s.from(t)}))}t.exports=function(t,e,n,b,g,m){"function"==typeof g&&(m=g,g=void 0);var y=f[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof r.g.Promise){if(o(n,b),t=h(t,a,"Password"),e=h(e,a,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){l()((function(){e(null,t)}))}),(function(t){l()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==d[t])return d[t];var e=p(i=i||s.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return d[t]=e,e}(y).then((function(r){return r?p(t,e,n,b,y):c(t,e,n,b,g)})),m)}else l()((function(){var r;try{r=c(t,e,n,b,g)}catch(i){return m(i)}m(null,r)}))}},82703:(t,e,r)=>{var i;if(r.g.process&&r.g.process.browser)i="utf-8";else if(r.g.process&&r.g.process.version){i=parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else i="utf-8";t.exports=i},72642:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},54355:(t,e,r)=>{var i=r(37401),n=r(86558),s=r(54458),o=r(27172).Buffer,a=r(72642),c=r(82703),h=r(53819),u=o.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,r){var a=function(t){function e(e){return s(t).update(e).digest()}function r(t){return(new n).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?i:e}(t),c="sha512"===t||"sha384"===t?128:64;e.length>c?e=a(e):e.length<c&&(e=o.concat([e,u],c));for(var h=o.allocUnsafe(c+f[t]),d=o.allocUnsafe(c+f[t]),l=0;l<c;l++)h[l]=54^e[l],d[l]=92^e[l];var p=o.allocUnsafe(c+r+4);h.copy(p,0,0,c),this.ipad1=p,this.ipad2=h,this.opad=d,this.alg=t,this.blocksize=c,this.hash=a,this.size=f[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,i,n){a(r,i);var s=new d(n=n||"sha1",t=h(t,c,"Password"),(e=h(e,c,"Salt")).length),u=o.allocUnsafe(i),l=o.allocUnsafe(e.length+4);e.copy(l,0,0,e.length);for(var p=0,b=f[n],g=Math.ceil(i/b),m=1;m<=g;m++){l.writeUInt32BE(m,e.length);for(var y=s.run(l,s.ipad1),v=y,_=1;_<r;_++){v=s.run(v,s.ipad2);for(var w=0;w<b;w++)y[w]^=v[w]}y.copy(u,p),p+=b}return u}},53819:(t,e,r)=>{var i=r(27172).Buffer;t.exports=function(t,e,r){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},96938:t=>{"use strict";var e={};function r(t,r,i){i||(i=Error);var n=function(t){var e,i;function n(e,i,n){return t.call(this,function(t,e,i){return"string"==typeof r?r:r(t,e,i)}(e,i,n))||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=t,e[t]=n}function i(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,s,o,a;if("string"==typeof e&&(s="not ",e.substr(!o||o<0?0:+o,s.length)===s)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(i(e,"type"));else{var c=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(c," ").concat(n," ").concat(i(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},24439:(t,e,r)=>{"use strict";var i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var n=r(35327),s=r(54567);r(70087)(h,n);for(var o=i(s.prototype),a=0;a<o.length;a++){var c=o[a];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);n.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},83754:(t,e,r)=>{"use strict";t.exports=n;var i=r(12175);function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}r(70087)(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},35327:(t,e,r)=>{"use strict";var i;t.exports=S,S.ReadableState=A;r(50343).EventEmitter;var n=function(t,e){return t.listeners(e).length},s=r(46052),o=r(30816).Buffer,a=r.g.Uint8Array||function(){};var c,h=r(71632);c=h&&h.debuglog?h.debuglog("stream"):function(){};var u,f,d,l=r(57712),p=r(27640),b=r(25985).getHighWaterMark,g=r(96938).q,m=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(70087)(S,s);var w=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(t,e,n){i=i||r(24439),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=r(34361).s),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function S(t){if(i=i||r(24439),!(this instanceof S))return new S(t);var e=this instanceof i;this._readableState=new A(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(t,e,r,i,n){c("readableAddChunk",e);var s,h=t._readableState;if(null===e)h.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,P(t)))}(t,h);else if(n||(s=function(t,e){var r;i=e,o.isBuffer(i)||i instanceof a||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e));var i;return r}(h,e)),s)w(t,s);else if(h.objectMode||e&&e.length>0)if("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===o.prototype||(e=function(t){return o.from(t)}(e)),i)h.endEmitted?w(t,new _):O(t,h,e,!0);else if(h.ended)w(t,new y);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(e=h.decoder.write(e),h.objectMode||0!==e.length?O(t,h,e,!1):L(t,h)):O(t,h,e,!1)}else i||(h.reading=!1,L(t,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function O(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&R(t)),L(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=o.from(t,e),e=""),r=!0),T(this,t,e,!1,r)},S.prototype.unshift=function(t){return T(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){u||(u=r(34361).s);var e=new u(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var x=1073741824;function I(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(P,t))}function P(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function L(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(M,t,e))}function M(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(c("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function k(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){c("readable nexttick read 0"),t.read(0)}function C(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function D(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function H(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}S.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?D(this):R(this),null;if(0===(t=I(t,e))&&e.ended)return 0===e.length&&D(this),null;var i,n=e.needReadable;return c("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",n=!0),e.ended||e.reading?c("reading or ended",n=!1):n&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=I(r,e))),null===(i=t>0?B(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&D(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(t){w(this,new v("_read()"))},S.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?a:b;function o(e,n){c("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),t.removeListener("close",l),t.removeListener("finish",p),t.removeListener("drain",h),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),u=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function a(){c("onend"),t.end()}i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);var h=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&n(t,"data")&&(e.flowing=!0,U(t))}}(r);t.on("drain",h);var u=!1;function f(e){c("ondata");var n=t.write(e);c("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==H(i.pipes,t))&&!u&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(e){c("onerror",e),b(),t.removeListener("error",d),0===n(t,"error")&&w(t,e)}function l(){t.removeListener("finish",p),b()}function p(){c("onfinish"),t.removeListener("close",l),b()}function b(){c("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",d),t.once("close",l),t.once("finish",p),t.emit("pipe",r),i.flowing||(c("pipe resume"),r.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},S.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?R(this):i.reading||process.nextTick(N,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(k,this),r},S.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(k,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(C,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){(c("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var s=0;s<E.length;s++)t.on(E[s],this.emit.bind(this,E[s]));return this._read=function(e){c("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(64157)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=B,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=r(95800)),d(S,t,e)})},12175:(t,e,r)=>{"use strict";t.exports=u;var i=r(96938).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(24439);function h(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(t){if(!(this instanceof u))return new u(t);c.call(this,t),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,r){d(t,e,r)}))}function d(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(70087)(u,c),u.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},u.prototype._transform=function(t,e,r){r(new n("_transform()"))},u.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},u.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},54567:(t,e,r)=>{"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}var n;t.exports=S,S.WritableState=A;var s={deprecate:r(17451)},o=r(46052),a=r(30816).Buffer,c=r.g.Uint8Array||function(){};var h,u=r(27640),f=r(25985).getHighWaterMark,d=r(96938).q,l=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function E(){}function A(t,e,s){n=n||r(24439),t=t||{},"boolean"!=typeof s&&(s=e instanceof n),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new b;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(P,t,e),t._writableState.errorEmitted=!0,w(t,i)):(n(i),t._writableState.errorEmitted=!0,w(t,i),P(t,e))}(t,r,i,e,n);else{var s=I(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),i?process.nextTick(O,t,r,s,n):O(t,r,s,n)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(t){var e=this instanceof(n=n||r(24439));if(!e&&!h.call(S,this))return new S(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function T(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function O(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),P(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,s=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,T(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,u=r.encoding,f=r.callback;if(T(t,e,!1,e.objectMode?1:h.length,h,u,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function I(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function R(t,e){t._final((function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),P(t,e)}))}function P(t,e){var r=I(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(R,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}r(70087)(S,o),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===S&&(t&&t._writableState instanceof A)}})):h=function(t){return t instanceof this},S.prototype.pipe=function(){w(this,new g)},S.prototype.write=function(t,e,r){var i,n=this._writableState,s=!1,o=!n.objectMode&&(i=t,a.isBuffer(i)||i instanceof c);return o&&!a.isBuffer(t)&&(t=function(t){return a.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=E),n.ending?function(t,e){var r=new v;w(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,i){var n;return null===r?n=new y:"string"==typeof r||e.objectMode||(n=new l("chunk",["string","Buffer"],r)),!n||(w(t,n),process.nextTick(i,n),!1)}(this,n,t,r))&&(n.pendingcb++,s=function(t,e,r,i,n,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var c=e.objectMode?1:i.length;e.length+=c;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else T(t,e,!1,c,i,n,s);return h}(this,n,o,t,e,r)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,P(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=u.destroy,S.prototype._undestroy=u.undestroy,S.prototype._destroy=function(t,e){e(t)}},64157:(t,e,r)=>{"use strict";var i;function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(85027),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function l(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[d].read();null!==r&&(t[u]=null,t[o]=null,t[a]=null,e(l(r,!1)))}}function b(t){process.nextTick(p,t)}var g=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(i={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[h])return Promise.resolve(l(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[c]?r(t[c]):e(l(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(function(t,e){return function(r,i){t.then((function(){e[h]?r(l(void 0,!0)):e[f](r,i)}),i)}}(i,this));else{var n=this[d].read();if(null!==n)return Promise.resolve(l(n,!1));r=new Promise(this[f])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),n(i,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(l(void 0,!0))}))}))})),i),g);t.exports=function(t){var e,r=Object.create(m,(n(e={},d,{value:t,writable:!0}),n(e,o,{value:null,writable:!0}),n(e,a,{value:null,writable:!0}),n(e,c,{value:null,writable:!0}),n(e,h,{value:t._readableState.endEmitted,writable:!0}),n(e,f,{value:function(t,e){var i=r[d].read();i?(r[u]=null,r[o]=null,r[a]=null,t(l(i,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[u]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[u]=null,r[o]=null,r[a]=null,e(t)),void(r[c]=t)}var i=r[o];null!==i&&(r[u]=null,r[o]=null,r[a]=null,i(l(void 0,!0))),r[h]=!0})),t.on("readable",b.bind(null,r)),r}},57712:(t,e,r)=>{"use strict";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=r(30816).Buffer,a=r(50471).inspect,c=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,h;return e=t,r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return o.alloc(0);for(var e,r,i,n=o.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=n,i=a,o.prototype.copy.call(e,r,i),a+=s.data.length,s=s.next;return n}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,i=e.data;for(t-=i.length;e=e.next;){var n=e.data,s=t>n.length?n.length:t;if(s===n.length?i+=n:i+=n.slice(0,t),0==(t-=s)){s===n.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(t){var e=o.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var n=r.data,s=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,s),0==(t-=s)){s===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(s));break}++i}return this.length-=i,e}},{key:c,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],r&&s(e.prototype,r),h&&s(e,h),t}()},27640:t=>{"use strict";function e(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,n){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,t)):process.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!n&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):n?(process.nextTick(r,s),n(t)):process.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}},85027:(t,e,r)=>{"use strict";var i=r(96938).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}(s||n);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||u()},h=e._writableState&&e._writableState.finished,u=function(){a=!1,h=!0,o||s.call(e)},f=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,f=!0,a||s.call(e)},l=function(t){s.call(e,t)},p=function(){var t;return o&&!f?(e._readableState&&e._readableState.ended||(t=new i),s.call(e,t)):a&&!h?(e._writableState&&e._writableState.ended||(t=new i),s.call(e,t)):void 0},b=function(){e.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",u),e.on("abort",p),e.req?b():e.on("request",b)),e.on("end",d),e.on("finish",u),!1!==r.error&&e.on("error",l),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",b),e.req&&e.req.removeListener("finish",u),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("end",d),e.removeListener("error",l),e.removeListener("close",p)}}},95800:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},20410:(t,e,r)=>{"use strict";var i;var n=r(96938).q,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===i&&(i=r(85027)),i(t,{readable:e,writable:n},(function(t){if(t)return s(t);a=!0,s()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function h(t){t()}function u(t,e){return t.pipe(e)}function f(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,n=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map((function(t,r){var s=r<e.length-1;return c(t,s,r>0,(function(t){i||(i=t),t&&o.forEach(h),s||(o.forEach(h),n(i))}))}));return e.reduce(u)}},25985:(t,e,r)=>{"use strict";var i=r(96938).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,n){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},46052:(t,e,r)=>{t.exports=r(50343).EventEmitter},38310:(t,e,r)=>{(e=t.exports=r(35327)).Stream=e,e.Readable=e,e.Writable=r(54567),e.Duplex=r(24439),e.Transform=r(12175),e.PassThrough=r(83754),e.finished=r(85027),e.pipeline=r(20410)},86558:(t,e,r)=>{"use strict";var i=r(30816).Buffer,n=r(70087),s=r(6883),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function l(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function b(t,e,r,i,n,s,o,a){return p(t+(e^r^i)+s+o|0,a)+n|0}function g(t,e,r,i,n,s,o,a){return p(t+(e&r|~e&i)+s+o|0,a)+n|0}function m(t,e,r,i,n,s,o,a){return p(t+((e|~r)^i)+s+o|0,a)+n|0}function y(t,e,r,i,n,s,o,a){return p(t+(e&i|r&~i)+s+o|0,a)+n|0}function v(t,e,r,i,n,s,o,a){return p(t+(e^(r|~i))+s+o|0,a)+n|0}n(l,s),l.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,i=0|this._b,n=0|this._c,s=0|this._d,l=0|this._e,_=0|this._a,w=0|this._b,E=0|this._c,A=0|this._d,S=0|this._e,T=0;T<80;T+=1){var O,x;T<16?(O=b(r,i,n,s,l,t[a[T]],f[0],h[T]),x=v(_,w,E,A,S,t[c[T]],d[0],u[T])):T<32?(O=g(r,i,n,s,l,t[a[T]],f[1],h[T]),x=y(_,w,E,A,S,t[c[T]],d[1],u[T])):T<48?(O=m(r,i,n,s,l,t[a[T]],f[2],h[T]),x=m(_,w,E,A,S,t[c[T]],d[2],u[T])):T<64?(O=y(r,i,n,s,l,t[a[T]],f[3],h[T]),x=g(_,w,E,A,S,t[c[T]],d[3],u[T])):(O=v(r,i,n,s,l,t[a[T]],f[4],h[T]),x=b(_,w,E,A,S,t[c[T]],d[4],u[T])),r=l,l=s,s=p(n,10),n=i,i=O,_=S,S=A,A=p(E,10),E=w,w=x}var I=this._b+n+A|0;this._b=this._c+s+S|0,this._c=this._d+l+_|0,this._d=this._e+r+w|0,this._e=this._a+i+E|0,this._a=I},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=l},76535:(t,e,r)=>{"use strict";r.d(e,{c:()=>s});var i=r(79910),n=r(94224),s={closed:!0,next:function(t){},error:function(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,n.z)(t)},complete:function(){}}},98036:(t,e,r)=>{"use strict";r.d(e,{L:()=>u});var i=r(72217),n=r(55427),s=r(76535),o=r(57812),a=r(42545),c=r(79910),h=r(94224),u=function(t){function e(r,i,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.c;break;case 1:if(!r){o.destination=s.c;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new f(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new f(o,r,i,n)}return o}return i.ZT(e,t),e.prototype[a.b]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(o.w),f=function(t){function e(e,r,i,o){var a,c=t.call(this)||this;c._parentSubscriber=e;var h=c;return(0,n.m)(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==s.c&&(h=Object.create(r),(0,n.m)(h.unsubscribe)&&c.add(h.unsubscribe.bind(h)),h.unsubscribe=c.unsubscribe.bind(c))),c._context=h,c._next=a,c._error=i,c._complete=o,c}return i.ZT(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,h.z)(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;(0,h.z)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw r;(0,h.z)(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(i){return c.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,h.z)(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},57812:(t,e,r)=>{"use strict";r.d(e,{w:()=>a});var i=r(17733),n=r(79582),s=r(55427),o=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,h=r._ctorUnsubscribe,u=r._unsubscribe,f=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d){a[d].remove(this)}if((0,s.m)(u)){h&&(this._unsubscribe=void 0);try{u.call(this)}catch(b){e=b instanceof o?c(b.errors):[b]}}if((0,i.k)(f)){d=-1;for(var l=f.length;++d<l;){var p=f[d];if((0,n.K)(p))try{p.unsubscribe()}catch(b){e=e||[],b instanceof o?e=e.concat(c(b.errors)):e.push(b)}}}if(e)throw new o(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var i=r;(r=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof t){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof o?e.errors:e)}),[])}},79910:(t,e,r)=>{"use strict";r.d(e,{v:()=>n});var i=!1,n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},75458:(t,e,r)=>{"use strict";r.d(e,{X:()=>s});var i=r(72217),n=r(98036);function s(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}}var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.count=r,n.source=i,n}return i.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,i=this.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(n.L)},42545:(t,e,r)=>{"use strict";r.d(e,{b:()=>i});var i=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},94224:(t,e,r)=>{"use strict";function i(t){setTimeout((function(){throw t}),0)}r.d(e,{z:()=>i})},17733:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var i=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},55427:(t,e,r)=>{"use strict";function i(t){return"function"==typeof t}r.d(e,{m:()=>i})},79582:(t,e,r)=>{"use strict";function i(t){return null!==t&&"object"==typeof t}r.d(e,{K:()=>i})},27172:(t,e,r)=>{var i=r(30816),n=i.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},98423:(t,e,r)=>{var i=r(27172).Buffer;function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var c=o%n,h=Math.min(s-a,n-c),u=0;u<h;u++)r[c+u]=t[a+u];a+=h,(o+=h)%n==0&&this._update(r)}return this._len+=s,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},54458:(t,e,r)=>{var i=t.exports=function(t){t=t.toLowerCase();var e=i[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};i.sha=r(13608),i.sha1=r(6533),i.sha224=r(98203),i.sha256=r(89541),i.sha384=r(61389),i.sha512=r(36282)},13608:(t,e,r)=>{var i=r(70087),n=r(98423),s=r(27172).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<30|t>>>2}function u(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var d=0;d<80;++d){var l=~~(d/20),p=0|((e=i)<<5|e>>>27)+u(l,n,s,a)+c+r[d]+o[l];c=a,a=s,s=h(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},6533:(t,e,r)=>{var i=r(70087),n=r(98423),s=r(27172).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function f(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=t.readInt32BE(4*d);for(;d<80;++d)r[d]=(e=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|e>>>31;for(var l=0;l<80;++l){var p=~~(l/20),b=h(i)+f(p,n,s,a)+c+r[l]+o[p]|0;c=a,a=s,s=u(n),n=i,i=b}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},98203:(t,e,r)=>{var i=r(70087),n=r(89541),s=r(98423),o=r(27172).Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}i(c,n),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},89541:(t,e,r)=>{var i=r(70087),n=r(98423),s=r(27172).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function l(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(c,n),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,g=0|this._h,m=0;m<16;++m)r[m]=t.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((e=r[m-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[m-7]+l(r[m-15])+r[m-16];for(var y=0;y<64;++y){var v=g+d(c)+h(c,p,b)+o[y]+r[y]|0,_=f(i)+u(i,n,s)|0;g=b,b=p,p=c,c=a+v|0,a=s,s=n,n=i,i=v+_|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},61389:(t,e,r)=>{var i=r(70087),n=r(36282),s=r(98423),o=r(27172).Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}i(c,n),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},36282:(t,e,r)=>{var i=r(70087),n=r(98423),s=r(27172).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,n.call(this,128,112)}function h(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function l(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function b(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function m(t,e){return t>>>0<e>>>0?1:0}i(c,n),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,s=0|this._dh,a=0|this._eh,c=0|this._fh,y=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,E=0|this._cl,A=0|this._dl,S=0|this._el,T=0|this._fl,O=0|this._gl,x=0|this._hl,I=0;I<32;I+=2)e[I]=t.readInt32BE(4*I),e[I+1]=t.readInt32BE(4*I+4);for(;I<160;I+=2){var R=e[I-30],P=e[I-30+1],L=l(R,P),M=p(P,R),k=b(R=e[I-4],P=e[I-4+1]),N=g(P,R),C=e[I-14],U=e[I-14+1],B=e[I-32],D=e[I-32+1],j=M+U|0,H=L+C+m(j,M)|0;H=(H=H+k+m(j=j+N|0,N)|0)+B+m(j=j+D|0,D)|0,e[I]=H,e[I+1]=j}for(var K=0;K<160;K+=2){H=e[K],j=e[K+1];var $=u(r,i,n),G=u(_,w,E),F=f(r,_),V=f(_,r),z=d(a,S),q=d(S,a),Z=o[K],X=o[K+1],Y=h(a,c,y),W=h(S,T,O),J=x+q|0,Q=v+z+m(J,x)|0;Q=(Q=(Q=Q+Y+m(J=J+W|0,W)|0)+Z+m(J=J+X|0,X)|0)+H+m(J=J+j|0,j)|0;var tt=V+G|0,et=F+$+m(tt,V)|0;v=y,x=O,y=c,O=T,c=a,T=S,a=s+Q+m(S=A+J|0,A)|0,s=n,A=E,n=i,E=w,i=r,w=_,r=Q+et+m(_=J+tt|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+A|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+O|0,this._hl=this._hl+x|0,this._ah=this._ah+r+m(this._al,_)|0,this._bh=this._bh+i+m(this._bl,w)|0,this._ch=this._ch+n+m(this._cl,E)|0,this._dh=this._dh+s+m(this._dl,A)|0,this._eh=this._eh+a+m(this._el,S)|0,this._fh=this._fh+c+m(this._fl,T)|0,this._gh=this._gh+y+m(this._gl,O)|0,this._hh=this._hh+v+m(this._hl,x)|0},c.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},83424:(t,e,r)=>{t.exports=n;var i=r(50343).EventEmitter;function n(){i.call(this)}r(70087)(n,i),n.Readable=r(35327),n.Writable=r(54567),n.Duplex=r(24439),n.Transform=r(12175),n.PassThrough=r(83754),n.finished=r(85027),n.pipeline=r(20410),n.Stream=n,n.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,t.end())}function c(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",n),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",h),t.on("error",h),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},34361:(t,e,r)=>{"use strict";var i=r(27172).Buffer,n=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=f,e=3;break;default:return this.write=d,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function u(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function l(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var n=o(e[i]);if(n>=0)return n>0&&(t.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if((n=o(e[i]))>=0)return n>0&&(t.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if((n=o(e[i]))>=0)return n>0&&(2===n?n=0:t.lastNeed=n-3),n;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},4792:(t,e,r)=>{var i=r(30816).Buffer;t.exports=function(t){return ArrayBuffer.isView(t)?i.from(t.buffer,t.byteOffset,t.byteLength):i.from(t)}},17451:(t,e,r)=>{function i(t){try{if(!r.g.localStorage)return!1}catch(i){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},23961:(t,e,r)=>{"use strict";r.d(e,{O:()=>w,Z:()=>E});var i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",c=1e14,h=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,l=1e9;function p(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,i=1,n=t.length,s=t[0]+"";i<n;){for(e=t[i++]+"",r=h-e.length;r--;e="0"+e);s+=e}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function g(t,e){var r,i,n=t.c,s=e.c,o=t.s,a=e.s,c=t.e,h=e.e;if(!o||!a)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-a:o;if(o!=a)return o;if(r=o<0,i=c==h,!n||!s)return i?0:!n^r?1:-1;if(!i)return c>h^r?1:-1;for(a=(c=n.length)<(h=s.length)?c:h,o=0;o<a;o++)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return c==h?0:c>h^r?1:-1}function m(t,e,r,i){if(t<e||t>r||t!==s(t))throw Error(o+(i||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function y(t){var e=t.c.length-1;return p(t.e/h)==e&&t.c[e]%2!=0}function v(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _(t,e,r){var i,n;if(e<0){for(n=r+".";++e;n+=r);t=n+t}else if(++e>(i=t.length)){for(n=r,e-=i;--e;n+=r);t+=n}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}var w=function t(e){var r,w,E,A,S,T,O,x,I,R,P=F.prototype={constructor:F,toString:null,valueOf:null},L=new F(1),M=20,k=4,N=-7,C=21,U=-1e7,B=1e7,D=!1,j=1,H=0,K={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function F(t,e){var r,n,o,c,f,d,l,p,b=this;if(!(b instanceof F))return new F(t,e);if(null==e){if(t&&!0===t._isBigNumber)return b.s=t.s,void(!t.c||t.e>B?b.c=b.e=null:t.e<U?b.c=[b.e=0]:(b.e=t.e,b.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(b.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,f=t;f>=10;f/=10,c++);return void(c>B?b.c=b.e=null:(b.e=c,b.c=[t]))}p=String(t)}else{if(!i.test(p=String(t)))return E(b,p,d);b.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(f=p.search(/e/i))>0?(c<0&&(c=f),c+=+p.slice(f+1),p=p.substring(0,f)):c<0&&(c=p.length)}else{if(m(e,2,$.length,"Base"),10==e&&G)return Z(b=new F(t),M+b.e+1,k);if(p=String(t),d="number"==typeof t){if(0*t!=0)return E(b,p,d,e);if(b.s=1/t<0?(p=p.slice(1),-1):1,F.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+t)}else b.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=$.slice(0,e),c=f=0,l=p.length;f<l;f++)if(r.indexOf(n=p.charAt(f))<0){if("."==n){if(f>c){c=l;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,f=-1,c=0;continue}return E(b,String(t),d,e)}d=!1,(c=(p=w(p,e,10,b.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(f=0;48===p.charCodeAt(f);f++);for(l=p.length;48===p.charCodeAt(--l););if(p=p.slice(f,++l)){if(l-=f,d&&F.DEBUG&&l>15&&(t>u||t!==s(t)))throw Error(a+b.s*t);if((c=c-f-1)>B)b.c=b.e=null;else if(c<U)b.c=[b.e=0];else{if(b.e=c,b.c=[],f=(c+1)%h,c<0&&(f+=h),f<l){for(f&&b.c.push(+p.slice(0,f)),l-=h;f<l;)b.c.push(+p.slice(f,f+=h));f=h-(p=p.slice(f)).length}else f-=l;for(;f--;p+="0");b.c.push(+p)}}else b.c=[b.e=0]}function V(t,e,r,i){var n,s,o,a,c;if(null==r?r=k:m(r,0,8),!t.c)return t.toString();if(n=t.c[0],o=t.e,null==e)c=b(t.c),c=1==i||2==i&&(o<=N||o>=C)?v(c,o):_(c,o,"0");else if(s=(t=Z(new F(t),e,r)).e,a=(c=b(t.c)).length,1==i||2==i&&(e<=s||s<=N)){for(;a<e;c+="0",a++);c=v(c,s)}else if(e-=o,c=_(c,s,"0"),s+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=s-a)>0)for(s+1==a&&(c+=".");e--;c+="0");return t.s<0&&n?"-"+c:c}function z(t,e){for(var r,i=1,n=new F(t[0]);i<t.length;i++){if(!(r=new F(t[i])).s){n=r;break}e.call(n,r)&&(n=r)}return n}function q(t,e,r){for(var i=1,n=e.length;!e[--n];e.pop());for(n=e[0];n>=10;n/=10,i++);return(r=i+r*h-1)>B?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function Z(t,e,r,i){var o,a,u,d,l,p,b,g=t.c,m=f;if(g){t:{for(o=1,d=g[0];d>=10;d/=10,o++);if((a=e-o)<0)a+=h,u=e,b=(l=g[p=0])/m[o-u-1]%10|0;else if((p=n((a+1)/h))>=g.length){if(!i)break t;for(;g.length<=p;g.push(0));l=b=0,o=1,u=(a%=h)-h+1}else{for(l=d=g[p],o=1;d>=10;d/=10,o++);b=(u=(a%=h)-h+o)<0?0:l/m[o-u-1]%10|0}if(i=i||e<0||null!=g[p+1]||(u<0?l:l%m[o-u-1]),i=r<4?(b||i)&&(0==r||r==(t.s<0?3:2)):b>5||5==b&&(4==r||i||6==r&&(a>0?u>0?l/m[o-u]:0:g[p-1])%10&1||r==(t.s<0?8:7)),e<1||!g[0])return g.length=0,i?(e-=t.e+1,g[0]=m[(h-e%h)%h],t.e=-e||0):g[0]=t.e=0,t;if(0==a?(g.length=p,d=1,p--):(g.length=p+1,d=m[h-a],g[p]=u>0?s(l/m[o-u]%m[u])*d:0),i)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=d,d=1;u>=10;u/=10,d++);a!=d&&(t.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=d,g[p]!=c)break;g[p--]=0,d=1}for(a=g.length;0===g[--a];g.pop());}t.e>B?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function X(t){var e,r=t.e;return null===r?t.toString():(e=b(t.c),e=r<=N||r>=C?v(e,r):_(e,r,"0"),t.s<0?"-"+e:e)}return F.clone=t,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(o+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(m(r=t[e],0,l,e),M=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(m(r=t[e],0,8,e),k=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(m(r[0],-l,0,e),m(r[1],0,l,e),N=r[0],C=r[1]):(m(r,-l,l,e),N=-(C=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)m(r[0],-l,-1,e),m(r[1],1,l,e),U=r[0],B=r[1];else{if(m(r,-l,l,e),!r)throw Error(o+e+" cannot be zero: "+r);U=-(B=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(o+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(o+"crypto unavailable");D=r}else D=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(m(r=t[e],0,9,e),j=r),t.hasOwnProperty(e="POW_PRECISION")&&(m(r=t[e],0,l,e),H=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(o+e+" not an object: "+r);K=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+e+" invalid: "+r);G="0123456789"==r.slice(0,10),$=r}}return{DECIMAL_PLACES:M,ROUNDING_MODE:k,EXPONENTIAL_AT:[N,C],RANGE:[U,B],CRYPTO:D,MODULO_MODE:j,POW_PRECISION:H,FORMAT:K,ALPHABET:$}},F.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!F.DEBUG)return!0;var e,r,i=t.c,n=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(i)){if((1===a||-1===a)&&n>=-l&&n<=l&&n===s(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((e=(n+1)%h)<1&&(e+=h),String(i[0]).length==e){for(e=0;e<i.length;e++)if((r=i[e])<0||r>=c||r!==s(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+t)},F.maximum=F.max=function(){return z(arguments,P.lt)},F.minimum=F.min=function(){return z(arguments,P.gt)},F.random=(A=9007199254740992,S=Math.random()*A&2097151?function(){return s(Math.random()*A)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,i,a,c,u=0,d=[],p=new F(L);if(null==t?t=M:m(t,0,l),a=n(t/h),D)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(c=131072*e[u]+(e[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[u]=r[0],e[u+1]=r[1]):(d.push(c%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw D=!1,Error(o+"crypto unavailable");for(e=crypto.randomBytes(a*=7);u<a;)(c=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?crypto.randomBytes(7).copy(e,u):(d.push(c%1e14),u+=7);u=a/7}if(!D)for(;u<a;)(c=S())<9e15&&(d[u++]=c%1e14);for(a=d[--u],t%=h,a&&t&&(c=f[h-t],d[u]=s(a/c)*c);0===d[u];d.pop(),u--);if(u<0)d=[i=0];else{for(i=-1;0===d[0];d.splice(0,1),i-=h);for(u=1,c=d[0];c>=10;c/=10,u++);u<h&&(i-=h-u)}return p.e=i,p.c=d,p}),F.sum=function(){for(var t=1,e=arguments,r=new F(e[0]);t<e.length;)r=r.plus(e[t++]);return r},w=function(){var t="0123456789";function e(t,e,r,i){for(var n,s,o=[0],a=0,c=t.length;a<c;){for(s=o.length;s--;o[s]*=e);for(o[0]+=i.indexOf(t.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(i,n,s,o,a){var c,h,u,f,d,l,p,g,m=i.indexOf("."),y=M,v=k;for(m>=0&&(f=H,H=0,i=i.replace(".",""),l=(g=new F(n)).pow(i.length-m),H=f,g.c=e(_(b(l.c),l.e,"0"),10,s,t),g.e=g.c.length),u=f=(p=e(i,n,s,a?(c=$,t):(c=t,$))).length;0==p[--f];p.pop());if(!p[0])return c.charAt(0);if(m<0?--u:(l.c=p,l.e=u,l.s=o,p=(l=r(l,g,y,v,s)).c,d=l.r,u=l.e),m=p[h=u+y+1],f=s/2,d=d||h<0||null!=p[h+1],d=v<4?(null!=m||d)&&(0==v||v==(l.s<0?3:2)):m>f||m==f&&(4==v||d||6==v&&1&p[h-1]||v==(l.s<0?8:7)),h<1||!p[0])i=d?_(c.charAt(1),-y,c.charAt(0)):c.charAt(0);else{if(p.length=h,d)for(--s;++p[--h]>s;)p[h]=0,h||(++u,p=[1].concat(p));for(f=p.length;!p[--f];);for(m=0,i="";m<=f;i+=c.charAt(p[m++]));i=_(i,u,c.charAt(0))}return i}}(),r=function(){function t(t,e,r){var i,n,s,o,a=0,c=t.length,h=e%d,u=e/d|0;for(t=t.slice();c--;)a=((n=h*(s=t[c]%d)+(i=u*s+(o=t[c]/d|0)*h)%d*d+a)/r|0)+(i/d|0)+u*o,t[c]=n%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(t[n]!=e[n]){s=t[n]>e[n]?1:-1;break}return s}function r(t,e,r,i){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*i+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(i,n,o,a,u){var f,d,l,b,g,m,y,v,_,w,E,A,S,T,O,x,I,R=i.s==n.s?1:-1,P=i.c,L=n.c;if(!(P&&P[0]&&L&&L[0]))return new F(i.s&&n.s&&(P?!L||P[0]!=L[0]:L)?P&&0==P[0]||!L?0*R:R/0:NaN);for(_=(v=new F(R)).c=[],R=o+(d=i.e-n.e)+1,u||(u=c,d=p(i.e/h)-p(n.e/h),R=R/h|0),l=0;L[l]==(P[l]||0);l++);if(L[l]>(P[l]||0)&&d--,R<0)_.push(1),b=!0;else{for(T=P.length,x=L.length,l=0,R+=2,(g=s(u/(L[0]+1)))>1&&(L=t(L,g,u),P=t(P,g,u),x=L.length,T=P.length),S=x,E=(w=P.slice(0,x)).length;E<x;w[E++]=0);I=L.slice(),I=[0].concat(I),O=L[0],L[1]>=u/2&&O++;do{if(g=0,(f=e(L,w,x,E))<0){if(A=w[0],x!=E&&(A=A*u+(w[1]||0)),(g=s(A/O))>1)for(g>=u&&(g=u-1),y=(m=t(L,g,u)).length,E=w.length;1==e(m,w,y,E);)g--,r(m,x<y?I:L,y,u),y=m.length,f=1;else 0==g&&(f=g=1),y=(m=L.slice()).length;if(y<E&&(m=[0].concat(m)),r(w,m,E,u),E=w.length,-1==f)for(;e(L,w,x,E)<1;)g++,r(w,x<E?I:L,E,u),E=w.length}else 0===f&&(g++,w=[0]);_[l++]=g,w[0]?w[E++]=P[S]||0:(w=[P[S]],E=1)}while((S++<T||null!=w[0])&&R--);b=null!=w[0],_[0]||_.splice(0,1)}if(u==c){for(l=1,R=_[0];R>=10;R/=10,l++);Z(v,o+(v.e=l+d*h-1)+1,a,b)}else v.e=d,v.r=+b;return v}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,x=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(t,e,r,i){var n,s=r?e:e.replace(R,"");if(I.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(T,(function(t,e,r){return n="x"==(r=r.toLowerCase())?16:"b"==r?2:8,i&&i!=n?t:e})),i&&(n=i,s=s.replace(O,"$1").replace(x,"0.$1")),e!=s))return new F(s,n);if(F.DEBUG)throw Error(o+"Not a"+(i?" base "+i:"")+" number: "+e);t.s=null}t.c=t.e=null},P.absoluteValue=P.abs=function(){var t=new F(this);return t.s<0&&(t.s=1),t},P.comparedTo=function(t,e){return g(this,new F(t,e))},P.decimalPlaces=P.dp=function(t,e){var r,i,n,s=this;if(null!=t)return m(t,0,l),null==e?e=k:m(e,0,8),Z(new F(s),t+s.e+1,e);if(!(r=s.c))return null;if(i=((n=r.length-1)-p(this.e/h))*h,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},P.dividedBy=P.div=function(t,e){return r(this,new F(t,e),M,k)},P.dividedToIntegerBy=P.idiv=function(t,e){return r(this,new F(t,e),0,1)},P.exponentiatedBy=P.pow=function(t,e){var r,i,a,c,u,f,d,l,p=this;if((t=new F(t)).c&&!t.isInteger())throw Error(o+"Exponent not an integer: "+X(t));if(null!=e&&(e=new F(e)),u=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return l=new F(Math.pow(+X(p),u?2-y(t):+X(t))),e?l.mod(e):l;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new F(NaN);(i=!f&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&y(t)?-0:0,p.e>-1&&(c=1/c),new F(f?1/c:c);H&&(c=n(H/h+2))}for(u?(r=new F(.5),f&&(t.s=1),d=y(t)):d=(a=Math.abs(+X(t)))%2,l=new F(L);;){if(d){if(!(l=l.times(p)).c)break;c?l.c.length>c&&(l.c.length=c):i&&(l=l.mod(e))}if(a){if(0===(a=s(a/2)))break;d=a%2}else if(Z(t=t.times(r),t.e+1,1),t.e>14)d=y(t);else{if(0===(a=+X(t)))break;d=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):i&&(p=p.mod(e))}return i?l:(f&&(l=L.div(l)),e?l.mod(e):c?Z(l,H,k,undefined):l)},P.integerValue=function(t){var e=new F(this);return null==t?t=k:m(t,0,8),Z(e,e.e+1,t)},P.isEqualTo=P.eq=function(t,e){return 0===g(this,new F(t,e))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(t,e){return g(this,new F(t,e))>0},P.isGreaterThanOrEqualTo=P.gte=function(t,e){return 1===(e=g(this,new F(t,e)))||0===e},P.isInteger=function(){return!!this.c&&p(this.e/h)>this.c.length-2},P.isLessThan=P.lt=function(t,e){return g(this,new F(t,e))<0},P.isLessThanOrEqualTo=P.lte=function(t,e){return-1===(e=g(this,new F(t,e)))||0===e},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(t,e){var r,i,n,s,o=this,a=o.s;if(e=(t=new F(t,e)).s,!a||!e)return new F(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/h,f=t.e/h,d=o.c,l=t.c;if(!u||!f){if(!d||!l)return d?(t.s=-e,t):new F(l?o:NaN);if(!d[0]||!l[0])return l[0]?(t.s=-e,t):new F(d[0]?o:3==k?-0:0)}if(u=p(u),f=p(f),d=d.slice(),a=u-f){for((s=a<0)?(a=-a,n=d):(f=u,n=l),n.reverse(),e=a;e--;n.push(0));n.reverse()}else for(i=(s=(a=d.length)<(e=l.length))?a:e,a=e=0;e<i;e++)if(d[e]!=l[e]){s=d[e]<l[e];break}if(s&&(n=d,d=l,l=n,t.s=-t.s),(e=(i=l.length)-(r=d.length))>0)for(;e--;d[r++]=0);for(e=c-1;i>a;){if(d[--i]<l[i]){for(r=i;r&&!d[--r];d[r]=e);--d[r],d[i]+=c}d[i]-=l[i]}for(;0==d[0];d.splice(0,1),--f);return d[0]?q(t,d,f):(t.s=3==k?-1:1,t.c=[t.e=0],t)},P.modulo=P.mod=function(t,e){var i,n,s=this;return t=new F(t,e),!s.c||!t.s||t.c&&!t.c[0]?new F(NaN):!t.c||s.c&&!s.c[0]?new F(s):(9==j?(n=t.s,t.s=1,i=r(s,t,0,3),t.s=n,i.s*=n):i=r(s,t,0,j),(t=s.minus(i.times(t))).c[0]||1!=j||(t.s=s.s),t)},P.multipliedBy=P.times=function(t,e){var r,i,n,s,o,a,u,f,l,b,g,m,y,v,_,w=this,E=w.c,A=(t=new F(t,e)).c;if(!(E&&A&&E[0]&&A[0]))return!w.s||!t.s||E&&!E[0]&&!A||A&&!A[0]&&!E?t.c=t.e=t.s=null:(t.s*=w.s,E&&A?(t.c=[0],t.e=0):t.c=t.e=null),t;for(i=p(w.e/h)+p(t.e/h),t.s*=w.s,(u=E.length)<(b=A.length)&&(y=E,E=A,A=y,n=u,u=b,b=n),n=u+b,y=[];n--;y.push(0));for(v=c,_=d,n=b;--n>=0;){for(r=0,g=A[n]%_,m=A[n]/_|0,s=n+(o=u);s>n;)r=((f=g*(f=E[--o]%_)+(a=m*f+(l=E[o]/_|0)*g)%_*_+y[s]+r)/v|0)+(a/_|0)+m*l,y[s--]=f%v;y[s]=r}return r?++i:y.splice(0,1),q(t,y,i)},P.negated=function(){var t=new F(this);return t.s=-t.s||null,t},P.plus=function(t,e){var r,i=this,n=i.s;if(e=(t=new F(t,e)).s,!n||!e)return new F(NaN);if(n!=e)return t.s=-e,i.minus(t);var s=i.e/h,o=t.e/h,a=i.c,u=t.c;if(!s||!o){if(!a||!u)return new F(n/0);if(!a[0]||!u[0])return u[0]?t:new F(a[0]?i:0*n)}if(s=p(s),o=p(o),a=a.slice(),n=s-o){for(n>0?(o=s,r=u):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=n),n=0;e;)n=(a[--e]=a[e]+u[e]+n)/c|0,a[e]=c===a[e]?0:a[e]%c;return n&&(a=[n].concat(a),++o),q(t,a,o)},P.precision=P.sd=function(t,e){var r,i,n,s=this;if(null!=t&&t!==!!t)return m(t,1,l),null==e?e=k:m(e,0,8),Z(new F(s),t,e);if(!(r=s.c))return null;if(i=(n=r.length-1)*h+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return t&&s.e+1>i&&(i=s.e+1),i},P.shiftedBy=function(t){return m(t,-9007199254740991,u),this.times("1e"+t)},P.squareRoot=P.sqrt=function(){var t,e,i,n,s,o=this,a=o.c,c=o.s,h=o.e,u=M+4,f=new F("0.5");if(1!==c||!a||!a[0])return new F(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+X(o)))||c==1/0?(((e=b(a)).length+h)%2==0&&(e+="0"),c=Math.sqrt(+e),h=p((h+1)/2)-(h<0||h%2),i=new F(e=c==1/0?"5e"+h:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+h)):i=new F(c+""),i.c[0])for((c=(h=i.e)+u)<3&&(c=0);;)if(s=i,i=f.times(s.plus(r(o,s,u,1))),b(s.c).slice(0,c)===(e=b(i.c)).slice(0,c)){if(i.e<h&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(n||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Z(i,i.e+M+2,1),t=!i.times(i).eq(o));break}if(!n&&(Z(s,s.e+M+2,0),s.times(s).eq(o))){i=s;break}u+=4,c+=4,n=1}return Z(i,i.e+M+1,k,t)},P.toExponential=function(t,e){return null!=t&&(m(t,0,l),t++),V(this,t,e,1)},P.toFixed=function(t,e){return null!=t&&(m(t,0,l),t=t+this.e+1),V(this,t,e)},P.toFormat=function(t,e,r){var i,n=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=K;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(i=n.toFixed(t,e),n.c){var s,a=i.split("."),c=+r.groupSize,h=+r.secondaryGroupSize,u=r.groupSeparator||"",f=a[0],d=a[1],l=n.s<0,p=l?f.slice(1):f,b=p.length;if(h&&(s=c,c=h,h=s,b-=s),c>0&&b>0){for(s=b%c||c,f=p.substr(0,s);s<b;s+=c)f+=u+p.substr(s,c);h>0&&(f+=u+p.slice(s)),l&&(f="-"+f)}i=d?f+(r.decimalSeparator||"")+((h=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):f}return(r.prefix||"")+i+(r.suffix||"")},P.toFraction=function(t){var e,i,n,s,a,c,u,d,l,p,g,m,y=this,v=y.c;if(null!=t&&(!(u=new F(t)).isInteger()&&(u.c||1!==u.s)||u.lt(L)))throw Error(o+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+X(u));if(!v)return new F(y);for(e=new F(L),l=i=new F(L),n=d=new F(L),m=b(v),a=e.e=m.length-y.e-1,e.c[0]=f[(c=a%h)<0?h+c:c],t=!t||u.comparedTo(e)>0?a>0?e:l:u,c=B,B=1/0,u=new F(m),d.c[0]=0;p=r(u,e,0,1),1!=(s=i.plus(p.times(n))).comparedTo(t);)i=n,n=s,l=d.plus(p.times(s=l)),d=s,e=u.minus(p.times(s=e)),u=s;return s=r(t.minus(i),n,0,1),d=d.plus(s.times(l)),i=i.plus(s.times(n)),d.s=l.s=y.s,g=r(l,n,a*=2,k).minus(y).abs().comparedTo(r(d,i,a,k).minus(y).abs())<1?[l,n]:[d,i],B=c,g},P.toNumber=function(){return+X(this)},P.toPrecision=function(t,e){return null!=t&&m(t,1,l),V(this,t,e,2)},P.toString=function(t){var e,r=this,i=r.s,n=r.e;return null===n?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=n<=N||n>=C?v(b(r.c),n):_(b(r.c),n,"0"):10===t&&G?e=_(b((r=Z(new F(r),M+n+1,k)).c),r.e,"0"):(m(t,2,$.length,"Base"),e=w(_(b(r.c),n,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},P.valueOf=P.toJSON=function(){return X(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,null!=e&&F.set(e),F}();const E=w},80312:t=>{"use strict";t.exports={i8:"6.5.4"}}}]);